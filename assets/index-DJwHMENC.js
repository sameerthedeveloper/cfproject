(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ff={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function bT(){if(Ry)return Yl;Ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var wy;function RT(){return wy||(wy=1,Ff.exports=bT()),Ff.exports}var O=RT(),Yf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function wT(){if(Cy)return Rt;Cy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,G={};function H(I,nt,ot){this.props=I,this.context=nt,this.refs=G,this.updater=ot||U}H.prototype.isReactComponent={},H.prototype.setState=function(I,nt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,nt,"setState")},H.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=H.prototype;function K(I,nt,ot){this.props=I,this.context=nt,this.refs=G,this.updater=ot||U}var et=K.prototype=new D;et.constructor=K,x(et,H.prototype),et.isPureReactComponent=!0;var lt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function L(I,nt,ot,rt,pt,Dt){return ot=Dt.ref,{$$typeof:a,type:I,key:nt,ref:ot!==void 0?ot:null,props:Dt}}function R(I,nt){return L(I.type,nt,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function M(I){var nt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ot){return nt[ot]})}var P=/\/+/g;function B(I,nt){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):nt.toString(36)}function N(){}function Me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(N,N):(I.status="pending",I.then(function(nt){I.status==="pending"&&(I.status="fulfilled",I.value=nt)},function(nt){I.status==="pending"&&(I.status="rejected",I.reason=nt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function se(I,nt,ot,rt,pt){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var Tt=!1;if(I===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(I.$$typeof){case a:case e:Tt=!0;break;case E:return Tt=I._init,se(Tt(I._payload),nt,ot,rt,pt)}}if(Tt)return pt=pt(I),Tt=rt===""?"."+B(I,0):rt,lt(pt)?(ot="",Tt!=null&&(ot=Tt.replace(P,"$&/")+"/"),se(pt,nt,ot,"",function(jn){return jn})):pt!=null&&(w(pt)&&(pt=R(pt,ot+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(P,"$&/")+"/")+Tt)),nt.push(pt)),1;Tt=0;var Ce=rt===""?".":rt+":";if(lt(I))for(var Zt=0;Zt<I.length;Zt++)rt=I[Zt],Dt=Ce+B(rt,Zt),Tt+=se(rt,nt,ot,Dt,pt);else if(Zt=A(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(rt=I.next()).done;)rt=rt.value,Dt=Ce+B(rt,Zt++),Tt+=se(rt,nt,ot,Dt,pt);else if(Dt==="object"){if(typeof I.then=="function")return se(Me(I),nt,ot,rt,pt);throw nt=String(I),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function $(I,nt,ot){if(I==null)return I;var rt=[],pt=0;return se(I,rt,"","",function(Dt){return nt.call(ot,Dt,pt++)}),rt}function st(I){if(I._status===-1){var nt=I._result;nt=nt(),nt.then(function(ot){(I._status===0||I._status===-1)&&(I._status=1,I._result=ot)},function(ot){(I._status===0||I._status===-1)&&(I._status=2,I._result=ot)}),I._status===-1&&(I._status=0,I._result=nt)}if(I._status===1)return I._result.default;throw I._result}var mt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Bt(){}return Rt.Children={map:$,forEach:function(I,nt,ot){$(I,function(){nt.apply(this,arguments)},ot)},count:function(I){var nt=0;return $(I,function(){nt++}),nt},toArray:function(I){return $(I,function(nt){return nt})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=H,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=K,Rt.StrictMode=s,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ut.H.useMemoCache(I)}},Rt.cache=function(I){return function(){return I.apply(null,arguments)}},Rt.cloneElement=function(I,nt,ot){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var rt=x({},I.props),pt=I.key,Dt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(pt=""+nt.key),nt)!St.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(rt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=ot;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];rt.children=Ce}return L(I.type,pt,void 0,void 0,Dt,rt)},Rt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Rt.createElement=function(I,nt,ot){var rt,pt={},Dt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Dt=""+nt.key),nt)St.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=nt[rt]);var Tt=arguments.length-2;if(Tt===1)pt.children=ot;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];pt.children=Ce}if(I&&I.defaultProps)for(rt in Tt=I.defaultProps,Tt)pt[rt]===void 0&&(pt[rt]=Tt[rt]);return L(I,Dt,void 0,void 0,null,pt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:p,render:I}},Rt.isValidElement=w,Rt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:st}},Rt.memo=function(I,nt){return{$$typeof:y,type:I,compare:nt===void 0?null:nt}},Rt.startTransition=function(I){var nt=ut.T,ot={};ut.T=ot;try{var rt=I(),pt=ut.S;pt!==null&&pt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Bt,mt)}catch(Dt){mt(Dt)}finally{ut.T=nt}},Rt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Rt.use=function(I){return ut.H.use(I)},Rt.useActionState=function(I,nt,ot){return ut.H.useActionState(I,nt,ot)},Rt.useCallback=function(I,nt){return ut.H.useCallback(I,nt)},Rt.useContext=function(I){return ut.H.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I,nt){return ut.H.useDeferredValue(I,nt)},Rt.useEffect=function(I,nt,ot){var rt=ut.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(I,nt)},Rt.useId=function(){return ut.H.useId()},Rt.useImperativeHandle=function(I,nt,ot){return ut.H.useImperativeHandle(I,nt,ot)},Rt.useInsertionEffect=function(I,nt){return ut.H.useInsertionEffect(I,nt)},Rt.useLayoutEffect=function(I,nt){return ut.H.useLayoutEffect(I,nt)},Rt.useMemo=function(I,nt){return ut.H.useMemo(I,nt)},Rt.useOptimistic=function(I,nt){return ut.H.useOptimistic(I,nt)},Rt.useReducer=function(I,nt,ot){return ut.H.useReducer(I,nt,ot)},Rt.useRef=function(I){return ut.H.useRef(I)},Rt.useState=function(I){return ut.H.useState(I)},Rt.useSyncExternalStore=function(I,nt,ot){return ut.H.useSyncExternalStore(I,nt,ot)},Rt.useTransition=function(){return ut.H.useTransition()},Rt.version="19.1.0",Rt}var Dy;function xd(){return Dy||(Dy=1,Yf.exports=wT()),Yf.exports}var Q=xd(),Qf={exports:{}},Ql={},Xf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function CT(){return Ny||(Ny=1,function(a){function e($,st){var mt=$.length;$.push(st);t:for(;0<mt;){var Bt=mt-1>>>1,I=$[Bt];if(0<o(I,st))$[Bt]=st,$[mt]=I,mt=Bt;else break t}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var st=$[0],mt=$.pop();if(mt!==st){$[0]=mt;t:for(var Bt=0,I=$.length,nt=I>>>1;Bt<nt;){var ot=2*(Bt+1)-1,rt=$[ot],pt=ot+1,Dt=$[pt];if(0>o(rt,mt))pt<I&&0>o(Dt,rt)?($[Bt]=Dt,$[pt]=mt,Bt=pt):($[Bt]=rt,$[ot]=mt,Bt=ot);else if(pt<I&&0>o(Dt,mt))$[Bt]=Dt,$[pt]=mt,Bt=pt;else break t}}return st}function o($,st){var mt=$.sortIndex-st.sortIndex;return mt!==0?mt:$.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,b=null,A=3,U=!1,x=!1,G=!1,H=!1,D=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function lt($){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=$)s(y),st.sortIndex=st.expirationTime,e(g,st);else break;st=i(y)}}function ut($){if(G=!1,lt($),!x)if(i(g)!==null)x=!0,St||(St=!0,B());else{var st=i(y);st!==null&&se(ut,st.startTime-$)}}var St=!1,L=-1,R=5,w=-1;function M(){return H?!0:!(a.unstable_now()-w<R)}function P(){if(H=!1,St){var $=a.unstable_now();w=$;var st=!0;try{t:{x=!1,G&&(G=!1,K(L),L=-1),U=!0;var mt=A;try{e:{for(lt($),b=i(g);b!==null&&!(b.expirationTime>$&&M());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,A=b.priorityLevel;var I=Bt(b.expirationTime<=$);if($=a.unstable_now(),typeof I=="function"){b.callback=I,lt($),st=!0;break e}b===i(g)&&s(g),lt($)}else s(g);b=i(g)}if(b!==null)st=!0;else{var nt=i(y);nt!==null&&se(ut,nt.startTime-$),st=!1}}break t}finally{b=null,A=mt,U=!1}st=void 0}}finally{st?B():St=!1}}}var B;if(typeof et=="function")B=function(){et(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Me=N.port2;N.port1.onmessage=P,B=function(){Me.postMessage(null)}}else B=function(){D(P,0)};function se($,st){L=D(function(){$(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function($){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var mt=A;A=st;try{return $()}finally{A=mt}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var mt=A;A=$;try{return st()}finally{A=mt}},a.unstable_scheduleCallback=function($,st,mt){var Bt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=mt+I,$={id:E++,callback:st,priorityLevel:$,startTime:mt,expirationTime:I,sortIndex:-1},mt>Bt?($.sortIndex=mt,e(y,$),i(g)===null&&$===i(y)&&(G?(K(L),L=-1):G=!0,se(ut,mt-Bt))):($.sortIndex=I,e(g,$),x||U||(x=!0,St||(St=!0,B()))),$},a.unstable_shouldYield=M,a.unstable_wrapCallback=function($){var st=A;return function(){var mt=A;A=st;try{return $.apply(this,arguments)}finally{A=mt}}}}(Kf)),Kf}var xy;function DT(){return xy||(xy=1,Xf.exports=CT()),Xf.exports}var $f={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function NT(){if(Oy)return Qe;Oy=1;var a=xd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Qe.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var Iy;function xT(){if(Iy)return $f.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),$f.exports=NT(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function OT(){if(Vy)return Ql;Vy=1;var a=DT(),e=xd(),i=xT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===r){_=!0,r=h,l=f;break}if(T===l){_=!0,l=h,r=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===r){_=!0,r=f,l=h;break}if(T===l){_=!0,l=f,r=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),et=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case H:return"Profiler";case G:return"StrictMode";case ut:return"Suspense";case St:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case et:return(t.displayName||"Context")+".Provider";case K:return(t._context.displayName||"Context")+".Consumer";case lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var se=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],I=-1;function nt(t){return{current:t}}function ot(t){0>I||(t.current=Bt[I],Bt[I]=null,I--)}function rt(t,n){I++,Bt[I]=t.current,t.current=n}var pt=nt(null),Dt=nt(null),Tt=nt(null),Ce=nt(null);function Zt(t,n){switch(rt(Tt,n),rt(Dt,t),rt(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wg(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(pt),rt(pt,t)}function jn(){ot(pt),ot(Dt),ot(Tt)}function Hi(t){t.memoizedState!==null&&rt(Ce,t);var n=pt.current,r=ty(n,t.type);n!==r&&(rt(Dt,t),rt(pt,r))}function hi(t){Dt.current===t&&(ot(pt),ot(Dt)),Ce.current===t&&(ot(Ce),kl._currentValue=mt)}var Mr=Object.prototype.hasOwnProperty,Ur=a.unstable_scheduleCallback,Lr=a.unstable_cancelCallback,js=a.unstable_shouldYield,bo=a.unstable_requestPaint,gn=a.unstable_now,Gc=a.unstable_getCurrentPriorityLevel,Bs=a.unstable_ImmediatePriority,wa=a.unstable_UserBlockingPriority,Pr=a.unstable_NormalPriority,Fc=a.unstable_LowPriority,Ca=a.unstable_IdlePriority,zs=a.log,Ro=a.unstable_setDisableYieldValue,le=null,Ht=null;function ln(t){if(typeof zs=="function"&&Ro(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var Fe=Math.clz32?Math.clz32:jr,wo=Math.log,Yc=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(wo(t)/Yc|0)|0}var Br=256,zr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=On(l):(_&=T,_!==0?h=On(_):r||(r=T&~t,r!==0&&(h=On(r))))):(T=l&~f,T!==0?h=On(T):_!==0?h=On(_):r||(r=l&~t,r!==0&&(h=On(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function kr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ks(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(){var t=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),t}function Hs(){var t=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),t}function fi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gs(t,n,r,l,h,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-Fe(r),W=1<<Z;T[Z]=0,C[Z]=-1;var F=q[Z];if(F!==null)for(q[Z]=null,Z=0;Z<F.length;Z++){var Y=F[Z];Y!==null&&(Y.lane&=-536870913)}r&=~W}l!==0&&Bn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Bn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Fs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function Co(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,yn="__reactContainer$"+ee,Ys="__reactEvents$"+ee,Qc="__reactListeners$"+ee,Yi="__reactHandles$"+ee,Do="__reactResources$"+ee,qr="__reactMarker$"+ee;function Qi(t){delete t[Ee],delete t[me],delete t[Ys],delete t[Qc],delete t[Yi]}function mi(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ry(t);t!==null;){if(r=t[Ee])return r;t=ry(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Ee]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Je(t){var n=t[Do];return n||(n=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[qr]=!0}var Qs=new Set,xa={};function In(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(xa[t]=n,t=0;t<n.length;t++)Qs.add(n[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Hr={};function Oo(t){return Mr.call(Hr,t)?!0:Mr.call(xo,t)?!1:No.test(t)?Hr[t]=!0:(xo[t]=!0,!1)}function Xi(t,n,r){if(Oo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Gr,Io;function gi(t){if(Gr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Io=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+t+Io}var Oa=!1;function Ia(t,n){if(!t||Oa)return"";Oa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){F=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var C=_.split(`
`),q=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?gi(r):""}function Xs(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Ia(t.type,!1);case 11:return Ia(t.type.render,!1);case 1:return Ia(t.type,!0);case 31:return gi("Activity");default:return""}}function Va(t){try{var n="";do n+=Xs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xc(t){var n=Ks(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ma(t){t._valueTracker||(t._valueTracker=Xc(t))}function $s(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kc=/[\n"\\]/g;function pe(t){return t.replace(Kc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,r,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+We(n)):t.value!==""+We(n)&&(t.value=""+We(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ki(t,_,We(n)):r!=null?Ki(t,_,We(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+We(T):t.removeAttribute("name")}function Yr(t,n,r,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+We(r):"",n=n!=null?""+We(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ki(t,n,r){n==="number"&&Fr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function yi(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+We(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yt(t,n,r){if(n!=null&&(n=""+We(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+We(r):""}function Qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=We(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Xr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Zs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Vo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function Js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(t){return Zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,Ei=null;function Ws(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(on(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[me]||null;if(!h)throw Error(s(90));on(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&$s(l)}break t;case"textarea":Yt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yi(t,!!r.multiple,n,!1)}}}var Hn=!1;function Mo(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(_i!==null||Ei!==null)&&(Cu(),_i&&(n=_i,t=Ei,Ei=_i=null,Ws(n),t)))for(n=0;n<t.length;n++)Ws(t[n])}}function Kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Vn)try{var $r={};Object.defineProperty($r,"passive",{get:function(){En=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{En=!1}var Gn=null,$i=null,Ti=null;function tl(){if(Ti)return Ti;var t,n=$i,r=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===h[f-l];l++);return Ti=h.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function el(){return!1}function De(t){function n(r,l,h,f,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:el,this.isPropagationStopped=el,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=De(kt),Zr=E({},kt,{view:0,detail:0}),Uo=De(Zr),Pa,ja,Qn,Jr=E({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Pa=t.screenX-Qn.screenX,ja=t.screenY-Qn.screenY):ja=Pa=0,Qn=t),Pa)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),Tn=De(Jr),Lo=E({},Jr,{dataTransfer:0}),Jc=De(Lo),Wr=E({},Zr,{relatedTarget:0}),Ba=De(Wr),nl=E({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),za=De(nl),Po=E({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=De(Po),Wc=E({},kt,{data:0}),il=De(Wc),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function ea(){return rl}var zo=E({},Zr,{key:function(t){if(t.key){var n=ta[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qa=De(zo),ko=E({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=De(ko),Si=E({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),qo=De(Si),Ho=E({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Go=De(Ho),Fo=E({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=De(Fo),tn=E({},kt,{newState:0,oldState:0}),Yo=De(tn),Qo=[9,13,27,32],Xn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,v=Vn&&(!Xn||u&&8<u&&11>=u),S=" ",z=!1;function X(t,n){switch(t){case"keyup":return Qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Te(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(z=!0,S);case"textInput":return t=n.data,t===S&&z?null:t;default:return null}}function Mt(t,n){if(Vt)return t==="compositionend"||!Xn&&X(t,n)?(t=tl(),Ti=$i=Gn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function Ai(t,n,r,l){_i?Ei?Ei.push(l):Ei=[l]:_i=l,n=Vu(n,"onChange"),0<n.length&&(r=new La("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Kn=null;function sl(t){Xg(t,0)}function Xo(t){var n=kn(t);if($s(n))return t}function pm(t,n){if(t==="change")return n}var gm=!1;if(Vn){var th;if(Vn){var eh="oninput"in document;if(!eh){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),eh=typeof ym.oninput=="function"}th=eh}else th=!1;gm=th&&(!document.documentMode||9<document.documentMode)}function vm(){Le&&(Le.detachEvent("onpropertychange",_m),Kn=Le=null)}function _m(t){if(t.propertyName==="value"&&Xo(Kn)){var n=[];Ai(n,Kn,t,_n(t)),Mo(sl,n)}}function tE(t,n,r){t==="focusin"?(vm(),Le=n,Kn=r,Le.attachEvent("onpropertychange",_m)):t==="focusout"&&vm()}function eE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(Kn)}function nE(t,n){if(t==="click")return Xo(n)}function iE(t,n){if(t==="input"||t==="change")return Xo(n)}function rE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:rE;function ll(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Mr.call(n,h)||!un(t[h],n[h]))return!1}return!0}function Em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var r=Em(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Em(r)}}function Sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Fr(t.document)}return n}function nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var aE=Vn&&"documentMode"in document&&11>=document.documentMode,Ga=null,ih=null,ol=null,rh=!1;function bm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rh||Ga==null||Ga!==Fr(l)||(l=Ga,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ll(ol,l)||(ol=l,l=Vu(ih,"onSelect"),0<l.length&&(n=new La("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ga)))}function na(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Fa={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},ah={},Rm={};Vn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function ia(t){if(ah[t])return ah[t];if(!Fa[t])return t;var n=Fa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rm)return ah[t]=n[r];return t}var wm=ia("animationend"),Cm=ia("animationiteration"),Dm=ia("animationstart"),sE=ia("transitionrun"),lE=ia("transitionstart"),oE=ia("transitioncancel"),Nm=ia("transitionend"),xm=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function Mn(t,n){xm.set(t,n),In(n,[t])}var Om=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var r=Om.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Va(n)},Om.set(t,n),n)}return{value:t,source:n,stack:Va(n)}}var An=[],Ya=0,lh=0;function Ko(){for(var t=Ya,n=lh=Ya=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Im(r,h,f)}}function $o(t,n,r,l){An[Ya++]=t,An[Ya++]=n,An[Ya++]=r,An[Ya++]=l,lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oh(t,n,r,l){return $o(t,n,r,l),Zo(t)}function Qa(t,n){return $o(t,null,null,n),Zo(t)}function Im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Fe(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Zo(t){if(50<Vl)throw Vl=0,pf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xa={};function uE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,r,l){return new uE(t,n,r,l)}function uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var r=t.alternate;return r===null?(r=cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Vm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jo(t,n,r,l,h,f){var _=0;if(l=t,typeof t=="function")uh(t)&&(_=1);else if(typeof t=="string")_=hT(t,r,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=cn(31,r,n,h),t.elementType=w,t.lanes=f,t;case x:return ra(r.children,h,f,n);case G:_=8,h|=24;break;case H:return t=cn(12,r,n,h|2),t.elementType=H,t.lanes=f,t;case ut:return t=cn(13,r,n,h),t.elementType=ut,t.lanes=f,t;case St:return t=cn(19,r,n,h),t.elementType=St,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:case et:_=10;break t;case K:_=9;break t;case lt:_=11;break t;case L:_=14;break t;case R:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=cn(_,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ra(t,n,r,l){return t=cn(7,t,l,n),t.lanes=r,t}function ch(t,n,r){return t=cn(6,t,null,n),t.lanes=r,t}function hh(t,n,r){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ka=[],$a=0,Wo=null,tu=0,bn=[],Rn=0,aa=null,Ri=1,wi="";function sa(t,n){Ka[$a++]=tu,Ka[$a++]=Wo,Wo=t,tu=n}function Mm(t,n,r){bn[Rn++]=Ri,bn[Rn++]=wi,bn[Rn++]=aa,aa=t;var l=Ri;t=wi;var h=32-Fe(l)-1;l&=~(1<<h),r+=1;var f=32-Fe(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-Fe(n)+h|r<<h|l,wi=f+t}else Ri=1<<f|r<<h|l,wi=t}function fh(t){t.return!==null&&(sa(t,1),Mm(t,1,0))}function dh(t){for(;t===Wo;)Wo=Ka[--$a],Ka[$a]=null,tu=Ka[--$a],Ka[$a]=null;for(;t===aa;)aa=bn[--Rn],bn[Rn]=null,wi=bn[--Rn],bn[Rn]=null,Ri=bn[--Rn],bn[Rn]=null}var en=null,oe=null,zt=!1,la=null,$n=!1,mh=Error(s(519));function oa(t){var n=Error(s(418,""));throw hl(Sn(n,t)),mh}function Um(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Ul.length;r++)Ot(Ul[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Yr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Qr(n,l.value,l.defaultValue,l.children),Ma(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Jg(n.textContent,r)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||oa(t)}function Lm(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:en=en.return}}function ul(t){if(t!==en)return!1;if(!zt)return Lm(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Of(t.type,t.memoizedProps)),r=!r),r&&oe&&oa(t),Lm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,fr(t.type)?(t=Uf,Uf=null,oe=t):oe=n):oe=en?Ln(t.stateNode.nextSibling):null;return!0}function cl(){oe=en=null,zt=!1}function Pm(){var t=la;return t!==null&&(an===null?an=t:an.push.apply(an,t),la=null),t}function hl(t){la===null?la=[t]:la.push(t)}var ph=nt(null),ua=null,Ci=null;function Zi(t,n,r){rt(ph,n._currentValue),n._currentValue=r}function Di(t){t._currentValue=ph.current,ot(ph)}function gh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),gh(f.return,r,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),gh(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function fl(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return jm(ua,t)}function nu(t,n){return ua===null&&ca(t),jm(t,n)}function jm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return r}var cE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},hE=a.unstable_scheduleCallback,fE=a.unstable_NormalPriority,Ae={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new cE,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&hE(fE,function(){t.controller.abort()})}var ml=null,_h=0,Za=0,Ja=null;function dE(t,n){if(ml===null){var r=ml=[];_h=0,Za=Sf(),Ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return _h++,n.then(Bm,Bm),n}function Bm(){if(--_h===0&&ml!==null){Ja!==null&&(Ja.status="fulfilled");var t=ml;ml=null,Za=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var zm=$.S;$.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&dE(t,n),zm!==null&&zm(t,n)};var ha=nt(null);function Eh(){var t=ha.current;return t!==null?t:Jt.pooledCache}function iu(t,n){n===null?rt(ha,ha.current):rt(ha,n.pool)}function km(){var t=Eh();return t===null?null:{parent:Ae._currentValue,pool:t}}var pl=Error(s(460)),qm=Error(s(474)),ru=Error(s(542)),Th={then:function(){}};function Hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function au(){}function Gm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(au,au),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t;default:if(typeof n.status=="string")n.then(au,au);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t}throw gl=n,pl}}var gl=null;function Fm(){if(gl===null)throw Error(s(459));var t=gl;return gl=null,t}function Ym(t){if(t===pl||t===ru)throw Error(s(483))}var Ji=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Zo(t),Im(t,null,r),n}return $o(t,l,n,r),Zo(t)}function yl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fs(t,r)}}function bh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Rh=!1;function vl(){if(Rh){var t=Ja;if(t!==null)throw t}}function _l(t,n,r,l){Rh=!1;var h=t.updateQueue;Ji=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,q=C.next;C.next=null,_===null?f=q:_.next=q,_=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;_=0,Z=q=C=null,T=f;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(Ut&F)===F:(l&F)===F){F!==0&&F===Za&&(Rh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,yt=T;F=n;var Kt=r;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){W=Et.call(Kt,W,F);break t}W=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,F=typeof Et=="function"?Et.call(Kt,W,F):Et,F==null)break t;W=E({},W,F);break t;case 2:Ji=!0}}F=T.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=Y,C=W):Z=Z.next=Y,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(C=W),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),or|=_,t.lanes=_,t.memoizedState=W}}function Qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Xm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qm(r[t],n)}var Wa=nt(null),su=nt(0);function Km(t,n){t=Ui,rt(su,t),rt(Wa,n),Ui=t|n.baseLanes}function wh(){rt(su,Ui),rt(Wa,Wa.current)}function Ch(){Ui=su.current,ot(Wa),ot(su)}var er=0,wt=null,Qt=null,ge=null,lu=!1,ts=!1,fa=!1,ou=0,El=0,es=null,pE=0;function he(){throw Error(s(321))}function Dh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!un(t[r],n[r]))return!1;return!0}function Nh(t,n,r,l,h,f){return er=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?Ip:Vp,fa=!1,f=r(l,h),fa=!1,ts&&(f=Zm(n,r,l,h)),$m(t),f}function $m(t){$.H=mu;var n=Qt!==null&&Qt.next!==null;if(er=0,ge=Qt=wt=null,lu=!1,El=0,es=null,n)throw Error(s(300));t===null||xe||(t=t.dependencies,t!==null&&eu(t)&&(xe=!0))}function Zm(t,n,r,l){wt=t;var h=0;do{if(ts&&(es=null),El=0,ts=!1,25<=h)throw Error(s(301));if(h+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=SE,f=n(r,l)}while(ts);return f}function gE(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(wt.flags|=1024),n}function xh(){var t=ou!==0;return ou=0,t}function Oh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ih(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}er=0,ge=Qt=wt=null,ts=!1,El=ou=0,es=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function ye(){if(Qt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var n=El;return El+=1,es===null&&(es=[]),t=Gm(es,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Ip:Vp),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===et)return Ye(t)}throw Error(s(438,String(t)))}function Mh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Ni(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=ye();return Uh(n,Qt,t)}function Uh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,C=null,q=n,Z=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Ut&W)===W:(er&W)===W){var F=q.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Za&&(Z=!0);else if((er&F)===F){q=q.next,F===Za&&(Z=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=W,_=f):C=C.next=W,wt.lanes|=F,or|=F;W=q.action,fa&&r(f,W),f=q.hasEagerState?q.eagerState:r(f,W)}else F={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=F,_=f):C=C.next=F,wt.lanes|=W,or|=W;q=q.next}while(q!==null&&q!==n);if(C===null?_=f:C.next=T,!un(f,t.memoizedState)&&(xe=!0,Z&&(r=Ja,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);un(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Jm(t,n,r){var l=wt,h=ye(),f=zt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!un((Qt||h).memoizedState,r);_&&(h.memoizedState=r,xe=!0),h=h.queue;var T=ep.bind(null,l,h,t);if(Sl(2048,8,T,[t]),h.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,ns(9,hu(),tp.bind(null,l,h,r,n),null),Jt===null)throw Error(s(349));f||(er&124)!==0||Wm(l,n,r)}return r}function Wm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Vh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function tp(t,n,r,l){n.value=r,n.getSnapshot=l,np(n)&&ip(t)}function ep(t,n,r){return r(function(){np(n)&&ip(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!un(t,r)}catch{return!0}}function ip(t){var n=Qa(t,2);n!==null&&pn(n,t,2)}function Ph(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),fa){ln(!0);try{r()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function rp(t,n,r,l){return t.baseState=r,Uh(t,Qt,typeof l=="function"?l:Ni)}function yE(t,n,r,l,h){if(du(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};$.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ap(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ap(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=$.T,_={};$.T=_;try{var T=r(h,l),C=$.S;C!==null&&C(_,T),sp(t,n,T)}catch(q){jh(t,n,q)}finally{$.T=f}}else try{f=r(h,l),sp(t,n,f)}catch(q){jh(t,n,q)}}function sp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){lp(t,n,l)},function(l){return jh(t,n,l)}):lp(t,n,r)}function lp(t,n,r){n.status="fulfilled",n.value=r,op(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ap(t,r)))}function jh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,op(n),n=n.next;while(n!==l)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function cp(t,n){if(zt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(zt){if(oe){e:{for(var h=oe,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Ln(h.nextSibling),l=h.data==="F!";break t}}oa(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},r.queue=l,r=Np.bind(null,wt,l),l.dispatch=r,l=Ph(!1),f=Hh.bind(null,wt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=yE.bind(null,wt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function hp(t){var n=ye();return fp(n,Qt,t)}function fp(t,n,r){if(n=Uh(t,n,up)[0],t=cu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Tl(n)}catch(_){throw _===pl?ru:_}else l=n;n=ye();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,ns(9,hu(),vE.bind(null,h,r),null)),[l,f,t]}function vE(t,n){t.action=n}function dp(t){var n=ye(),r=Qt;if(r!==null)return fp(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ns(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Vh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function hu(){return{destroy:void 0,resource:void 0}}function mp(){return ye().memoizedState}function fu(t,n,r,l){var h=nn();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=ns(1|n,hu(),r,l)}function Sl(t,n,r,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&Dh(l,Qt.memoizedState.deps)?h.memoizedState=ns(n,f,r,l):(wt.flags|=t,h.memoizedState=ns(1|n,f,r,l))}function pp(t,n){fu(8390656,8,t,n)}function gp(t,n){Sl(2048,8,t,n)}function yp(t,n){return Sl(4,2,t,n)}function vp(t,n){return Sl(4,4,t,n)}function _p(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ep(t,n,r){r=r!=null?r.concat([t]):null,Sl(4,4,_p.bind(null,n,t),r)}function Bh(){}function Tp(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Dh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Sp(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Dh(n,l[1]))return l[0];if(l=t(),fa){ln(!0);try{t()}finally{ln(!1)}}return r.memoizedState=[l,n],l}function zh(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Rg(),wt.lanes|=t,or|=t,r)}function Ap(t,n,r,l){return un(r,n)?r:Wa.current!==null?(t=zh(t,r,l),un(t,n)||(xe=!0),t):(er&42)===0?(xe=!0,t.memoizedState=r):(t=Rg(),wt.lanes|=t,or|=t,n)}function bp(t,n,r,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var _=$.T,T={};$.T=T,Hh(t,!1,n,r);try{var C=h(),q=$.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=mE(C,l);Al(t,n,Z,mn(t))}else Al(t,n,l,mn(t))}catch(W){Al(t,n,{then:function(){},status:"rejected",reason:W},mn())}finally{st.p=f,$.T=_}}function _E(){}function kh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Rp(t).queue;bp(t,h,n,mt,r===null?_E:function(){return wp(t),r(l)})}function Rp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wp(t){var n=Rp(t).next.queue;Al(t,n,{},mn())}function qh(){return Ye(kl)}function Cp(){return ye().memoizedState}function Dp(){return ye().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=mn();t=Wi(r);var l=tr(n,t,r);l!==null&&(pn(l,n,r),yl(l,n,r)),n={cache:vh()},t.payload=n;return}n=n.return}}function TE(t,n,r){var l=mn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},du(t)?xp(n,r):(r=oh(t,n,r,l),r!==null&&(pn(r,t,l),Op(r,n,l)))}function Np(t,n,r){var l=mn();Al(t,n,r,l)}function Al(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(du(t))xp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,r);if(h.hasEagerState=!0,h.eagerState=T,un(T,_))return $o(t,n,h,0),Jt===null&&Ko(),!1}catch{}finally{}if(r=oh(t,n,h,l),r!==null)return pn(r,t,l),Op(r,n,l),!0}return!1}function Hh(t,n,r,l){if(l={lane:2,revertLane:Sf(),action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(s(479))}else n=oh(t,r,l,2),n!==null&&pn(n,t,2)}function du(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function xp(t,n){ts=lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Op(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fs(t,r)}}var mu={readContext:Ye,use:uu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Ip={readContext:Ye,use:uu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:pp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,fu(4194308,4,_p.bind(null,n,t),r)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(fa){ln(!0);try{t()}finally{ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var h=r(n);if(fa){ln(!0);try{r(n)}finally{ln(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ph(t);var n=t.queue,r=Np.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Bh,useDeferredValue:function(t,n){var r=nn();return zh(r,t,n)},useTransition:function(){var t=Ph(!1);return t=bp.bind(null,wt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,h=nn();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||Wm(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,pp(ep.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,hu(),tp.bind(null,l,f,r,n),null),r},useId:function(){var t=nn(),n=Jt.identifierPrefix;if(zt){var r=wi,l=Ri;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=ou++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=pE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:qh,useFormState:cp,useActionState:cp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Hh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Mh,useCacheRefresh:function(){return nn().memoizedState=EE.bind(null,wt)}},Vp={readContext:Ye,use:uu,useCallback:Tp,useContext:Ye,useEffect:gp,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:cu,useRef:mp,useState:function(){return cu(Ni)},useDebugValue:Bh,useDeferredValue:function(t,n){var r=ye();return Ap(r,Qt.memoizedState,t,n)},useTransition:function(){var t=cu(Ni)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:Jm,useId:Cp,useHostTransitionStatus:qh,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var r=ye();return rp(r,Qt,t,n)},useMemoCache:Mh,useCacheRefresh:Dp},SE={readContext:Ye,use:uu,useCallback:Tp,useContext:Ye,useEffect:gp,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:Lh,useRef:mp,useState:function(){return Lh(Ni)},useDebugValue:Bh,useDeferredValue:function(t,n){var r=ye();return Qt===null?zh(r,t,n):Ap(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Lh(Ni)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:Jm,useId:Cp,useHostTransitionStatus:qh,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var r=ye();return Qt!==null?rp(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:Dp},is=null,bl=0;function pu(t){var n=bl;return bl+=1,is===null&&(is=[]),Gm(is,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function gu(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mp(t){var n=t._init;return n(t._payload)}function Up(t){function n(j,V){if(t){var k=j.deletions;k===null?(j.deletions=[V],j.flags|=16):k.push(V)}}function r(j,V){if(!t)return null;for(;V!==null;)n(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=bi(j,V),j.index=0,j.sibling=null,j}function f(j,V,k){return j.index=k,t?(k=j.alternate,k!==null?(k=k.index,k<V?(j.flags|=67108866,V):k):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,V,k,J){return V===null||V.tag!==6?(V=ch(k,j.mode,J),V.return=j,V):(V=h(V,k),V.return=j,V)}function C(j,V,k,J){var ht=k.type;return ht===x?Z(j,V,k.props.children,J,k.key):V!==null&&(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Mp(ht)===V.type)?(V=h(V,k.props),Rl(V,k),V.return=j,V):(V=Jo(k.type,k.key,k.props,null,j.mode,J),Rl(V,k),V.return=j,V)}function q(j,V,k,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=hh(k,j.mode,J),V.return=j,V):(V=h(V,k.children||[]),V.return=j,V)}function Z(j,V,k,J,ht){return V===null||V.tag!==7?(V=ra(k,j.mode,J,ht),V.return=j,V):(V=h(V,k),V.return=j,V)}function W(j,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ch(""+V,j.mode,k),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return k=Jo(V.type,V.key,V.props,null,j.mode,k),Rl(k,V),k.return=j,k;case U:return V=hh(V,j.mode,k),V.return=j,V;case R:var J=V._init;return V=J(V._payload),W(j,V,k)}if(se(V)||B(V))return V=ra(V,j.mode,k,null),V.return=j,V;if(typeof V.then=="function")return W(j,pu(V),k);if(V.$$typeof===et)return W(j,nu(j,V),k);gu(j,V)}return null}function F(j,V,k,J){var ht=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:T(j,V,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===ht?C(j,V,k,J):null;case U:return k.key===ht?q(j,V,k,J):null;case R:return ht=k._init,k=ht(k._payload),F(j,V,k,J)}if(se(k)||B(k))return ht!==null?null:Z(j,V,k,J,null);if(typeof k.then=="function")return F(j,V,pu(k),J);if(k.$$typeof===et)return F(j,V,nu(j,k),J);gu(j,k)}return null}function Y(j,V,k,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(k)||null,T(V,j,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return j=j.get(J.key===null?k:J.key)||null,C(V,j,J,ht);case U:return j=j.get(J.key===null?k:J.key)||null,q(V,j,J,ht);case R:var Nt=J._init;return J=Nt(J._payload),Y(j,V,k,J,ht)}if(se(J)||B(J))return j=j.get(k)||null,Z(V,j,J,ht,null);if(typeof J.then=="function")return Y(j,V,k,pu(J),ht);if(J.$$typeof===et)return Y(j,V,k,nu(V,J),ht);gu(V,J)}return null}function Et(j,V,k,J){for(var ht=null,Nt=null,dt=V,vt=V=0,Ie=null;dt!==null&&vt<k.length;vt++){dt.index>vt?(Ie=dt,dt=null):Ie=dt.sibling;var jt=F(j,dt,k[vt],J);if(jt===null){dt===null&&(dt=Ie);break}t&&dt&&jt.alternate===null&&n(j,dt),V=f(jt,V,vt),Nt===null?ht=jt:Nt.sibling=jt,Nt=jt,dt=Ie}if(vt===k.length)return r(j,dt),zt&&sa(j,vt),ht;if(dt===null){for(;vt<k.length;vt++)dt=W(j,k[vt],J),dt!==null&&(V=f(dt,V,vt),Nt===null?ht=dt:Nt.sibling=dt,Nt=dt);return zt&&sa(j,vt),ht}for(dt=l(dt);vt<k.length;vt++)Ie=Y(dt,j,vt,k[vt],J),Ie!==null&&(t&&Ie.alternate!==null&&dt.delete(Ie.key===null?vt:Ie.key),V=f(Ie,V,vt),Nt===null?ht=Ie:Nt.sibling=Ie,Nt=Ie);return t&&dt.forEach(function(yr){return n(j,yr)}),zt&&sa(j,vt),ht}function yt(j,V,k,J){if(k==null)throw Error(s(151));for(var ht=null,Nt=null,dt=V,vt=V=0,Ie=null,jt=k.next();dt!==null&&!jt.done;vt++,jt=k.next()){dt.index>vt?(Ie=dt,dt=null):Ie=dt.sibling;var yr=F(j,dt,jt.value,J);if(yr===null){dt===null&&(dt=Ie);break}t&&dt&&yr.alternate===null&&n(j,dt),V=f(yr,V,vt),Nt===null?ht=yr:Nt.sibling=yr,Nt=yr,dt=Ie}if(jt.done)return r(j,dt),zt&&sa(j,vt),ht;if(dt===null){for(;!jt.done;vt++,jt=k.next())jt=W(j,jt.value,J),jt!==null&&(V=f(jt,V,vt),Nt===null?ht=jt:Nt.sibling=jt,Nt=jt);return zt&&sa(j,vt),ht}for(dt=l(dt);!jt.done;vt++,jt=k.next())jt=Y(dt,j,vt,jt.value,J),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?vt:jt.key),V=f(jt,V,vt),Nt===null?ht=jt:Nt.sibling=jt,Nt=jt);return t&&dt.forEach(function(AT){return n(j,AT)}),zt&&sa(j,vt),ht}function Kt(j,V,k,J){if(typeof k=="object"&&k!==null&&k.type===x&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:t:{for(var ht=k.key;V!==null;){if(V.key===ht){if(ht=k.type,ht===x){if(V.tag===7){r(j,V.sibling),J=h(V,k.props.children),J.return=j,j=J;break t}}else if(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Mp(ht)===V.type){r(j,V.sibling),J=h(V,k.props),Rl(J,k),J.return=j,j=J;break t}r(j,V);break}else n(j,V);V=V.sibling}k.type===x?(J=ra(k.props.children,j.mode,J,k.key),J.return=j,j=J):(J=Jo(k.type,k.key,k.props,null,j.mode,J),Rl(J,k),J.return=j,j=J)}return _(j);case U:t:{for(ht=k.key;V!==null;){if(V.key===ht)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){r(j,V.sibling),J=h(V,k.children||[]),J.return=j,j=J;break t}else{r(j,V);break}else n(j,V);V=V.sibling}J=hh(k,j.mode,J),J.return=j,j=J}return _(j);case R:return ht=k._init,k=ht(k._payload),Kt(j,V,k,J)}if(se(k))return Et(j,V,k,J);if(B(k)){if(ht=B(k),typeof ht!="function")throw Error(s(150));return k=ht.call(k),yt(j,V,k,J)}if(typeof k.then=="function")return Kt(j,V,pu(k),J);if(k.$$typeof===et)return Kt(j,V,nu(j,k),J);gu(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(r(j,V.sibling),J=h(V,k),J.return=j,j=J):(r(j,V),J=ch(k,j.mode,J),J.return=j,j=J),_(j)):r(j,V)}return function(j,V,k,J){try{bl=0;var ht=Kt(j,V,k,J);return is=null,ht}catch(dt){if(dt===pl||dt===ru)throw dt;var Nt=cn(29,dt,null,j.mode);return Nt.lanes=J,Nt.return=j,Nt}finally{}}}var rs=Up(!0),Lp=Up(!1),wn=nt(null),Zn=null;function nr(t){var n=t.alternate;rt(be,be.current&1),rt(wn,t),Zn===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(Zn=t)}function Pp(t){if(t.tag===22){if(rt(be,be.current),rt(wn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else ir()}function ir(){rt(be,be.current),rt(wn,wn.current)}function xi(t){ot(wn),Zn===t&&(Zn=null),ot(be)}var be=nt(0);function yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Mf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Gh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=mn(),h=Wi(l);h.payload=n,r!=null&&(h.callback=r),n=tr(t,h,l),n!==null&&(pn(n,t,l),yl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=mn(),h=Wi(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=tr(t,h,l),n!==null&&(pn(n,t,l),yl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=mn(),l=Wi(r);l.tag=2,n!=null&&(l.callback=n),n=tr(t,l,r),n!==null&&(pn(n,t,r),yl(n,t,r))}};function jp(t,n,r,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!ll(r,l)||!ll(h,f):!0}function Bp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Fh.enqueueReplaceState(n,n.state,null)}function da(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zp(t){vu(t)}function kp(t){console.error(t)}function qp(t){vu(t)}function _u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yh(t,n,r){return r=Wi(r),r.tag=3,r.payload={element:null},r.callback=function(){_u(t,n)},r}function Gp(t){return t=Wi(t),t.tag=3,t}function Fp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Hp(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hp(n,r,l),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function AE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&fl(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Zn===null?yf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Th?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),_f(t,l,h)),!1;case 22:return r.flags|=65536,l===Th?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),_f(t,l,h)),!1}throw Error(s(435,r.tag))}return _f(t,l,h),yf(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mh&&(t=Error(s(422),{cause:l}),hl(Sn(t,r)))):(l!==mh&&(n=Error(s(423),{cause:l}),hl(Sn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,r),h=Yh(t.stateNode,l,h),bh(t,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,r),Il===null?Il=[f]:Il.push(f),ue!==4&&(ue=2),n===null)return!0;l=Sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Yh(r.stateNode,l,t),bh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Gp(h),Fp(h,t,r,l),bh(r,h),!1}r=r.return}while(r!==null);return!1}var Yp=Error(s(461)),xe=!1;function Pe(t,n,r,l){n.child=t===null?Lp(n,null,r,l):rs(n,t.child,r,l)}function Qp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ca(n),l=Nh(t,n,r,_,f,h),T=xh(),t!==null&&!xe?(Oh(t,n,h),Oi(t,n,h)):(zt&&T&&fh(n),n.flags|=1,Pe(t,n,l,h),n.child)}function Xp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kp(t,n,f,l,h)):(t=Jo(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!tf(t,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:ll,r(_,l)&&t.ref===n.ref)return Oi(t,n,h)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,tf(t,h))(t.flags&131072)!==0&&(xe=!0);else return n.lanes=t.lanes,Oi(t,n,h)}return Qh(t,n,r,l,h)}function $p(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Zp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,f!==null?f.cachePool:null),f!==null?Km(n,f):wh(),Pp(n);else return n.lanes=n.childLanes=536870912,Zp(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(iu(n,f.cachePool),Km(n,f),ir(),n.memoizedState=null):(t!==null&&iu(n,null),wh(),ir());return Pe(t,n,h,r),n.child}function Zp(t,n,r,l){var h=Eh();return h=h===null?null:{parent:Ae._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&iu(n,null),wh(),Pp(n),t!==null&&fl(t,n,l,!0),null}function Eu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Qh(t,n,r,l,h){return ca(n),r=Nh(t,n,r,l,void 0,h),l=xh(),t!==null&&!xe?(Oh(t,n,h),Oi(t,n,h)):(zt&&l&&fh(n),n.flags|=1,Pe(t,n,r,h),n.child)}function Jp(t,n,r,l,h,f){return ca(n),n.updateQueue=null,r=Zm(n,l,r,h),$m(t),l=xh(),t!==null&&!xe?(Oh(t,n,f),Oi(t,n,f)):(zt&&l&&fh(n),n.flags|=1,Pe(t,n,r,f),n.child)}function Wp(t,n,r,l,h){if(ca(n),n.stateNode===null){var f=Xa,_=r.contextType;typeof _=="object"&&_!==null&&(f=Ye(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?Ye(_):Xa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Gh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Fh.enqueueReplaceState(f,f.state,null),_l(n,l,f,h),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=da(r,T);f.props=C;var q=f.context,Z=r.contextType;_=Xa,typeof Z=="object"&&Z!==null&&(_=Ye(Z));var W=r.getDerivedStateFromProps;Z=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==_)&&Bp(n,f,l,_),Ji=!1;var F=n.memoizedState;f.state=F,_l(n,l,f,h),vl(),q=n.memoizedState,T||F!==q||Ji?(typeof W=="function"&&(Gh(n,r,W,l),q=n.memoizedState),(C=Ji||jp(n,r,C,l,F,q,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ah(t,n),_=n.memoizedProps,Z=da(r,_),f.props=Z,W=n.pendingProps,F=f.context,q=r.contextType,C=Xa,typeof q=="object"&&q!==null&&(C=Ye(q)),T=r.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||F!==C)&&Bp(n,f,l,C),Ji=!1,F=n.memoizedState,f.state=F,_l(n,l,f,h),vl();var Y=n.memoizedState;_!==W||F!==Y||Ji||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof T=="function"&&(Gh(n,r,T,l),Y=n.memoizedState),(Z=Ji||jp(n,r,Z,l,F,Y,C)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=C,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Eu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=rs(n,t.child,null,h),n.child=rs(n,null,r,h)):Pe(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Oi(t,n,h),t}function tg(t,n,r,l){return cl(),n.flags|=256,Pe(t,n,r,l),n.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(t){return{baseLanes:t,cachePool:km()}}function $h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function eg(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(h?nr(n):ir(),zt){var T=oe,C;if(C=T){t:{for(C=T,T=$n;C.nodeType!==8;){if(!T){T=null;break t}if(C=Ln(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:aa!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},C=cn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,en=n,oe=null,C=!0):C=!1}C||oa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Mf(T)?n.lanes=32:n.lanes=536870912,null;xi(n)}return T=l.children,l=l.fallback,h?(ir(),h=n.mode,T=Tu({mode:"hidden",children:T},h),l=ra(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Kh(r),h.childLanes=$h(t,_,r),n.memoizedState=Xh,l):(nr(n),Zh(n,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=Jh(t,n,r)):n.memoizedState!==null?(ir(),n.child=t.child,n.flags|=128,n=null):(ir(),h=l.fallback,T=n.mode,l=Tu({mode:"visible",children:l.children},T),h=ra(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,rs(n,t.child,null,r),l=n.child,l.memoizedState=Kh(r),l.childLanes=$h(t,_,r),n.memoizedState=Xh,n=h);else if(nr(n),Mf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),n=Jh(t,n,r)}else if(xe||fl(t,n,r,!1),_=(r&t.childLanes)!==0,xe||_){if(_=Jt,_!==null&&(l=r&-r,l=(l&42)!==0?1:Gi(l),l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Qa(t,l),pn(_,t,l),Yp;T.data==="$?"||yf(),n=Jh(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,oe=Ln(T.nextSibling),en=n,zt=!0,la=null,$n=!1,t!==null&&(bn[Rn++]=Ri,bn[Rn++]=wi,bn[Rn++]=aa,Ri=t.id,wi=t.overflow,aa=n),n=Zh(n,l.children),n.flags|=4096);return n}return h?(ir(),h=l.fallback,T=n.mode,C=t.child,q=C.sibling,l=bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=bi(q,h):(h=ra(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Kh(r):(C=T.cachePool,C!==null?(q=Ae._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=km(),T={baseLanes:T.baseLanes|r,cachePool:C}),h.memoizedState=T,h.childLanes=$h(t,_,r),n.memoizedState=Xh,l):(nr(n),r=t.child,t=r.sibling,r=bi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Zh(t,n){return n=Tu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tu(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jh(t,n,r){return rs(n,t.child,null,r),t=Zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ng(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),gh(t.return,n,r)}function Wh(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function ig(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ng(t,r,n);else if(t.tag===19)ng(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(be,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Wh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Wh(n,!0,r,null,f);break;case"together":Wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),or|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(fl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=bi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=bi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function bE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Zi(n,Ae,t.memoizedState.cache),cl();break;case 27:case 5:Hi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?eg(t,n,r):(nr(n),t=Oi(t,n,r),t!==null?t.sibling:null);nr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(fl(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ig(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,$p(t,n,r);case 24:Zi(n,Ae,t.memoizedState.cache)}return Oi(t,n,r)}function rg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!tf(t,r)&&(n.flags&128)===0)return xe=!1,bE(t,n,r);xe=(t.flags&131072)!==0}else xe=!1,zt&&(n.flags&1048576)!==0&&Mm(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")uh(l)?(t=da(l,t),n.tag=1,n=Wp(null,n,l,t,r)):(n.tag=0,n=Qh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===lt){n.tag=11,n=Qp(null,n,l,t,r);break t}else if(h===L){n.tag=14,n=Xp(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Qh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=da(l,n.pendingProps),Wp(t,n,l,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Ah(t,n),_l(n,l,null,r);var _=n.memoizedState;if(l=_.cache,Zi(n,Ae,l),l!==f.cache&&yh(n,[Ae],r,!0),vl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tg(t,n,l,r);break t}else if(l!==h){h=Sn(Error(s(424)),n),hl(h),n=tg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Ln(t.firstChild),en=n,zt=!0,la=null,$n=!0,r=Lp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(cl(),l===h){n=Oi(t,n,r);break t}Pe(t,n,l,r)}n=n.child}return n;case 26:return Eu(t,n),t===null?(r=oy(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=Uu(Tt.current).createElement(r),l[Ee]=n,l[me]=t,Be(l,r,t),ce(l),n.stateNode=l):n.memoizedState=oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hi(n),t===null&&zt&&(l=n.stateNode=ay(n.type,n.pendingProps,Tt.current),en=n,$n=!0,h=oe,fr(n.type)?(Uf=h,oe=Ln(l.firstChild)):oe=h),Pe(t,n,n.pendingProps.children,r),Eu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((h=l=oe)&&(l=JE(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,en=n,oe=Ln(l.firstChild),$n=!1,h=!0):h=!1),h||oa(n)),Hi(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Of(h,f)?l=null:_!==null&&Of(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Nh(t,n,gE,null,null,r),kl._currentValue=h),Eu(t,n),Pe(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=oe)&&(r=WE(r,n.pendingProps,$n),r!==null?(n.stateNode=r,en=n,oe=null,t=!0):t=!1),t||oa(n)),null;case 13:return eg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rs(n,null,l,r):Pe(t,n,l,r),n.child;case 11:return Qp(t,n,n.type,n.pendingProps,r);case 7:return Pe(t,n,n.pendingProps,r),n.child;case 8:return Pe(t,n,n.pendingProps.children,r),n.child;case 12:return Pe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Zi(n,n.type,l.value),Pe(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ca(n),h=Ye(h),l=l(h),n.flags|=1,Pe(t,n,l,r),n.child;case 14:return Xp(t,n,n.type,n.pendingProps,r);case 15:return Kp(t,n,n.type,n.pendingProps,r);case 19:return ig(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Tu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=bi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return $p(t,n,r);case 24:return ca(n),l=Ye(Ae),t===null?(h=Eh(),h===null&&(h=Jt,f=vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Sh(n),Zi(n,Ae,h)):((t.lanes&r)!==0&&(Ah(t,n),_l(n,null,null,r),vl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zi(n,Ae,l)):(l=f.cache,Zi(n,Ae,l),l!==h.cache&&yh(n,[Ae],r,!0))),Pe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(t){t.flags|=4}function ag(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dy(n)){if(n=wn.current,n!==null&&((Ut&4194048)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw gl=Th,qm;t.flags|=8192}}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hs():536870912,t.lanes|=n,os|=n)}function wl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function RE(t,n,r){var l=n.pendingProps;switch(dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Ae),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ul(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Ii(n),r!==null?(ie(n),ag(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ii(n),ie(n),ag(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ii(n),ie(n),n.flags&=-16777217),null;case 27:hi(n),r=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=pt.current,ul(n)?Um(n):(t=ay(h,l,r),n.stateNode=t,Ii(n))}return ie(n),null;case 5:if(hi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=pt.current,ul(n))Um(n);else{switch(h=Uu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[Ee]=n,t[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ii(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,ul(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Jg(t.nodeValue,r)),t||oa(n)}else t=Uu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ul(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Pm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Su(n,n.updateQueue),ie(n),null;case 4:return jn(),t===null&&wf(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(ot(be),h=n.memoizedState,h===null)return ie(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)wl(h,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=yu(t),f!==null){for(n.flags|=128,wl(h,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Vm(r,t),r=r.sibling;return rt(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&gn()>Ru&&(n.flags|=128,l=!0,wl(h,!1),n.lanes=4194304)}else{if(!l)if(t=yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return ie(n),null}else 2*gn()-h.renderingStartTime>Ru&&r!==536870912&&(n.flags|=128,l=!0,wl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,t=be.current,rt(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return xi(n),Ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Su(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ot(ha),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Di(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function wE(t,n){switch(dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Ae),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(xi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));cl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(be),null;case 4:return jn(),null;case 10:return Di(n.type),null;case 22:case 23:return xi(n),Ch(),t!==null&&ot(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Ae),null;case 25:return null;default:return null}}function sg(t,n){switch(dh(n),n.tag){case 3:Di(Ae),jn();break;case 26:case 27:case 5:hi(n);break;case 4:jn();break;case 13:xi(n);break;case 19:ot(be);break;case 10:Di(n.type);break;case 22:case 23:xi(n),Ch(),t!==null&&ot(ha);break;case 24:Di(Ae)}}function Cl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==h)}}catch(T){$t(n,n.return,T)}}function rr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=r,q=T;try{q()}catch(Z){$t(h,C,Z)}}}l=l.next}while(l!==f)}}catch(Z){$t(n,n.return,Z)}}function lg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Xm(n,r)}catch(l){$t(t,t.return,l)}}}function og(t,n,r){r.props=da(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Dl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){$t(t,n,h)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(t,n,h)}else r.current=null}function ug(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(t,t.return,h)}}function ef(t,n,r){try{var l=t.stateNode;QE(l,t.type,r,n),l[me]=n}catch(h){$t(t,t.return,h)}}function cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function nf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(rf(t,n,r),t=t.sibling;t!==null;)rf(t,n,r),t=t.sibling}function Au(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Au(t,n,r),t=t.sibling;t!==null;)Au(t,n,r),t=t.sibling}function hg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,l,r),n[Ee]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var Vi=!1,fe=!1,af=!1,fg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function CE(t,n){if(t=t.containerInfo,Nf=ku,t=Am(t),nh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,T=-1,C=-1,q=0,Z=0,W=t,F=null;e:for(;;){for(var Y;W!==r||h!==0&&W.nodeType!==3||(T=_+h),W!==f||l!==0&&W.nodeType!==3||(C=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===t)break e;if(F===r&&++q===h&&(T=_),F===f&&++Z===l&&(C=_),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(xf={focusedElem:t,selectionRange:r},ku=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=da(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Vf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function dg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ar(t,r),l&4&&Cl(5,r);break;case 1:if(ar(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){$t(r,r.return,_)}else{var h=da(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}l&64&&lg(r),l&512&&Dl(r,r.return);break;case 3:if(ar(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Xm(t,n)}catch(_){$t(r,r.return,_)}}break;case 27:n===null&&l&4&&hg(r);case 26:case 5:ar(t,r),n===null&&l&4&&ug(r),l&512&&Dl(r,r.return);break;case 12:ar(t,r);break;case 13:ar(t,r),l&4&&gg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=LE.bind(null,r),tT(t,r))));break;case 22:if(l=r.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||fe,h=Vi;var f=fe;Vi=l,(fe=n)&&!f?sr(t,r,(r.subtreeFlags&8772)!==0):ar(t,r),Vi=h,fe=f}break;case 30:break;default:ar(t,r)}}function mg(t){var n=t.alternate;n!==null&&(t.alternate=null,mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,rn=!1;function Mi(t,n,r){for(r=r.child;r!==null;)pg(t,n,r),r=r.sibling}function pg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||Jn(r,n),Mi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Jn(r,n);var l=ne,h=rn;fr(r.type)&&(ne=r.stateNode,rn=!1),Mi(t,n,r),Pl(r.stateNode),ne=l,rn=h;break;case 5:fe||Jn(r,n);case 6:if(l=ne,h=rn,ne=null,Mi(t,n,r),ne=l,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ne!==null&&(rn?(t=ne,iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Fl(t)):iy(ne,r.stateNode));break;case 4:l=ne,h=rn,ne=r.stateNode.containerInfo,rn=!0,Mi(t,n,r),ne=l,rn=h;break;case 0:case 11:case 14:case 15:fe||rr(2,r,n),fe||rr(4,r,n),Mi(t,n,r);break;case 1:fe||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&og(r,n,l)),Mi(t,n,r);break;case 21:Mi(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Mi(t,n,r),fe=l;break;default:Mi(t,n,r)}}function gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(r){$t(n,n.return,r)}}function DE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fg),n;default:throw Error(s(435,t.tag))}}function sf(t,n){var r=DE(t);n.forEach(function(l){var h=PE.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function hn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(fr(T.type)){ne=T.stateNode,rn=!1;break t}break;case 5:ne=T.stateNode,rn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));pg(f,_,h),ne=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)yg(n,t),n=n.sibling}var Un=null;function yg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(rr(3,t,t.return),Cl(3,t),rr(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(fe||r===null||Jn(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Un;if(hn(n,t),fn(t),l&512&&(fe||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[qr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Be(f,l,r),f[Ee]=t,ce(f),l=f;break t;case"link":var _=hy("link","href",h).get(l+(r.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),Be(f,l,r),h.head.appendChild(f);break;case"meta":if(_=hy("meta","content",h).get(l+(r.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(T,1);break e}}f=h.createElement(l),Be(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ce(f),l=f}t.stateNode=l}else fy(h,t.type,t.stateNode);else t.stateNode=cy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?fy(h,t.type,t.stateNode):cy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ef(t,t.memoizedProps,r.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(fe||r===null||Jn(r,r.return)),r!==null&&l&4&&ef(t,t.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(fe||r===null||Jn(r,r.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(Y){$t(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ef(t,h,r!==null?r.memoizedProps:h)),l&1024&&(af=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(Y){$t(t,t.return,Y)}}break;case 3:if(ju=null,h=Un,Un=Lu(n.containerInfo),hn(n,t),Un=h,fn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Fl(n.containerInfo)}catch(Y){$t(t,t.return,Y)}af&&(af=!1,vg(t));break;case 4:l=Un,Un=Lu(t.stateNode.containerInfo),hn(n,t),fn(t),Un=l;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ff=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sf(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,q=Vi,Z=fe;if(Vi=q||h,fe=Z||C,hn(n,t),fe=Z,Vi=q,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Vi||fe||ma(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){$t(C,C.return,Y)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Y){$t(C,C.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sf(t,r))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sf(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(cg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=nf(t);Au(t,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(vn(_,""),r.flags&=-33);var T=nf(t);Au(t,T,_);break;case 3:case 4:var C=r.stateNode.containerInfo,q=nf(t);rf(t,q,C);break;default:throw Error(s(161))}}catch(Z){$t(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ar(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(t,n.alternate,n),n=n.sibling}function ma(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ma(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&og(n,n.return,r),ma(n);break;case 27:Pl(n.stateNode);case 26:case 5:Jn(n,n.return),ma(n);break;case 22:n.memoizedState===null&&ma(n);break;case 30:ma(n);break;default:ma(n)}t=t.sibling}}function sr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:sr(h,f,r),Cl(4,f);break;case 1:if(sr(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){$t(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Qm(C[h],T)}catch(q){$t(l,l.return,q)}}r&&_&64&&lg(f),Dl(f,f.return);break;case 27:hg(f);case 26:case 5:sr(h,f,r),r&&l===null&&_&4&&ug(f),Dl(f,f.return);break;case 12:sr(h,f,r);break;case 13:sr(h,f,r),r&&_&4&&gg(h,f);break;case 22:f.memoizedState===null&&sr(h,f,r),Dl(f,f.return);break;case 30:break;default:sr(h,f,r)}n=n.sibling}}function lf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&dl(r))}function of(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_g(t,n,r,l),n=n.sibling}function _g(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),h&2048&&Cl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t)));break;case 12:if(h&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):Nl(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,as(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&lf(_,n);break;case 24:Wn(t,n,r,l),h&2048&&of(n.alternate,n);break;default:Wn(t,n,r,l)}}function as(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,T=r,C=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:as(f,_,T,C,h),Cl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?as(f,_,T,C,h):Nl(f,_):(Z._visibility|=2,as(f,_,T,C,h)),h&&q&2048&&lf(_.alternate,_);break;case 24:as(f,_,T,C,h),h&&q&2048&&of(_.alternate,_);break;default:as(f,_,T,C,h)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Nl(r,l),h&2048&&lf(l.alternate,l);break;case 24:Nl(r,l),h&2048&&of(l.alternate,l);break;default:Nl(r,l)}n=n.sibling}}var xl=8192;function ss(t){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 26:ss(t),t.flags&xl&&t.memoizedState!==null&&dT(Un,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=Un;Un=Lu(t.stateNode.containerInfo),ss(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=xl,xl=16777216,ss(t),xl=n):ss(t));break;default:ss(t)}}function Tg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Ag(l,t)}Tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&rr(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Ol(t);break;default:Ol(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Ag(l,t)}Tg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rr(8,n,n.return),bu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function Ag(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var h=l.sibling,f=l.return;if(mg(l),l===r){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var NE={getCacheForType:function(t){var n=Ye(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},xE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,xt=null,Ut=0,Ft=0,dn=null,lr=!1,ls=!1,uf=!1,Ui=0,ue=0,or=0,pa=0,cf=0,Cn=0,os=0,Il=null,an=null,hf=!1,ff=0,Ru=1/0,wu=null,ur=null,je=0,cr=null,us=null,cs=0,df=0,mf=null,bg=null,Vl=0,pf=null;function mn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if($.T!==null){var t=Za;return t!==0?t:Sf()}return Fi()}function Rg(){Cn===0&&(Cn=(Ut&536870912)===0||zt?qs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function pn(t,n,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(hs(t,0),hr(t,Ut,Cn,!1)),di(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(pa|=r),ue===4&&hr(t,Ut,Cn,!1)),ti(t))}function wg(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||kr(t,n),h=l?VE(t,n):vf(t,n,!0),f=l;do{if(h===0){ls&&!l&&hr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!OE(r)){h=vf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Il;var C=T.current.memoizedState.isDehydrated;if(C&&(hs(T,_).flags|=256),_=vf(T,_,!1),_!==2){if(uf&&!C){T.errorRecoveryDisabledLanes|=f,pa|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){hs(t,0),hr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:hr(l,n,Cn,!lr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ff+300-gn(),10<h)){if(hr(l,n,Cn,!lr),Da(l,0,!0)!==0)break t;l.timeoutHandle=ey(Cg.bind(null,l,r,an,wu,hf,n,Cn,pa,os,lr,f,2,-0,0),h);break t}Cg(l,r,an,wu,hf,n,Cn,pa,os,lr,f,0,-0,0)}}break}while(!0);ti(t)}function Cg(t,n,r,l,h,f,_,T,C,q,Z,W,F,Y){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:fT},Eg(n),W=mT(),W!==null)){t.cancelPendingCommit=W(Mg.bind(null,t,n,f,r,l,h,_,T,C,Z,1,F,Y)),hr(t,f,_,!q);return}Mg(t,n,f,r,l,h,_,T,C)}function OE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(t,n,r,l){n&=~cf,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Fe(h),_=1<<f;l[f]=-1,h&=~_}r!==0&&Bn(t,r,n)}function Cu(){return(Gt&6)===0?(Ml(0),!1):!0}function gf(){if(xt!==null){if(Ft===0)var t=xt.return;else t=xt,Ci=ua=null,Ih(t),is=null,bl=0,t=xt;for(;t!==null;)sg(t.alternate,t),t=t.return;xt=null}}function hs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,KE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gf(),Jt=t,xt=r=bi(t.current,null),Ut=n,Ft=0,dn=null,lr=!1,ls=kr(t,n),uf=!1,os=Cn=cf=pa=or=ue=0,an=Il=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Fe(l),f=1<<h;n|=t[h],l&=~f}return Ui=n,Ko(),r}function Dg(t,n){wt=null,$.H=mu,n===pl||n===ru?(n=Fm(),Ft=3):n===qm?(n=Fm(),Ft=4):Ft=n===Yp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,xt===null&&(ue=1,_u(t,Sn(n,t.current)))}function Ng(){var t=$.H;return $.H=mu,t===null?mu:t}function xg(){var t=$.A;return $.A=NE,t}function yf(){ue=4,lr||(Ut&4194048)!==Ut&&wn.current!==null||(ls=!0),(or&134217727)===0&&(pa&134217727)===0||Jt===null||hr(Jt,Ut,Cn,!1)}function vf(t,n,r){var l=Gt;Gt|=2;var h=Ng(),f=xg();(Jt!==t||Ut!==n)&&(wu=null,hs(t,n)),n=!1;var _=ue;t:do try{if(Ft!==0&&xt!==null){var T=xt,C=dn;switch(Ft){case 8:gf(),_=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var q=Ft;if(Ft=0,dn=null,fs(t,T,C,q),r&&ls){_=0;break t}break;default:q=Ft,Ft=0,dn=null,fs(t,T,C,q)}}IE(),_=ue;break}catch(Z){Dg(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ci=ua=null,Gt=l,$.H=h,$.A=f,xt===null&&(Jt=null,Ut=0,Ko()),_}function IE(){for(;xt!==null;)Og(xt)}function VE(t,n){var r=Gt;Gt|=2;var l=Ng(),h=xg();Jt!==t||Ut!==n?(wu=null,Ru=gn()+500,hs(t,n)):ls=kr(t,n);t:do try{if(Ft!==0&&xt!==null){n=xt;var f=dn;e:switch(Ft){case 1:Ft=0,dn=null,fs(t,n,f,1);break;case 2:case 9:if(Hm(f)){Ft=0,dn=null,Ig(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),ti(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Hm(f)?(Ft=0,dn=null,Ig(n)):(Ft=0,dn=null,fs(t,n,f,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(!_||dy(_)){Ft=0,dn=null;var C=T.sibling;if(C!==null)xt=C;else{var q=T.return;q!==null?(xt=q,Du(q)):xt=null}break e}}Ft=0,dn=null,fs(t,n,f,5);break;case 6:Ft=0,dn=null,fs(t,n,f,6);break;case 8:gf(),ue=6;break t;default:throw Error(s(462))}}ME();break}catch(Z){Dg(t,Z)}while(!0);return Ci=ua=null,$.H=l,$.A=h,Gt=r,xt!==null?0:(Jt=null,Ut=0,Ko(),ue)}function ME(){for(;xt!==null&&!js();)Og(xt)}function Og(t){var n=rg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?Du(t):xt=n}function Ig(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Jp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Jp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ih(n);default:sg(r,n),n=xt=Vm(n,Ui),n=rg(r,n,Ui)}t.memoizedProps=t.pendingProps,n===null?Du(t):xt=n}function fs(t,n,r,l){Ci=ua=null,Ih(n),is=null,bl=0;var h=n.return;try{if(AE(t,h,n,r,Ut)){ue=1,_u(t,Sn(r,t.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;ue=1,_u(t,Sn(r,t.current)),xt=null;return}n.flags&32768?(zt||l===1?t=!0:ls||(Ut&536870912)!==0?t=!1:(lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vg(n,t)):Du(n)}function Du(t){var n=t;do{if((n.flags&32768)!==0){Vg(n,lr);return}t=n.return;var r=RE(n.alternate,n,Ui);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);ue===0&&(ue=5)}function Vg(t,n){do{var r=wE(t.alternate,t);if(r!==null){r.flags&=32767,xt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=r}while(t!==null);ue=6,xt=null}function Mg(t,n,r,l,h,f,_,T,C){t.cancelPendingCommit=null;do Nu();while(je!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=lh,Gs(t,r,f,_,T,C),t===Jt&&(xt=Jt=null,Ut=0),us=n,cr=t,cs=r,df=f,mf=h,bg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(Pr,function(){return Bg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=st.p,st.p=2,_=Gt,Gt|=4;try{CE(t,n,r)}finally{Gt=_,st.p=h,$.T=l}}je=1,Ug(),Lg(),Pg()}}function Ug(){if(je===1){je=0;var t=cr,n=us,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{yg(n,t);var f=xf,_=Am(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sm(T.ownerDocument.documentElement,T)){if(C!==null&&nh(T)){var q=C.start,Z=C.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),Et=T.textContent.length,yt=Math.min(C.start,Et),Kt=C.end===void 0?yt:Math.min(C.end,Et);!Y.extend&&yt>Kt&&(_=Kt,Kt=yt,yt=_);var j=Tm(T,yt),V=Tm(T,Kt);if(j&&V&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var k=W.createRange();k.setStart(j.node,j.offset),Y.removeAllRanges(),yt>Kt?(Y.addRange(k),Y.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),Y.addRange(k))}}}}for(W=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ku=!!Nf,xf=Nf=null}finally{Gt=h,st.p=l,$.T=r}}t.current=n,je=2}}function Lg(){if(je===2){je=0;var t=cr,n=us,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{dg(t,n.alternate,n)}finally{Gt=h,st.p=l,$.T=r}}je=3}}function Pg(){if(je===4||je===3){je=0,bo();var t=cr,n=us,r=cs,l=bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,us=cr=null,jg(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ur=null),Na(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=st.p,st.p=2,$.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{$.T=n,st.p=h}}(cs&3)!==0&&Nu(),ti(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===pf?Vl++:(Vl=0,pf=t):Vl=0,Ml(0)}}function jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,dl(n)))}function Nu(t){return Ug(),Lg(),Pg(),Bg()}function Bg(){if(je!==5)return!1;var t=cr,n=df;df=0;var r=Na(cs),l=$.T,h=st.p;try{st.p=32>r?32:r,$.T=null,r=mf,mf=null;var f=cr,_=cs;if(je=0,us=cr=null,cs=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Sg(f.current),_g(f,f.current,_,r),Gt=T,Ml(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{st.p=h,$.T=l,jg(t,n)}}function zg(t,n,r){n=Sn(r,n),n=Yh(t.stateNode,n,2),t=tr(t,n,2),t!==null&&(di(t,2),ti(t))}function $t(t,n,r){if(t.tag===3)zg(t,t,r);else for(;n!==null;){if(n.tag===3){zg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ur===null||!ur.has(l))){t=Sn(r,t),r=Gp(2),l=tr(n,r,2),l!==null&&(Fp(r,l,n,t),di(l,2),ti(l));break}}n=n.return}}function _f(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new xE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(uf=!0,h.add(r),t=UE.bind(null,t,n,r),n.then(t,t))}function UE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>gn()-ff?(Gt&2)===0&&hs(t,0):cf|=r,os===Ut&&(os=0)),ti(t)}function kg(t,n){n===0&&(n=Hs()),t=Qa(t,n),t!==null&&(di(t,n),ti(t))}function LE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),kg(t,r)}function PE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kg(t,r)}function jE(t,n){return Ur(t,n)}var xu=null,ds=null,Ef=!1,Ou=!1,Tf=!1,ga=0;function ti(t){t!==ds&&t.next===null&&(ds===null?xu=ds=t:ds=ds.next=t),Ou=!0,Ef||(Ef=!0,zE())}function Ml(t,n){if(!Tf&&Ou){Tf=!0;do for(var r=!1,l=xu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fg(l,f))}else f=Ut,f=Da(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||kr(l,f)||(r=!0,Fg(l,f));l=l.next}while(r);Tf=!1}}function BE(){qg()}function qg(){Ou=Ef=!1;var t=0;ga!==0&&(XE()&&(t=ga),ga=0);for(var n=gn(),r=null,l=xu;l!==null;){var h=l.next,f=Hg(l,n);f===0?(l.next=null,r===null?xu=h:r.next=h,h===null&&(ds=r)):(r=l,(t!==0||(f&3)!==0)&&(Ou=!0)),l=h}Ml(t)}function Hg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Fe(f),T=1<<_,C=h[_];C===-1?((T&r)===0||(T&l)!==0)&&(h[_]=ks(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,r=Ut,r=Da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Lr(l),Na(r)){case 2:case 8:r=wa;break;case 32:r=Pr;break;case 268435456:r=Ca;break;default:r=Pr}return l=Gg.bind(null,t),r=Ur(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Lr(l),t.callbackPriority=2,t.callbackNode=null,2}function Gg(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Nu()&&t.callbackNode!==r)return null;var l=Ut;return l=Da(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wg(t,l,n),Hg(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Gg.bind(null,t):null)}function Fg(t,n){if(Nu())return null;wg(t,n,!0)}function zE(){$E(function(){(Gt&6)!==0?Ur(Bs,BE):qg()})}function Sf(){return ga===0&&(ga=qs()),ga}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ua(""+t)}function Qg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function kE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Yg((h[me]||null).action),_=l.submitter;_&&(n=(n=_[me]||null)?Yg(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new La("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var C=_?Qg(h,_):new FormData(h);kh(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=_?Qg(h,_):new FormData(h),kh(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Af=0;Af<sh.length;Af++){var bf=sh[Af],qE=bf.toLowerCase(),HE=bf[0].toUpperCase()+bf.slice(1);Mn(qE,"on"+HE)}Mn(wm,"onAnimationEnd"),Mn(Cm,"onAnimationIteration"),Mn(Dm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(sE,"onTransitionRun"),Mn(lE,"onTransitionStart"),Mn(oE,"onTransitionCancel"),Mn(Nm,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Xg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch(Z){vu(Z)}h.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,q=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch(Z){vu(Z)}h.currentTarget=null,f=C}}}}function Ot(t,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var l=t+"__bubble";r.has(l)||(Kg(n,t,2,!1),r.add(l))}function Rf(t,n,r){var l=0;n&&(l|=4),Kg(r,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[Iu]){t[Iu]=!0,Qs.forEach(function(r){r!=="selectionchange"&&(GE.has(r)||Rf(r,!1,t),Rf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,Rf("selectionchange",!1,n))}}function Kg(t,n,r,l){switch(_y(n)){case 2:var h=yT;break;case 8:h=vT;break;default:h=zf}r=h.bind(null,n,r,t),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Cf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue t}T=T.parentNode}}l=l.return}Mo(function(){var q=f,Z=_n(r),W=[];t:{var F=xm.get(t);if(F!==void 0){var Y=La,Et=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":Y=qa;break;case"focusin":Et="focus",Y=Ba;break;case"focusout":Et="blur",Y=Ba;break;case"beforeblur":case"afterblur":Y=Ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=qo;break;case wm:case Cm:case Dm:Y=za;break;case Nm:Y=Go;break;case"scroll":case"scrollend":Y=Uo;break;case"wheel":Y=Ha;break;case"copy":case"cut":case"paste":Y=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=al;break;case"toggle":case"beforetoggle":Y=Yo}var yt=(n&4)!==0,Kt=!yt&&(t==="scroll"||t==="scrollend"),j=yt?F!==null?F+"Capture":null:F;yt=[];for(var V=q,k;V!==null;){var J=V;if(k=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||k===null||j===null||(J=Kr(V,j),J!=null&&yt.push(Ll(V,J,k))),Kt)break;V=V.return}0<yt.length&&(F=new Y(F,Et,null,r,Z),W.push({event:F,listeners:yt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&r!==vi&&(Et=r.relatedTarget||r.fromElement)&&(mi(Et)||Et[yn]))break t;if((Y||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(Et=r.relatedTarget||r.toElement,Y=q,Et=Et?mi(Et):null,Et!==null&&(Kt=c(Et),yt=Et.tag,Et!==Kt||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(Y=null,Et=q),Y!==Et)){if(yt=Tn,J="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=al,J="onPointerLeave",j="onPointerEnter",V="pointer"),Kt=Y==null?F:kn(Y),k=Et==null?F:kn(Et),F=new yt(J,V+"leave",Y,r,Z),F.target=Kt,F.relatedTarget=k,J=null,mi(Z)===q&&(yt=new yt(j,V+"enter",Et,r,Z),yt.target=k,yt.relatedTarget=Kt,J=yt),Kt=J,Y&&Et)e:{for(yt=Y,j=Et,V=0,k=yt;k;k=ms(k))V++;for(k=0,J=j;J;J=ms(J))k++;for(;0<V-k;)yt=ms(yt),V--;for(;0<k-V;)j=ms(j),k--;for(;V--;){if(yt===j||j!==null&&yt===j.alternate)break e;yt=ms(yt),j=ms(j)}yt=null}else yt=null;Y!==null&&$g(W,F,Y,yt,!1),Et!==null&&Kt!==null&&$g(W,Kt,Et,yt,!0)}}t:{if(F=q?kn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ht=pm;else if(Se(F))if(gm)ht=iE;else{ht=eE;var Nt=tE}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Js(q.elementType)&&(ht=pm):ht=nE;if(ht&&(ht=ht(t,q))){Ai(W,ht,r,Z);break t}Nt&&Nt(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ki(F,"number",F.value)}switch(Nt=q?kn(q):window,t){case"focusin":(Se(Nt)||Nt.contentEditable==="true")&&(Ga=Nt,ih=q,ol=null);break;case"focusout":ol=ih=Ga=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,bm(W,r,Z);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":bm(W,r,Z)}var dt;if(Xn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Vt?X(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(v&&r.locale!=="ko"&&(Vt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vt&&(dt=tl()):(Gn=Z,$i="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),Nt=Vu(q,vt),0<Nt.length&&(vt=new il(vt,t,null,r,Z),W.push({event:vt,listeners:Nt}),dt?vt.data=dt:(dt=at(r),dt!==null&&(vt.data=dt)))),(dt=m?Te(t,r):Mt(t,r))&&(vt=Vu(q,"onBeforeInput"),0<vt.length&&(Nt=new il("onBeforeInput","beforeinput",null,r,Z),W.push({event:Nt,listeners:vt}),Nt.data=dt)),kE(W,t,q,r,Z)}Xg(W,n)})}function Ll(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Vu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kr(t,r),h!=null&&l.unshift(Ll(t,h,f)),h=Kr(t,n),h!=null&&l.push(Ll(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,r,l,h){for(var f=n._reactName,_=[];r!==null&&r!==l;){var T=r,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,h?(q=Kr(r,f),q!=null&&_.unshift(Ll(r,q,C))):h||(q=Kr(r,f),q!=null&&_.push(Ll(r,q,C)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var FE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(FE,`
`).replace(YE,"")}function Jg(t,n){return n=Zg(n),Zg(t)===n}function Mu(){}function Xt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Zs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ua(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",h.name,h,null),Xt(t,n,"formEncType",h.formEncType,h,null),Xt(t,n,"formMethod",h.formMethod,h,null),Xt(t,n,"formTarget",h.formTarget,h,null)):(Xt(t,n,"encType",h.encType,h,null),Xt(t,n,"method",h.method,h,null),Xt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ua(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$c.get(r)||r,Xi(t,r,l))}}function Df(t,n,r,l,h,f){switch(r){case"style":Zs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Xi(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,_,r,null)}}h&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":Ot("invalid",t);var T=f=_=h=null,C=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":q=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Xt(t,n,l,Z,r,null)}}Yr(t,f,T,C,q,_,h,!1),Ma(t);return;case"select":Ot("invalid",t),l=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xt(t,n,h,T,r,null)}n=f,r=_,t.multiple=!!l,n!=null?yi(t,!!l,n,!1):r!=null&&yi(t,!!l,r,!0);return;case"textarea":Ot("invalid",t),f=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(T=r[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,_,T,r,null)}Qr(t,l,h,f),Ma(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,C,l,r,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ot(Ul[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,q,l,r,null)}return;default:if(Js(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&Df(t,n,Z,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Xt(t,n,T,l,r,null))}function QE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,C=null,q=null,Z=null;for(Y in r){var W=r[Y];if(r.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(Y)||Xt(t,n,Y,null,l,W)}}for(var F in l){var Y=l[F];if(W=r[F],l.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":f=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==W&&Xt(t,n,F,Y,l,W)}}on(t,_,T,C,q,Z,f,h);return;case"select":Y=_=T=F=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==C&&Xt(t,n,h,f,l,C)}n=T,r=_,l=Y,F!=null?yi(t,!!r,F,!1):!!l!=!!r&&(n!=null?yi(t,!!r,n,!0):yi(t,!!r,r?[]:"",!1));return;case"textarea":Y=F=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=r[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(t,n,_,h,l,f)}Yt(t,F,Y);return;case"option":for(var Et in r)if(F=r[Et],r.hasOwnProperty(Et)&&F!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Xt(t,n,Et,null,l,F)}for(C in l)if(F=l[C],Y=r[C],l.hasOwnProperty(C)&&F!==Y&&(F!=null||Y!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xt(t,n,C,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)F=r[yt],r.hasOwnProperty(yt)&&F!=null&&!l.hasOwnProperty(yt)&&Xt(t,n,yt,null,l,F);for(q in l)if(F=l[q],Y=r[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Xt(t,n,q,F,l,Y)}return;default:if(Js(n)){for(var Kt in r)F=r[Kt],r.hasOwnProperty(Kt)&&F!==void 0&&!l.hasOwnProperty(Kt)&&Df(t,n,Kt,void 0,l,F);for(Z in l)F=l[Z],Y=r[Z],!l.hasOwnProperty(Z)||F===Y||F===void 0&&Y===void 0||Df(t,n,Z,F,l,Y);return}}for(var j in r)F=r[j],r.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Xt(t,n,j,null,l,F);for(W in l)F=l[W],Y=r[W],!l.hasOwnProperty(W)||F===Y||F==null&&Y==null||Xt(t,n,W,F,l,Y)}var Nf=null,xf=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function Wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var If=null;function XE(){var t=window.event;return t&&t.type==="popstate"?t===If?!1:(If=t,!0):(If=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(ZE)}:ey;function ZE(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function iy(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var _=t.ownerDocument;if(r&1&&Pl(_.documentElement),r&2&&Pl(_.body),r&4)for(r=_.head,Pl(r),_=r.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[qr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=T}}if(h===0){t.removeChild(f),Fl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Fl(n)}function Vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Vf(r),Qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function JE(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function WE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Uf=null;function ry(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ay(t,n,r){switch(n=Uu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qi(t)}var Dn=new Map,sy=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=st.d;st.d={f:eT,r:nT,D:iT,C:rT,L:aT,m:sT,X:oT,S:lT,M:uT};function eT(){var t=Li.f(),n=Cu();return t||n}function nT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?wp(n):Li.r(t)}var ps=typeof document>"u"?null:document;function ly(t,n,r){var l=ps;if(l&&typeof n=="string"&&n){var h=pe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),sy.has(h)||(sy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function iT(t){Li.D(t),ly("dns-prefetch",t,null)}function rT(t,n){Li.C(t,n),ly("preconnect",t,n)}function aT(t,n,r){Li.L(t,n,r);var l=ps;if(l&&t&&n){var h='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+pe(r.imageSizes)+'"]')):h+='[href="'+pe(t)+'"]';var f=h;switch(n){case"style":f=gs(t);break;case"script":f=ys(t)}Dn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(jl(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function sT(t,n){Li.m(t,n);var r=ps;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ys(t)}if(!Dn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Bl(f)))return}l=r.createElement("link"),Be(l,"link",t),ce(l),r.head.appendChild(l)}}}function lT(t,n,r){Li.S(t,n,r);var l=ps;if(l&&t){var h=Je(l).hoistableStyles,f=gs(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(jl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&Lf(t,r);var C=_=l.createElement("link");ce(C),Be(C,"link",t),C._p=new Promise(function(q,Z){C.onload=q,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function oT(t,n){Li.X(t,n);var r=ps;if(r&&t){var l=Je(r).hoistableScripts,h=ys(t),f=l.get(h);f||(f=r.querySelector(Bl(h)),f||(t=E({src:t,async:!0},n),(n=Dn.get(h))&&Pf(t,n),f=r.createElement("script"),ce(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function uT(t,n){Li.M(t,n);var r=ps;if(r&&t){var l=Je(r).hoistableScripts,h=ys(t),f=l.get(h);f||(f=r.querySelector(Bl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&Pf(t,n),f=r.createElement("script"),ce(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function oy(t,n,r,l){var h=(h=Tt.current)?Lu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=gs(r.href),r=Je(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=gs(r.href);var f=Je(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(jl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||cT(h,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ys(r),r=Je(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+pe(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function uy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),ce(n),t.head.appendChild(n))}function ys(t){return'[src="'+pe(t)+'"]'}function Bl(t){return"script[async]"+t}function cy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Be(l,"style",h),Pu(l,r.precedence,t),n.instance=l;case"stylesheet":h=gs(r.href);var f=t.querySelector(jl(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=uy(r),(h=Dn.get(h))&&Lf(l,h),f=(t.ownerDocument||t).createElement("link"),ce(f);var _=f;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Be(f,"link",l),n.state.loading|=4,Pu(f,r.precedence,t),n.instance=f;case"script":return f=ys(r.src),(h=t.querySelector(Bl(f)))?(n.instance=h,ce(h),h):(l=r,(h=Dn.get(f))&&(l=E({},r),Pf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ce(h),Be(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,r.precedence,t));return n.instance}function Pu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ju=null;function hy(t,n,r){if(ju===null){var l=new Map,h=ju=new Map;h.set(r,l)}else h=ju,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[qr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function fy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function hT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function fT(){}function dT(t,n,r){if(zl===null)throw Error(s(475));var l=zl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=gs(r.href),f=t.querySelector(jl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Bu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=uy(r),(h=Dn.get(h))&&Lf(r,h),f=f.createElement("link"),ce(f);var _=f;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Bu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function mT(){if(zl===null)throw Error(s(475));var t=zl;return t.stylesheets&&t.count===0&&jf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&jf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function jf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(pT,t),zu=null,Bu.call(t))}function pT(t,n){if(!(n.state.loading&4)){var r=zu.get(t);if(r)var l=r.get(null);else{r=new Map,zu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,h),r.set(_,h),this.count++,l=Bu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:et,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function gT(t,n,r,l,h,f,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function my(t,n,r,l,h,f,_,T,C,q,Z,W){return t=new gT(t,n,r,_,T,C,q,W),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),t.current=f,f.stateNode=t,n=vh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Sh(f),t}function py(t){return t?(t=Xa,t):Xa}function gy(t,n,r,l,h,f){h=py(h),l.context===null?l.context=h:l.pendingContext=h,l=Wi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=tr(t,l,n),r!==null&&(pn(r,t,n),yl(r,t,n))}function yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Bf(t,n){yy(t,n),(t=t.alternate)&&yy(t,n)}function vy(t){if(t.tag===13){var n=Qa(t,67108864);n!==null&&pn(n,t,67108864),Bf(t,67108864)}}var ku=!0;function yT(t,n,r,l){var h=$.T;$.T=null;var f=st.p;try{st.p=2,zf(t,n,r,l)}finally{st.p=f,$.T=h}}function vT(t,n,r,l){var h=$.T;$.T=null;var f=st.p;try{st.p=8,zf(t,n,r,l)}finally{st.p=f,$.T=h}}function zf(t,n,r,l){if(ku){var h=kf(l);if(h===null)Cf(t,n,l,qu,r),Ey(t,l);else if(ET(h,t,n,r,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<_T.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=On(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Fe(_);T.entanglements[1]|=C,_&=~C}ti(f),(Gt&6)===0&&(Ru=gn()+500,Ml(0))}}break;case 13:T=Qa(f,2),T!==null&&pn(T,f,2),Cu(),Bf(f,2)}if(f=kf(l),f===null&&Cf(t,n,l,qu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Cf(t,n,l,null,r)}}function kf(t){return t=_n(t),qf(t)}var qu=null;function qf(t){if(qu=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gc()){case Bs:return 2;case wa:return 8;case Pr:case Fc:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var Hf=!1,dr=null,mr=null,pr=null,ql=new Map,Hl=new Map,gr=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Gl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&vy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ET(t,n,r,l,h){switch(n){case"focusin":return dr=Gl(dr,t,n,r,l,h),!0;case"dragenter":return mr=Gl(mr,t,n,r,l,h),!0;case"mouseover":return pr=Gl(pr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ql.set(f,Gl(ql.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Hl.set(f,Gl(Hl.get(f)||null,t,n,r,l,h)),!0}return!1}function Ty(t){var n=mi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Co(t.priority,function(){if(r.tag===13){var l=mn();l=Gi(l);var h=Qa(r,l);h!==null&&pn(h,r,l),Bf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);vi=l,r.target.dispatchEvent(l),vi=null}else return n=zn(r),n!==null&&vy(n),t.blockedOn=r,!1;n.shift()}return!0}function Sy(t,n,r){Hu(t)&&r.delete(n)}function TT(){Hf=!1,dr!==null&&Hu(dr)&&(dr=null),mr!==null&&Hu(mr)&&(mr=null),pr!==null&&Hu(pr)&&(pr=null),ql.forEach(Sy),Hl.forEach(Sy)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,TT)))}var Fu=null;function Ay(t){Fu!==t&&(Fu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(qf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,kh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Fl(t){function n(C){return Gu(C,t)}dr!==null&&Gu(dr,t),mr!==null&&Gu(mr,t),pr!==null&&Gu(pr,t),ql.forEach(n),Hl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)Ty(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],_=h[me]||null;if(typeof f=="function")_||Ay(r);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[me]||null)T=_.formAction;else if(qf(h)!==null)continue}else T=_.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Ay(r)}}}function Gf(t){this._internalRoot=t}Yu.prototype.render=Gf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=mn();gy(r,l,t,n,null,null)},Yu.prototype.unmount=Gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;gy(t.current,2,null,t,null,null),Cu(),n[yn]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&Ty(t)}};var by=e.version;if(by!=="19.1.0")throw Error(s(527,by,"19.1.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{le=Qu.inject(ST),Ht=Qu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=zp,f=kp,_=qp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=my(t,1,!1,null,null,r,l,h,f,_,T,null),t[yn]=n.current,wf(t),new Gf(n)},Ql.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=zp,_=kp,T=qp,C=null,q=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(q=r.formState)),n=my(t,1,!0,n,r??null,l,h,f,_,T,C,q),n.context=py(null),r=n.current,l=mn(),l=Gi(l),h=Wi(l),h.callback=null,tr(r,h,l),r=l,n.current.lanes=r,di(n,r),ti(n),t[yn]=n.current,wf(t),new Yu(n)},Ql.version="19.1.0",Ql}var My;function IT(){if(My)return Qf.exports;My=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Qf.exports=OT(),Qf.exports}var VT=IT();const MT=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},UT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],p=a[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,g=o+2<a.length,y=g?a[o+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,U=y&63;g||(U=64,d||(A=64)),s.push(i[E],i[b],i[A],i[U])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray($v(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):UT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new LT;const A=c<<2|p>>4;if(s.push(A),y!==64){const U=p<<4&240|y>>2;if(s.push(U),b!==64){const x=y<<6&192|b;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class LT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PT=function(a){const e=$v(a);return Zv.encodeByteArray(e,!0)},cc=function(a){return PT(a).replace(/\./g,"")},jT=function(a){try{return Zv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=()=>BT().__FIREBASE_DEFAULTS__,kT=()=>{if(typeof process>"u"||typeof Uy>"u")return;const a=Uy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},qT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&jT(a[1]);return e&&JSON.parse(e)},Od=()=>{try{return MT()||zT()||kT()||qT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},HT=a=>{var e,i;return(i=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},GT=a=>{const e=HT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Jv=()=>{var a;return(a=Od())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[cc(JSON.stringify(i)),cc(JSON.stringify(d)),""].join(".")}const Wl={};function XT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?a.emulator.push(e):a.prod.push(e);return a}function KT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ly=!1;function $T(a,e){if(typeof window>"u"||typeof document>"u"||!Id(window.location.host)||Wl[a]===e||Wl[a]||Ly)return;Wl[a]=e;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=XT().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Ly=!0,d()},A}function E(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=KT(s),U=i("text"),x=document.getElementById(U)||document.createElement("span"),G=i("learnmore"),H=document.getElementById(G)||document.createElement("a"),D=i("preprendIcon"),K=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const et=A.element;p(et),E(H,G);const lt=y();g(K,D),et.append(K,x,H,lt),document.body.appendChild(et)}c?(x.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){var a;const e=(a=Od())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WT(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FirebaseError";class Os extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=n1,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wv.prototype.create)}}class Wv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?i1(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Os(o,p,s)}}function i1(a,e){return a.replace(r1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const r1=/\{\$([^}]+)}/g;function hc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(Py(c)&&Py(d)){if(!hc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Py(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(a){return a&&a._delegate?a._delegate:a}class ao{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new FT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s1(a){return a===ya?void 0:a}function l1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new a1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const u1={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},c1=Pt.INFO,h1={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},f1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=h1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const d1=(a,e)=>e.some(i=>a instanceof i);let jy,By;function m1(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,ld=new WeakMap,n_=new WeakMap,Zf=new WeakMap,Vd=new WeakMap;function g1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Er(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&e_.set(i,a)}).catch(()=>{}),Vd.set(e,a),e}function y1(a){if(ld.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});ld.set(a,e)}let od={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ld.get(a);if(e==="objectStoreNames")return a.objectStoreNames||n_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function v1(a){od=a(od)}function _1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Jf(this),e,...i);return n_.set(s,e.sort?e.sort():[e]),Er(s)}:p1().includes(a)?function(...e){return a.apply(Jf(this),e),Er(e_.get(this))}:function(...e){return Er(a.apply(Jf(this),e))}}function E1(a){return typeof a=="function"?_1(a):(a instanceof IDBTransaction&&y1(a),d1(a,m1())?new Proxy(a,od):a)}function Er(a){if(a instanceof IDBRequest)return g1(a);if(Zf.has(a))return Zf.get(a);const e=E1(a);return e!==a&&(Zf.set(a,e),Vd.set(e,a)),e}const Jf=a=>Vd.get(a);function T1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),p=Er(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Er(d.result),g.oldVersion,g.newVersion,Er(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const S1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],Wf=new Map;function zy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=A1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||S1.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return Wf.set(e,c),c}v1(a=>({...a,get:(e,i,s)=>zy(e,i)||a.get(e,i,s),has:(e,i)=>!!zy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(R1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function R1(a){const e=a.getComponent();return e?.type==="VERSION"}const ud="@firebase/app",ky="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new t_("@firebase/app"),w1="@firebase/app-compat",C1="@firebase/analytics-compat",D1="@firebase/analytics",N1="@firebase/app-check-compat",x1="@firebase/app-check",O1="@firebase/auth",I1="@firebase/auth-compat",V1="@firebase/database",M1="@firebase/data-connect",U1="@firebase/database-compat",L1="@firebase/functions",P1="@firebase/functions-compat",j1="@firebase/installations",B1="@firebase/installations-compat",z1="@firebase/messaging",k1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",G1="@firebase/remote-config",F1="@firebase/remote-config-compat",Y1="@firebase/storage",Q1="@firebase/storage-compat",X1="@firebase/firestore",K1="@firebase/ai",$1="@firebase/firestore-compat",Z1="firebase",J1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",W1={[ud]:"fire-core",[w1]:"fire-core-compat",[D1]:"fire-analytics",[C1]:"fire-analytics-compat",[x1]:"fire-app-check",[N1]:"fire-app-check-compat",[O1]:"fire-auth",[I1]:"fire-auth-compat",[V1]:"fire-rtdb",[M1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[L1]:"fire-fn",[P1]:"fire-fn-compat",[j1]:"fire-iid",[B1]:"fire-iid-compat",[z1]:"fire-fcm",[k1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[G1]:"fire-rc",[F1]:"fire-rc-compat",[Y1]:"fire-gcs",[Q1]:"fire-gcs-compat",[X1]:"fire-fst",[$1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,tS=new Map,hd=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function dc(a){const e=a.name;if(hd.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,a);for(const i of fc.values())qy(i,a);for(const i of tS.values())qy(i,a);return!0}function eS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function nS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Wv("app","Firebase",iS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=J1;function Md(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=Jv()),!i)throw Tr.create("no-options");const c=fc.get(o);if(c){if(hc(i,c.options)&&hc(s,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new o1(o);for(const g of hd.values())d.addComponent(g);const p=new rS(i,s,d);return fc.set(o,p),p}function sS(a=cd){const e=fc.get(a);if(!e&&a===cd&&Jv())return Md();if(!e)throw Tr.create("no-app",{appName:a});return e}function Ss(a,e,i){var s;let o=(s=W1[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(p.join(" "));return}dc(new ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebase-heartbeat-database",oS=1,so="firebase-heartbeat-store";let td=null;function i_(){return td||(td=T1(lS,oS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(a=>{throw Tr.create("idb-open",{originalErrorMessage:a.message})})),td}async function uS(a){try{const i=(await i_()).transaction(so),s=await i.objectStore(so).get(r_(a));return await i.done,s}catch(e){if(e instanceof Os)ji.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e?.message});ji.warn(i.message)}}}async function Hy(a,e){try{const s=(await i_()).transaction(so,"readwrite");await s.objectStore(so).put(e,r_(a)),await s.done}catch(i){if(i instanceof Os)ji.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i?.message});ji.warn(s.message)}}}function r_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=1024,hS=30;class fS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>hS){const d=pS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gy(),{heartbeatsToSend:s,unsentEntries:o}=dS(this._heartbeatsCache.heartbeats),c=cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ji.warn(i),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function dS(a,e=cS){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Fy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fy(a){return cc(JSON.stringify({version:2,heartbeats:a})).length}function pS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(a){dc(new ao("platform-logger",e=>new b1(e),"PRIVATE")),dc(new ao("heartbeat",e=>new fS(e),"PRIVATE")),Ss(ud,ky,a),Ss(ud,ky,"esm2017"),Ss("fire-js","")}gS("");var yS="firebase",vS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(yS,vS,"app");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,a_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,R){function w(){}w.prototype=R.prototype,L.D=R.prototype,L.prototype=new w,L.prototype.constructor=L,L.C=function(M,P,B){for(var N=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)N[Me-2]=arguments[Me];return R.prototype[P].apply(M,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,R,w){w||(w=0);var M=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)M[P]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(P=0;16>P;++P)M[P]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=L.g[0],w=L.g[1],P=L.g[2];var B=L.g[3],N=R+(B^w&(P^B))+M[0]+3614090360&4294967295;R=w+(N<<7&4294967295|N>>>25),N=B+(P^R&(w^P))+M[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=P+(w^B&(R^w))+M[2]+606105819&4294967295,P=B+(N<<17&4294967295|N>>>15),N=w+(R^P&(B^R))+M[3]+3250441966&4294967295,w=P+(N<<22&4294967295|N>>>10),N=R+(B^w&(P^B))+M[4]+4118548399&4294967295,R=w+(N<<7&4294967295|N>>>25),N=B+(P^R&(w^P))+M[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=P+(w^B&(R^w))+M[6]+2821735955&4294967295,P=B+(N<<17&4294967295|N>>>15),N=w+(R^P&(B^R))+M[7]+4249261313&4294967295,w=P+(N<<22&4294967295|N>>>10),N=R+(B^w&(P^B))+M[8]+1770035416&4294967295,R=w+(N<<7&4294967295|N>>>25),N=B+(P^R&(w^P))+M[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=P+(w^B&(R^w))+M[10]+4294925233&4294967295,P=B+(N<<17&4294967295|N>>>15),N=w+(R^P&(B^R))+M[11]+2304563134&4294967295,w=P+(N<<22&4294967295|N>>>10),N=R+(B^w&(P^B))+M[12]+1804603682&4294967295,R=w+(N<<7&4294967295|N>>>25),N=B+(P^R&(w^P))+M[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=P+(w^B&(R^w))+M[14]+2792965006&4294967295,P=B+(N<<17&4294967295|N>>>15),N=w+(R^P&(B^R))+M[15]+1236535329&4294967295,w=P+(N<<22&4294967295|N>>>10),N=R+(P^B&(w^P))+M[1]+4129170786&4294967295,R=w+(N<<5&4294967295|N>>>27),N=B+(w^P&(R^w))+M[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=P+(R^w&(B^R))+M[11]+643717713&4294967295,P=B+(N<<14&4294967295|N>>>18),N=w+(B^R&(P^B))+M[0]+3921069994&4294967295,w=P+(N<<20&4294967295|N>>>12),N=R+(P^B&(w^P))+M[5]+3593408605&4294967295,R=w+(N<<5&4294967295|N>>>27),N=B+(w^P&(R^w))+M[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=P+(R^w&(B^R))+M[15]+3634488961&4294967295,P=B+(N<<14&4294967295|N>>>18),N=w+(B^R&(P^B))+M[4]+3889429448&4294967295,w=P+(N<<20&4294967295|N>>>12),N=R+(P^B&(w^P))+M[9]+568446438&4294967295,R=w+(N<<5&4294967295|N>>>27),N=B+(w^P&(R^w))+M[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=P+(R^w&(B^R))+M[3]+4107603335&4294967295,P=B+(N<<14&4294967295|N>>>18),N=w+(B^R&(P^B))+M[8]+1163531501&4294967295,w=P+(N<<20&4294967295|N>>>12),N=R+(P^B&(w^P))+M[13]+2850285829&4294967295,R=w+(N<<5&4294967295|N>>>27),N=B+(w^P&(R^w))+M[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=P+(R^w&(B^R))+M[7]+1735328473&4294967295,P=B+(N<<14&4294967295|N>>>18),N=w+(B^R&(P^B))+M[12]+2368359562&4294967295,w=P+(N<<20&4294967295|N>>>12),N=R+(w^P^B)+M[5]+4294588738&4294967295,R=w+(N<<4&4294967295|N>>>28),N=B+(R^w^P)+M[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=P+(B^R^w)+M[11]+1839030562&4294967295,P=B+(N<<16&4294967295|N>>>16),N=w+(P^B^R)+M[14]+4259657740&4294967295,w=P+(N<<23&4294967295|N>>>9),N=R+(w^P^B)+M[1]+2763975236&4294967295,R=w+(N<<4&4294967295|N>>>28),N=B+(R^w^P)+M[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=P+(B^R^w)+M[7]+4139469664&4294967295,P=B+(N<<16&4294967295|N>>>16),N=w+(P^B^R)+M[10]+3200236656&4294967295,w=P+(N<<23&4294967295|N>>>9),N=R+(w^P^B)+M[13]+681279174&4294967295,R=w+(N<<4&4294967295|N>>>28),N=B+(R^w^P)+M[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=P+(B^R^w)+M[3]+3572445317&4294967295,P=B+(N<<16&4294967295|N>>>16),N=w+(P^B^R)+M[6]+76029189&4294967295,w=P+(N<<23&4294967295|N>>>9),N=R+(w^P^B)+M[9]+3654602809&4294967295,R=w+(N<<4&4294967295|N>>>28),N=B+(R^w^P)+M[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=P+(B^R^w)+M[15]+530742520&4294967295,P=B+(N<<16&4294967295|N>>>16),N=w+(P^B^R)+M[2]+3299628645&4294967295,w=P+(N<<23&4294967295|N>>>9),N=R+(P^(w|~B))+M[0]+4096336452&4294967295,R=w+(N<<6&4294967295|N>>>26),N=B+(w^(R|~P))+M[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=P+(R^(B|~w))+M[14]+2878612391&4294967295,P=B+(N<<15&4294967295|N>>>17),N=w+(B^(P|~R))+M[5]+4237533241&4294967295,w=P+(N<<21&4294967295|N>>>11),N=R+(P^(w|~B))+M[12]+1700485571&4294967295,R=w+(N<<6&4294967295|N>>>26),N=B+(w^(R|~P))+M[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=P+(R^(B|~w))+M[10]+4293915773&4294967295,P=B+(N<<15&4294967295|N>>>17),N=w+(B^(P|~R))+M[1]+2240044497&4294967295,w=P+(N<<21&4294967295|N>>>11),N=R+(P^(w|~B))+M[8]+1873313359&4294967295,R=w+(N<<6&4294967295|N>>>26),N=B+(w^(R|~P))+M[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=P+(R^(B|~w))+M[6]+2734768916&4294967295,P=B+(N<<15&4294967295|N>>>17),N=w+(B^(P|~R))+M[13]+1309151649&4294967295,w=P+(N<<21&4294967295|N>>>11),N=R+(P^(w|~B))+M[4]+4149444226&4294967295,R=w+(N<<6&4294967295|N>>>26),N=B+(w^(R|~P))+M[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=P+(R^(B|~w))+M[2]+718787259&4294967295,P=B+(N<<15&4294967295|N>>>17),N=w+(B^(P|~R))+M[9]+3951481745&4294967295,L.g[0]=L.g[0]+R&4294967295,L.g[1]=L.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,L.g[2]=L.g[2]+P&4294967295,L.g[3]=L.g[3]+B&4294967295}s.prototype.u=function(L,R){R===void 0&&(R=L.length);for(var w=R-this.blockSize,M=this.B,P=this.h,B=0;B<R;){if(P==0)for(;B<=w;)o(this,L,B),B+=this.blockSize;if(typeof L=="string"){for(;B<R;)if(M[P++]=L.charCodeAt(B++),P==this.blockSize){o(this,M),P=0;break}}else for(;B<R;)if(M[P++]=L[B++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var R=1;R<L.length-8;++R)L[R]=0;var w=8*this.o;for(R=L.length-8;R<L.length;++R)L[R]=w&255,w/=256;for(this.u(L),L=Array(16),R=w=0;4>R;++R)for(var M=0;32>M;M+=8)L[w++]=this.g[R]>>>M&255;return L};function c(L,R){var w=p;return Object.prototype.hasOwnProperty.call(w,L)?w[L]:w[L]=R(L)}function d(L,R){this.h=R;for(var w=[],M=!0,P=L.length-1;0<=P;P--){var B=L[P]|0;M&&B==R||(w[P]=B,M=!1)}this.g=w}var p={};function g(L){return-128<=L&&128>L?c(L,function(R){return new d([R|0],0>R?-1:0)}):new d([L|0],0>L?-1:0)}function y(L){if(isNaN(L)||!isFinite(L))return b;if(0>L)return H(y(-L));for(var R=[],w=1,M=0;L>=w;M++)R[M]=L/w|0,w*=4294967296;return new d(R,0)}function E(L,R){if(L.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L.charAt(0)=="-")return H(E(L.substring(1),R));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),M=b,P=0;P<L.length;P+=8){var B=Math.min(8,L.length-P),N=parseInt(L.substring(P,P+B),R);8>B?(B=y(Math.pow(R,B)),M=M.j(B).add(y(N))):(M=M.j(w),M=M.add(y(N)))}return M}var b=g(0),A=g(1),U=g(16777216);a=d.prototype,a.m=function(){if(G(this))return-H(this).m();for(var L=0,R=1,w=0;w<this.g.length;w++){var M=this.i(w);L+=(0<=M?M:4294967296+M)*R,R*=4294967296}return L},a.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(x(this))return"0";if(G(this))return"-"+H(this).toString(L);for(var R=y(Math.pow(L,6)),w=this,M="";;){var P=lt(w,R).g;w=D(w,P.j(R));var B=((0<w.g.length?w.g[0]:w.h)>>>0).toString(L);if(w=P,x(w))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},a.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function x(L){if(L.h!=0)return!1;for(var R=0;R<L.g.length;R++)if(L.g[R]!=0)return!1;return!0}function G(L){return L.h==-1}a.l=function(L){return L=D(this,L),G(L)?-1:x(L)?0:1};function H(L){for(var R=L.g.length,w=[],M=0;M<R;M++)w[M]=~L.g[M];return new d(w,~L.h).add(A)}a.abs=function(){return G(this)?H(this):this},a.add=function(L){for(var R=Math.max(this.g.length,L.g.length),w=[],M=0,P=0;P<=R;P++){var B=M+(this.i(P)&65535)+(L.i(P)&65535),N=(B>>>16)+(this.i(P)>>>16)+(L.i(P)>>>16);M=N>>>16,B&=65535,N&=65535,w[P]=N<<16|B}return new d(w,w[w.length-1]&-2147483648?-1:0)};function D(L,R){return L.add(H(R))}a.j=function(L){if(x(this)||x(L))return b;if(G(this))return G(L)?H(this).j(H(L)):H(H(this).j(L));if(G(L))return H(this.j(H(L)));if(0>this.l(U)&&0>L.l(U))return y(this.m()*L.m());for(var R=this.g.length+L.g.length,w=[],M=0;M<2*R;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<L.g.length;P++){var B=this.i(M)>>>16,N=this.i(M)&65535,Me=L.i(P)>>>16,se=L.i(P)&65535;w[2*M+2*P]+=N*se,K(w,2*M+2*P),w[2*M+2*P+1]+=B*se,K(w,2*M+2*P+1),w[2*M+2*P+1]+=N*Me,K(w,2*M+2*P+1),w[2*M+2*P+2]+=B*Me,K(w,2*M+2*P+2)}for(M=0;M<R;M++)w[M]=w[2*M+1]<<16|w[2*M];for(M=R;M<2*R;M++)w[M]=0;return new d(w,0)};function K(L,R){for(;(L[R]&65535)!=L[R];)L[R+1]+=L[R]>>>16,L[R]&=65535,R++}function et(L,R){this.g=L,this.h=R}function lt(L,R){if(x(R))throw Error("division by zero");if(x(L))return new et(b,b);if(G(L))return R=lt(H(L),R),new et(H(R.g),H(R.h));if(G(R))return R=lt(L,H(R)),new et(H(R.g),R.h);if(30<L.g.length){if(G(L)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,M=R;0>=M.l(L);)w=ut(w),M=ut(M);var P=St(w,1),B=St(M,1);for(M=St(M,2),w=St(w,2);!x(M);){var N=B.add(M);0>=N.l(L)&&(P=P.add(w),B=N),M=St(M,1),w=St(w,1)}return R=D(L,P.j(R)),new et(P,R)}for(P=b;0<=L.l(R);){for(w=Math.max(1,Math.floor(L.m()/R.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=y(w),N=B.j(R);G(N)||0<N.l(L);)w-=M,B=y(w),N=B.j(R);x(B)&&(B=A),P=P.add(B),L=D(L,N)}return new et(P,L)}a.A=function(L){return lt(this,L).h},a.and=function(L){for(var R=Math.max(this.g.length,L.g.length),w=[],M=0;M<R;M++)w[M]=this.i(M)&L.i(M);return new d(w,this.h&L.h)},a.or=function(L){for(var R=Math.max(this.g.length,L.g.length),w=[],M=0;M<R;M++)w[M]=this.i(M)|L.i(M);return new d(w,this.h|L.h)},a.xor=function(L){for(var R=Math.max(this.g.length,L.g.length),w=[],M=0;M<R;M++)w[M]=this.i(M)^L.i(M);return new d(w,this.h^L.h)};function ut(L){for(var R=L.g.length+1,w=[],M=0;M<R;M++)w[M]=L.i(M)<<1|L.i(M-1)>>>31;return new d(w,L.h)}function St(L,R){var w=R>>5;R%=32;for(var M=L.g.length-w,P=[],B=0;B<M;B++)P[B]=0<R?L.i(B+w)>>>R|L.i(B+w+1)<<32-R:L.i(B+w);return new d(P,L.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Sr=d}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s_,$l,l_,nc,fd,o_,u_,c_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in v))break t;v=v[z]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,S=!1,z={next:function(){if(!S&&v<u.length){var X=v++;return{value:m(X,u[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function b(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function U(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,z,X){for(var at=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)at[Vt-2]=arguments[Vt];return m.prototype[z].apply(S,at)}}function G(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function H(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const z=u.length||0,X=S.length||0;u.length=z+X;for(let at=0;at<X;at++)u[z+at]=S[at]}else u.push(S)}}class D{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function lt(u){return lt[" "](u),u}lt[" "]=function(){};var ut=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function St(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function L(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)u[v]=S[v];for(let X=0;X<w.length;X++)v=w[X],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function P(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){p.setTimeout(()=>{throw u},0)}function N(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,v){const S=se.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new D(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,mt=!1,Bt=new Me,I=()=>{const u=p.Promise.resolve(void 0);st=()=>{u.then(nt)}};var nt=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){B(v)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u}();function Dt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ut){t:{try{lt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}x(Dt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function jn(u,m,v,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,v,S,z){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var at=Ur(u,m,S,z);return-1<at?(m=u[at],v||(m.fa=!1)):(m=new jn(m,this.src,X,!!S,z),m.fa=v,u.push(m)),m};function Mr(u,m){var v=m.type;if(v in u.g){var S=u.g[v],z=Array.prototype.indexOf.call(S,m,void 0),X;(X=0<=z)&&Array.prototype.splice.call(S,z,1),X&&(Hi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ur(u,m,v,S){for(var z=0;z<u.length;++z){var X=u[z];if(!X.da&&X.listener==m&&X.capture==!!v&&X.ha==S)return z}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),js={};function bo(u,m,v,S,z){if(Array.isArray(m)){for(var X=0;X<m.length;X++)bo(u,m[X],v,S,z);return null}return v=Ro(v),u&&u[Ce]?u.K(m,v,y(S)?!!S.capture:!1,z):gn(u,m,v,!1,S,z)}function gn(u,m,v,S,z,X){if(!m)throw Error("Invalid event type");var at=y(z)?!!z.capture:!!z,Vt=Ca(u);if(Vt||(u[Lr]=Vt=new hi(u)),v=Vt.add(m,v,S,at,X),v.proxy)return v;if(S=Gc(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)pt||(z=at),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(Pr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gc(){function u(v){return m.call(u.src,u.listener,v)}const m=Fc;return u}function Bs(u,m,v,S,z){if(Array.isArray(m))for(var X=0;X<m.length;X++)Bs(u,m[X],v,S,z);else S=y(S)?!!S.capture:!!S,v=Ro(v),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(X=u.g[m],v=Ur(X,v,S,z),-1<v&&(Hi(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ca(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ur(m,v,S,z)),(v=-1<u?m[u]:null)&&wa(v))}function wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Mr(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Pr(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ca(m))?(Mr(v,u),v.h==0&&(v.src=null,m[Lr]=null)):Hi(u)}}}function Pr(u){return u in js?js[u]:js[u]="on"+u}function Fc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&wa(u),u=v.call(S,m)}return u}function Ca(u){return u=u[Lr],u instanceof hi?u:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ro(u){return typeof u=="function"?u:(u[zs]||(u[zs]=function(m){return u.handleEvent(m)}),u[zs])}function le(){ot.call(this),this.i=new hi(this),this.M=this,this.F=null}x(le,ot),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,v,S){Bs(this,u,m,v,S)};function Ht(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var z=m;m=new rt(S,u),M(m,z)}if(z=!0,v)for(var X=v.length-1;0<=X;X--){var at=m.g=v[X];z=ln(at,S,!0,m)&&z}if(at=m.g=u,z=ln(at,S,!0,m)&&z,z=ln(at,S,!1,m)&&z,v)for(X=0;X<v.length;X++)at=m.g=v[X],z=ln(at,S,!1,m)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)Hi(v[S]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},le.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ln(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,X=0;X<m.length;++X){var at=m[X];if(at&&!at.da&&at.capture==v){var Vt=at.listener,Te=at.ha||at.src;at.fa&&Mr(u.i,at),z=Vt.call(Te,S)!==!1&&z}}return z&&!S.defaultPrevented}function Fe(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function wo(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yc extends ot{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){ot.call(this),this.h=u,this.g={}}x(jr,ot);var Br=[];function zr(u){St(u.g,function(m,v){this.g.hasOwnProperty(v)&&wa(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),zr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=p.JSON.stringify,Da=p.JSON.parse,kr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ks(){}ks.prototype.h=null;function qs(u){return u.h||(u.h=u.i())}function Hs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){rt.call(this,"d")}x(di,rt);function Gs(){rt.call(this,"c")}x(Gs,rt);var Bn={},Fs=null;function Gi(){return Fs=Fs||new le}Bn.La="serverreachability";function Na(u){rt.call(this,Bn.La,u)}x(Na,rt);function Fi(u){const m=Gi();Ht(m,new Na(m))}Bn.STAT_EVENT="statevent";function Co(u,m){rt.call(this,Bn.STAT_EVENT,u),this.stat=m}x(Co,rt);function ee(u){const m=Gi();Ht(m,new Co(m,u))}Bn.Ma="timingevent";function Ee(u,m){rt.call(this,Bn.Ma,u),this.size=m}x(Ee,rt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Ys(u,m,v,S,z,X){u.info(function(){if(u.g)if(X)for(var at="",Vt=X.split("&"),Te=0;Te<Vt.length;Te++){var Mt=Vt[Te].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Se=Ne.split("_");at=2<=Se.length&&Se[1]=="type"?at+(Ne+"="+Mt+"&"):at+(Ne+"=redacted&")}}else at=null;else at=X;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+at})}function Qc(u,m,v,S,z,X,at){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+X+" "+at})}function Yi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qr(u,v)+(S?" "+S:"")})}function Do(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function qr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var at=1;at<z.length;at++)z[at]=""}}}}return On(v)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function kn(){}x(kn,ks),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},zn=new kn;function Je(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Qs={},xa={};function In(u,m,v){u.L=1,u.v=Qr(on(m)),u.m=v,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),Hr(u),u.A=on(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ws(v.i,"t",S),u.C=0,v=u.j.J,u.h=new ce,u.g=Go(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Yc(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Br[0]=z.toString()),z=Br);for(var X=0;X<z.length;X++){var at=bo(v,z[X],S||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),Ys(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const Se=Tn(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ai?Fi(3):Fi(2)),Xi(this);var v=this.g.Z();this.X=v;e:if(No(this)){var S=Lo(this.g);u="";var z=S.length,X=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),qn(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(X&&m==z-1)});S.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,Qc(this.i,this.u,this.A,this.l,this.R,Se,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Te=this.g;if((Vt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Vt)){var Mt=Vt;break e}}Mt=null}if(v=Mt)Yi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,v);else{this.o=!1,this.s=3,ee(12),Ue(this),qn(this);break t}}if(this.P){v=!0;let Le;for(;!this.J&&this.C<at.length;)if(Le=xo(this,at),Le==xa){Se==4&&(this.s=4,ee(14),v=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Qs){this.s=4,ee(15),Yi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Yi(this.i,this.l,Le,null),Gr(this,Le);if(No(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||at.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)Yi(this.i,this.l,at,"[Invalid Chunked Response]"),Ue(this),qn(this);else if(0<at.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),ea(Ne),Ne.M=!0,ee(11))}}else Yi(this.i,this.l,at,null),Gr(this,at);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?ko(this.j,this):(this.o=!1,Hr(this)))}else Jc(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),qn(this)}}}catch{}finally{}};function No(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xo(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?xa:(v=Number(m.substring(v,S)),isNaN(v)?Qs:(S+=1,S+v>m.length?xa:(m=m.slice(S,S+v),u.C=S+v,m)))}Je.prototype.cancel=function(){this.J=!0,Ue(this)};function Hr(u){u.S=Date.now()+u.I,Oo(u,u.I)}function Oo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(A(u.ba,u),m)}function Xi(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Do(this.i,this.A),this.L!=2&&(Fi(),ee(17)),Ue(this),this.s=2,qn(this)):Oo(this,this.S-u)};function qn(u){u.j.G==0||u.J||ko(u.j,u)}function Ue(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Gr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Xs(v.h,u))){if(!u.K&&Xs(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)qa(v),za(v);else break t;rl(v),ee(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(A(v.Za,v),6e3));if(1>=Ia(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((u.K||v.g==u)&&qa(v),!K(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(v.la=Ne,v.j.info("VER="+v.la));const Se=Mt[4];Se!=null&&(v.Aa=Se,v.j.info("SVER="+v.Aa));const Ai=Mt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(S=1.5*Ai,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Le=u.g;if(Le){const Kn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var X=S.h;X.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Va(X,X.h),X.h=null))}if(S.D){const sl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(S.ya=sl,Yt(S.I,S.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var at=u;if(S.qa=Ho(S,S.J?S.ia:null,S.W),at.K){We(S.h,at);var Vt=at,Te=S.L;Te&&(Vt.I=Te),Vt.B&&(Xi(Vt),Hr(Vt)),S.g=at}else Bo(S);0<v.i.length&&ka(v)}else Mt[0]!="stop"&&Mt[0]!="close"||Si(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Si(v,7):nl(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Fi(4)}catch{}}var Io=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ia(u){return u.h?1:u.g?u.g.size:0}function Xs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Va(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=Ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ks(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return G(u.i)}function Xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function Ma(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function $s(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ma(u),S=Xc(u),z=S.length,X=0;X<z;X++)m.call(void 0,S[X],v&&v[X],u)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),z=null;if(0<=S){var X=u[v].substring(0,S);z=u[v].substring(S+1)}else X=u[v];m(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Yr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,v=new vi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),yi(this,v),this.m=u.m}else u&&(m=String(u).match(Fr))?(this.h=!1,Yr(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),Ki(this,m[4]),this.l=vn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xr(m,Zs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xr(m,Zs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Xr(v,v.charAt(0)=="/"?$c:Js,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Xr(v,Ua)),u.join("")};function on(u){return new pe(u)}function Yr(u,m,v){u.j=v?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,v){m instanceof vi?(u.i=m,Mo(u.i,u.h)):(v||(m=Xr(m,Zc)),u.i=new vi(m,u.h))}function Yt(u,m,v){u.i.set(m,v)}function Qr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Vo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Js=/[#\?:]/g,$c=/[#\?]/g,Zc=/[#\?@]/g,Ua=/#/g;function vi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Kc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=vi.prototype,a.add=function(u,m){_n(this),this.i=null,u=Hn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _i(u,m){_n(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return _n(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(v,S){v.forEach(function(z){u.call(m,z,S,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const z=u[S];for(let X=0;X<z.length;X++)v.push(m[S])}return v},a.V=function(u){_n(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return _n(this),this.i=null,u=Hn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ws(u,m,v){_i(u,m),0<v.length&&(u.i=null,u.g.set(Hn(u,m),G(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const X=encodeURIComponent(String(S)),at=this.V(S);for(S=0;S<at.length;S++){var z=X;at[S]!==""&&(z+="="+encodeURIComponent(String(at[S]))),u.push(z)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Mo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(_i(this,S),Ws(this,z,v))},u)),u.j=m}function Kr(u,m){const v=new yn;if(p.Image){const S=new Image;S.onload=U(En,v,"TestLoadImage: loaded",!0,m,S),S.onerror=U(En,v,"TestLoadImage: error",!1,m,S),S.onabort=U(En,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=U(En,v,"TestLoadImage: timeout",!1,m,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Vn(u,m){const v=new yn,S=new AbortController,z=setTimeout(()=>{S.abort(),En(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(z),X.ok?En(v,"TestPingServer: ok",!0,m):En(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),En(v,"TestPingServer: error",!1,m)})}function En(u,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function $r(){this.g=new kr}function Gn(u,m,v){const S=v||"";try{$s(u,function(z,X){let at=z;y(z)&&(at=On(z)),m.push(S+X+"="+encodeURIComponent(at))})}catch(z){throw m.push(S+"type="+encodeURIComponent("_badmap")),z}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}x($i,ks),$i.prototype.g=function(){return new Ti(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ti,le),a=Ti.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Yn(this),this.readyState==3&&tl(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function el(u){let m="";return St(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function De(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=el(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Yt(u,m,v))}function kt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(kt,le);var La=/^https?$/i,Zr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?qs(this.o):qs(zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(X){Uo(this,X);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())v.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,at]of v)this.g.setRequestHeader(X,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Uo(this,X)}};function Uo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Pa(u),Qn(u)}function Pa(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},a.bb=function(){ja(this)};function ja(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Fe(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=at===0){var z=String(u.D).match(Fr)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),S=!La.test(z?z.toLowerCase():"")}v=S}if(v)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var X=2<Tn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",Pa(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Jr(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{v.onreadystatechange=S}catch{}}}function Jr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Da(m)}};function Lo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(K(u[S]))continue;var v=P(u[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=m[z]||[];m[z]=X,X.push(v)}L(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ba(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new $r,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ba.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,S){ee(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ho(this,null,this.W),ka(this)};function nl(u){if(Po(u),u.G==3){var m=u.U++,v=on(u.I);if(Yt(v,"SID",u.K),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),ta(u,v),m=new Je(u,u.j,m),m.L=2,m.v=Qr(on(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=Go(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hr(m)}qo(u)}function za(u){u.g&&(ea(u),u.g.cancel(),u.g=null)}function Po(u){za(u),u.u&&(p.clearTimeout(u.u),u.u=null),qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ka(u){if(!Oa(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||I(),mt||(st(),mt=!0),Bt.add(m,u),u.B=0}}function Wc(u,m){return Ia(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(A(u.Ga,u,m),al(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Je(this,this.j,u);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=jo(this,z,m),v=on(this.I),Yt(v,"RID",u),Yt(v,"CVER",22),this.D&&Yt(v,"X-HTTP-Session-Id",this.D),ta(this,v),X&&(this.O?m="headers="+encodeURIComponent(String(el(X)))+"&"+m:this.m&&De(v,this.m,X)),Va(this.h,z),this.Ua&&Yt(v,"TYPE","init"),this.P?(Yt(v,"$req",m),Yt(v,"SID","null"),z.T=!0,In(z,v,null)):In(z,v,m),this.G=2}}else this.G==3&&(u?il(this,u):this.i.length==0||Oa(this.h)||il(this))};function il(u,m){var v;m?v=m.l:v=u.U++;const S=on(u.I);Yt(S,"SID",u.K),Yt(S,"RID",v),Yt(S,"AID",u.T),ta(u,S),u.m&&u.o&&De(S,u.m,u.o),v=new Je(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=jo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,v),In(v,S,m)}function ta(u,m){u.H&&St(u.H,function(v,S){Yt(m,S,v)}),u.l&&$s({},function(v,S){Yt(m,S,v)})}function jo(u,m,v){v=Math.min(u.i.length,v);var S=u.l?A(u.l.Na,u.l,u):null;t:{var z=u.i;let X=-1;for(;;){const at=["count="+v];X==-1?0<v?(X=z[0].g,at.push("ofs="+X)):X=0:at.push("ofs="+X);let Vt=!0;for(let Te=0;Te<v;Te++){let Mt=z[Te].g;const Ne=z[Te].map;if(Mt-=X,0>Mt)X=Math.max(0,z[Te].g-100),Vt=!1;else try{Gn(Ne,at,"req"+Mt+"_")}catch{S&&S(Ne)}}if(Vt){S=at.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,S}function Bo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||I(),mt||(st(),mt=!0),Bt.add(m,u),u.v=0}}function rl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(A(u.Fa,u),al(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(A(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),za(this),zo(this))};function ea(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function zo(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),ta(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Qr(on(m)),v.m=null,v.P=!0,pi(v,u)}a.Za=function(){this.C!=null&&(this.C=null,za(this),rl(this),ee(19))};function qa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function ko(u,m){var v=null;if(u.g==m){qa(u),ea(u),u.g=null;var S=2}else if(Xs(u.h,m))v=m.D,We(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;S=Gi(),Ht(S,new Ee(S,v)),ka(u)}else Bo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(S==1&&Wc(u,m)||S==2&&rl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function al(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),S=u.Xa;const z=!S;S=new pe(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Yr(S,"https"),Qr(S),z?Kr(S.toString(),v):Vn(S.toString(),v)}else ee(2);u.G=0,u.l&&u.l.sa(m),qo(u),Po(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function qo(u){if(u.G=0,u.ka=[],u.l){const m=Ks(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Ho(u,m,v){var S=v instanceof pe?on(v):new pe(v);if(S.g!="")m&&(S.g=m+"."+S.g),Ki(S,S.s);else{var z=p.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var X=new pe(null);S&&Yr(X,S),m&&(X.g=m),z&&Ki(X,z),v&&(X.l=v),S=X}return v=u.D,m=u.ya,v&&m&&Yt(S,v,m),Yt(S,"VER",u.la),ta(u,S),S}function Go(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new $i({eb:v})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}a=Fo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ha(){}Ha.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){le.call(this),this.g=new Ba(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}x(tn,le),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){nl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=On(u),u=v);m.i.push(new Io(m.Ya++,u)),m.G==3&&ka(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,tn.aa.N.call(this)};function Yo(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Yo,di);function Qo(){Gs.call(this),this.status=1}x(Qo,Gs);function Xn(u){this.g=u}x(Xn,Fo),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new Yo(u))},Xn.prototype.sa=function(u){Ht(this.g,new Qo)},Xn.prototype.ra=function(){Ht(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,c_=function(){return new Ha},u_=function(){return Gi()},o_=Bn,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,nc=Qi,mi.COMPLETE="complete",l_=mi,Hs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",le.prototype.listen=le.prototype.K,$l=Hs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,s_=kt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Xy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new t_("@firebase/firestore");function vs(){return _a.logLevel}function ct(a,...e){if(_a.logLevel<=Pt.DEBUG){const i=e.map(Ud);_a.debug(`Firestore (${Is}): ${a}`,...i)}}function Bi(a,...e){if(_a.logLevel<=Pt.ERROR){const i=e.map(Ud);_a.error(`Firestore (${Is}): ${a}`,...i)}}function wr(a,...e){if(_a.logLevel<=Pt.WARN){const i=e.map(Ud);_a.warn(`Firestore (${Is}): ${a}`,...i)}}function Ud(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,h_(a,s,i)}function h_(a,e,i){let s=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Bi(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||h_(e,o,s)}function bt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class ES{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class TS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new f_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class SS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new SS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ky(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function dd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=d_(),d=wS(c.encode($y(a,i)),c.encode($y(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,e.length)}function $y(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function wS(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Ct(a[i],e[i]);return Ct(a.length,e.length)}function ws(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ei.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Wt extends ei{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const CS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ei{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return CS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new ke([Zy])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ft(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ft(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(a,e,i){if(!i)throw new ft(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function DS(a,e,i,s){if(e===!0&&s===!0)throw new ft(it.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Jy(a){if(!gt.isDocumentKey(a))throw new ft(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Wy(a){if(gt.isDocumentKey(a))throw new ft(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function p_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Pd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function lo(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pd(a);throw new ft(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(a,e){const i={typeString:a};return e&&(i.value=e),i}function go(a,e){if(!p_(a))throw new ft(it.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ft(it.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-62135596800,ev=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ev);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<tv)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:_e("string",te._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new te(0,0))}static max(){return new At(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function NS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Cr(o,gt.empty(),e)}function xS(a){return new Cr(a.readTime,a.key,oo)}class Cr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Cr(At.min(),gt.empty(),oo)}static max(){return new Cr(At.max(),gt.empty(),oo)}}function OS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==IS)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&i()},g=>s(g))}),d=!0,c===o&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(o=>o?tt.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next(E=>{d[y]=E,++p,p===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new tt((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function MS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ms(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Cc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=-1;function Dc(a){return a==null}function mc(a){return a===0&&1/a==-1/0}function US(a){return typeof a=="number"&&Number.isInteger(a)&&!mc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="";function LS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=nv(e)),e=PS(a.get(i),e);return nv(e)}function PS(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case g_:i+="";break;default:i+=c}}return i}function nv(a){return a+g_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ta(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function y_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(e){return new rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new we(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v_("Invalid base64 string: "+c):c}}(e);return new Ge(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const jS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=jS.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Nr(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="server_timestamp",E_="__type__",T_="__previous_value__",S_="__local_write_time__";function Bd(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[E_])===null||i===void 0?void 0:i.stringValue)===__}function Nc(a){const e=a.mapValue.fields[T_];return Bd(e)?Nc(e):e}function uo(a){const e=Dr(a.mapValue.fields[S_].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i,s,o,c,d,p,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const pc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||pc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",zS="__max__",$u={mapValue:{}},b_="__vector__",gc="value";function xr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Bd(a)?4:qS(a)?9007199254740991:kS(a)?10:11:_t(28295,{value:a})}function li(a,e){if(a===e)return!0;const i=xr(a);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uo(a).isEqual(uo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Dr(o.timestampValue),p=Dr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Nr(o.bytesValue).isEqual(Nr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),p=de(c.doubleValue);return d===p?mc(d)===mc(p):isNaN(d)&&isNaN(p)}return!1}(a,e);case 9:return ws(a.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(iv(d)!==iv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!li(d[g],p[g])))return!1;return!0}(a,e);default:return _t(52216,{left:a})}}function ho(a,e){return(a.values||[]).find(i=>li(i,e))!==void 0}function Cs(a,e){if(a===e)return 0;const i=xr(a),s=xr(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const p=de(c.integerValue||c.doubleValue),g=de(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(a,e);case 3:return av(a.timestampValue,e.timestampValue);case 4:return av(uo(a),uo(e));case 5:return dd(a.stringValue,e.stringValue);case 6:return function(c,d){const p=Nr(c),g=Nr(d);return p.compareTo(g)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Ct(p[y],g[y]);if(E!==0)return E}return Ct(p.length,g.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Ct(de(c.latitude),de(d.latitude));return p!==0?p:Ct(de(c.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return sv(a.arrayValue,e.arrayValue);case 10:return function(c,d){var p,g,y,E;const b=c.fields||{},A=d.fields||{},U=(p=b[gc])===null||p===void 0?void 0:p.arrayValue,x=(g=A[gc])===null||g===void 0?void 0:g.arrayValue,G=Ct(((y=U?.values)===null||y===void 0?void 0:y.length)||0,((E=x?.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:sv(U,x)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===$u.mapValue&&d===$u.mapValue)return 0;if(c===$u.mapValue)return 1;if(d===$u.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const A=dd(g[b],E[b]);if(A!==0)return A;const U=Cs(p[g[b]],y[E[b]]);if(U!==0)return U}return Ct(g.length,E.length)}(a.mapValue,e.mapValue);default:throw _t(23264,{le:i})}}function av(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Dr(a),s=Dr(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function sv(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Cs(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function Ds(a){return md(a)}function md(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Nr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=md(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${md(i.fields[d])}`;return o+"}"}(a.mapValue):_t(61005,{value:a})}function ic(a){switch(xr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(a);return e?16+ic(e):16;case 5:return 2*a.stringValue.length;case 6:return Nr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+ic(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Ta(s.fields,(c,d)=>{o+=c.length+ic(d)}),o}(a.mapValue);default:throw _t(13486,{value:a})}}function pd(a){return!!a&&"integerValue"in a}function zd(a){return!!a&&"arrayValue"in a}function lv(a){return!!a&&"nullValue"in a}function ov(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function rc(a){return!!a&&"mapValue"in a}function kS(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[A_])===null||i===void 0?void 0:i.stringValue)===b_}function to(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ta(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=to(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=to(a.arrayValue.values[i]);return e}return Object.assign({},a)}function qS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=to(d):o.push(p.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ta(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Nn(to(this.value))}}function R_(a){const e=[];return Ta(a.fields,(i,s)=>{const o=new ke([i]);if(rc(s)){const c=R_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,o,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new $e(e,0,At.min(),At.min(),At.min(),Nn.empty(),0)}static newFoundDocument(e,i,s,o){return new $e(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new $e(e,2,i,At.min(),At.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,At.min(),At.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.position=e,this.inclusive=i}}function uv(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Cs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function cv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!li(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i="asc"){this.field=e,this.dir=i}}function HS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{}class Re extends w_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new FS(e,i,s):i==="array-contains"?new XS(e,s):i==="in"?new KS(e,s):i==="not-in"?new $S(e,s):i==="array-contains-any"?new ZS(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new YS(e,s):new QS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cs(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends w_{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new oi(e,i)}matches(e){return C_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function C_(a){return a.op==="and"}function D_(a){return GS(a)&&C_(a)}function GS(a){for(const e of a.filters)if(e instanceof oi)return!1;return!0}function gd(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Ds(a.value);if(D_(a))return a.filters.map(e=>gd(e)).join(",");{const e=a.filters.map(i=>gd(i)).join(",");return`${a.op}(${e})`}}function N_(a,e){return a instanceof Re?function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)}(a,e):a instanceof oi?function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,p)=>c&&N_(d,o.filters[p]),!0):!1}(a,e):void _t(19439)}function x_(a){return a instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Ds(i.value)}`}(a):a instanceof oi?function(i){return i.op.toString()+" {"+i.getFilters().map(x_).join(" ,")+"}"}(a):"Filter"}class FS extends Re{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class YS extends Re{constructor(e,i){super(e,"in",i),this.keys=O_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class QS extends Re{constructor(e,i){super(e,"not-in",i),this.keys=O_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function O_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class XS extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zd(i)&&ho(i.arrayValue,this.value)}}class KS extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class $S extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ho(this.value.arrayValue,i)}}class ZS extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ho(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function hv(a,e=null,i=[],s=[],o=null,c=null,d=null){return new JS(a,e,i,s,o,c,d)}function kd(a){const e=bt(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>gd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ds(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ds(s)).join(",")),e.Pe=i}return e.Pe}function qd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!HS(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!N_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!cv(a.startAt,e.startAt)&&cv(a.endAt,e.endAt)}function yd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function WS(a,e,i,s,o,c,d,p){return new xc(a,e,i,s,o,c,d,p)}function I_(a){return new xc(a)}function fv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function tA(a){return a.collectionGroup!==null}function eo(a){const e=bt(a);if(e.Te===null){e.Te=[];const i=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(ke.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Te.push(new vc(c,s))}),i.has(ke.keyField().canonicalString())||e.Te.push(new vc(ke.keyField(),s))}return e.Te}function ni(a){const e=bt(a);return e.Ie||(e.Ie=eA(e,eo(a))),e.Ie}function eA(a,e){if(a.limitType==="F")return hv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new vc(o.field,c)});const i=a.endAt?new yc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new yc(a.startAt.position,a.startAt.inclusive):null;return hv(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function vd(a,e,i){return new xc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Oc(a,e){return qd(ni(a),ni(e))&&a.limitType===e.limitType}function V_(a){return`${kd(ni(a))}|lt:${a.limitType}`}function _s(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>x_(o)).join(", ")}]`),Dc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ds(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ds(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function Ic(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of eo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,p,g){const y=uv(d,p,g);return d.inclusive?y<=0:y<0}(s.startAt,eo(s),o)||s.endAt&&!function(d,p,g){const y=uv(d,p,g);return d.inclusive?y>=0:y>0}(s.endAt,eo(s),o))}(a,e)}function nA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function M_(a){return(e,i)=>{let s=!1;for(const o of eo(a)){const c=iA(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function iA(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Cs(g,y):_t(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new ae(gt.comparator);function zi(){return rA}const U_=new ae(gt.comparator);function Zl(...a){let e=U_;for(const i of a)e=e.insert(i.key,i);return e}function L_(a){let e=U_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function va(){return no()}function P_(){return no()}function no(){return new Sa(a=>a.toString(),(a,e)=>a.isEqual(e))}const aA=new ae(gt.comparator),sA=new we(gt.comparator);function It(...a){let e=sA;for(const i of a)e=e.add(i);return e}const lA=new we(Ct);function oA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function j_(a){return{integerValue:""+a}}function uA(a,e){return US(e)?j_(e):Hd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function cA(a,e,i){return a instanceof _c?function(o,c){const d={fields:{[E_]:{stringValue:__},[S_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bd(c)&&(c=Nc(c)),c&&(d.fields[T_]=c),{mapValue:d}}(i,e):a instanceof fo?z_(a,e):a instanceof mo?k_(a,e):function(o,c){const d=B_(o,c),p=dv(d)+dv(o.Ee);return pd(d)&&pd(o.Ee)?j_(p):Hd(o.serializer,p)}(a,e)}function hA(a,e,i){return a instanceof fo?z_(a,e):a instanceof mo?k_(a,e):i}function B_(a,e){return a instanceof Ec?function(s){return pd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class _c extends Vc{}class fo extends Vc{constructor(e){super(),this.elements=e}}function z_(a,e){const i=q_(e);for(const s of a.elements)i.some(o=>li(o,s))||i.push(s);return{arrayValue:{values:i}}}class mo extends Vc{constructor(e){super(),this.elements=e}}function k_(a,e){let i=q_(e);for(const s of a.elements)i=i.filter(o=>!li(o,s));return{arrayValue:{values:i}}}class Ec extends Vc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function dv(a){return de(a.integerValue||a.doubleValue)}function q_(a){return zd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function fA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof fo&&o instanceof fo||s instanceof mo&&o instanceof mo?ws(s.elements,o.elements,li):s instanceof Ec&&o instanceof Ec?li(s.Ee,o.Ee):s instanceof _c&&o instanceof _c}(a.transform,e.transform)}class dA{constructor(e,i){this.version=e,this.transformResults=i}}class ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mc{}function H_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Gd(a.key,ii.none()):new yo(a.key,a.data,ii.none());{const i=a.data,s=Nn.empty();let o=new we(ke.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Aa(a.key,s,new Pn(o.toArray()),ii.none())}}function mA(a,e,i){a instanceof yo?function(o,c,d){const p=o.value.clone(),g=pv(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):a instanceof Aa?function(o,c,d){if(!ac(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=pv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(G_(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function io(a,e,i,s){return a instanceof yo?function(c,d,p,g){if(!ac(c.precondition,d))return p;const y=c.value.clone(),E=gv(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Aa?function(c,d,p,g){if(!ac(c.precondition,d))return p;const y=gv(c.fieldTransforms,g,d),E=d.data;return E.setAll(G_(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(a,e,i,s):function(c,d,p){return ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(a,e,i)}function pA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=B_(s.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(s.field,c))}return i||null}function mv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ws(s,o,(c,d)=>fA(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class yo extends Mc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends Mc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function G_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function pv(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,hA(d,p,i[o]))}return s}function gv(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,cA(c,d,e))}return s}class Gd extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gA extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mA(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=io(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=io(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=P_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const g=H_(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(i,s)=>mv(i,s))&&ws(this.baseMutations,e.baseMutations,(i,s)=>mv(i,s))}}class Fd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return aA}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Fd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function EA(a){switch(a){case it.OK:return _t(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function F_(a){if(a===void 0)return Bi("GRPC error has no .code"),it.UNKNOWN;switch(a){case ve.OK:return it.OK;case ve.CANCELLED:return it.CANCELLED;case ve.UNKNOWN:return it.UNKNOWN;case ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case ve.INTERNAL:return it.INTERNAL;case ve.UNAVAILABLE:return it.UNAVAILABLE;case ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case ve.NOT_FOUND:return it.NOT_FOUND;case ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case ve.ABORTED:return it.ABORTED;case ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case ve.DATA_LOSS:return it.DATA_LOSS;default:return _t(39323,{code:a})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new Sr([4294967295,4294967295],0);function yv(a){const e=d_().encode(a),i=new a_;return i.update(e),new Uint8Array(i.digest())}function vv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([i,s],0),new Sr([o,c],0)]}class Yd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=Sr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(Sr.fromNumber(s)));return o.compare(TA)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=yv(e),[s,o]=vv(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Yd(c,o,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const i=yv(e),[s,o]=vv(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,vo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Uc(At.min(),o,new ae(Ct),zi(),It())}}class vo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new vo(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class Y_{constructor(e,i){this.targetId=e,this.De=i}}class Q_{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class _v{constructor(){this.ve=0,this.Ce=Ev(),this.Fe=Ge.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=It(),i=It(),s=It();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:c})}}),new vo(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=Ev()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class SA{constructor(e){this.We=e,this.Ge=new Map,this.ze=zi(),this.je=Zu(),this.Je=Zu(),this.He=new ae(Ct)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const c=o.target;if(yd(c))if(s===0){const d=new gt(c.path);this.Xe(i,d,$e.newNoDocument(d,At.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const p=this._t(e),g=p?this.ut(p,e,d):1;if(g!==0){this.rt(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,y)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Nr(s).toUint8Array()}catch(g){if(g instanceof v_)return wr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Yd(d,o,c)}catch(g){return wr(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.Xe(i,c,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((c,d)=>{const p=this.st(d);if(p){if(c.current&&yd(p.target)){const g=new gt(p.target.path);this.Tt(g).has(d)||this.It(d,g)||this.Xe(d,g,$e.newNoDocument(g,e))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=It();this.Je.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Uc(e,i,this.He,this.ze,s);return this.ze=zi(),this.je=Zu(),this.Je=Zu(),this.He=new ae(Ct),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new _v,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new we(Ct),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new we(Ct),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _v),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new ae(gt.comparator)}function Ev(){return new ae(gt.comparator)}const AA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RA={and:"AND",or:"OR"};class wA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(a,e){return a.useProto3Json||Dc(e)?e:{value:e}}function Tc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function CA(a,e){return Tc(a,e.toTimestamp())}function ri(a){return qt(!!a,49232),At.fromTimestamp(function(i){const s=Dr(i);return new te(s.seconds,s.nanos)}(a))}function Qd(a,e){return Ed(a,e).canonicalString()}function Ed(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function K_(a){const e=Wt.fromString(a);return qt(t0(e),10190,{key:e.toString()}),e}function Td(a,e){return Qd(a.databaseId,e.path)}function ed(a,e){const i=K_(e);if(i.get(1)!==a.databaseId.projectId)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(Z_(i))}function $_(a,e){return Qd(a.databaseId,e)}function DA(a){const e=K_(a);return e.length===4?Wt.emptyPath():Z_(e)}function Sd(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Z_(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Tv(a,e,i){return{name:Td(a,e),fields:i.value.mapValue.fields}}function NA(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),Ge.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ge.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const E=y.code===void 0?it.UNKNOWN:F_(y.code);return new ft(E,y.message||"")}(d);i=new Q_(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ed(a,s.document.name),c=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):At.min(),p=new Nn({mapValue:{fields:s.document.fields}}),g=$e.newFoundDocument(o,c,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];i=new sc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ed(a,s.document),c=s.readTime?ri(s.readTime):At.min(),d=$e.newNoDocument(o,c),p=s.removedTargetIds||[];i=new sc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ed(a,s.document),c=s.removedTargetIds||[];i=new sc([],c,o,null)}else{if(!("filter"in e))return _t(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new _A(o,c),p=s.targetId;i=new Y_(p,d)}}return i}function xA(a,e){let i;if(e instanceof yo)i={update:Tv(a,e.key,e.value)};else if(e instanceof Gd)i={delete:Td(a,e.key)};else if(e instanceof Aa)i={update:Tv(a,e.key,e.data),updateMask:BA(e.fieldMask)};else{if(!(e instanceof gA))return _t(16599,{Rt:e.type});i={verify:Td(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const p=d.transform;if(p instanceof _c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ec)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw _t(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:CA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)}(a,e.precondition)),i}function OA(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(o,c){let d=o.updateTime?ri(o.updateTime):ri(c);return d.isEqual(At.min())&&(d=ri(c)),new dA(d,o.transformResults||[])}(i,e))):[]}function IA(a,e){return{documents:[$_(a,e.path)]}}function VA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$_(a,o);const c=function(y){if(y.length!==0)return W_(oi.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Es(A.field),direction:LA(A.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_d(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:i,parent:o}}function MA(a){let e=DA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(b){const A=J_(b);return A instanceof oi&&D_(A)?A.getFilters():[A]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(A=>function(x){return new vc(Ts(x.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A))}(i.orderBy));let p=null;i.limit&&(p=function(b){let A;return A=typeof b=="object"?b.value:b,Dc(A)?null:A}(i.limit));let g=null;i.startAt&&(g=function(b){const A=!!b.before,U=b.values||[];return new yc(U,A)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const A=!b.before,U=b.values||[];return new yc(U,A)}(i.endAt)),WS(e,o,d,c,p,"F",g,y)}function UA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function J_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ts(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ts(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ts(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ts(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(a):a.fieldFilter!==void 0?function(i){return Re.create(Ts(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return oi.create(i.compositeFilter.filters.map(s=>J_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(a):_t(30097,{filter:a})}function LA(a){return AA[a]}function PA(a){return bA[a]}function jA(a){return RA[a]}function Es(a){return{fieldPath:a.canonicalString()}}function Ts(a){return ke.fromServerFormat(a.fieldPath)}function W_(a){return a instanceof Re?function(i){if(i.op==="=="){if(ov(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NAN"}};if(lv(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ov(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NAN"}};if(lv(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(i.field),op:PA(i.op),value:i.value}}}(a):a instanceof oi?function(i){const s=i.getFilters().map(o=>W_(o));return s.length===1?s[0]:{compositeFilter:{op:jA(i.op),filters:s}}}(a):_t(54877,{filter:a})}function BA(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function t0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,s,o,c=At.min(),d=At.min(),p=Ge.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.gt=e}}function kA(a){const e=MA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Dn=new HA}addToCollectionParentIndex(e,i){return this.Dn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Cr.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class HA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(e0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ns(0)}static ur(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",GA=1048576;function bv([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class FA{constructor(e){this.Tr=e,this.buffer=new we(bv),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();bv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ct(Av,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ms(i)?ct(Av,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Rr(3e5)})}}class QA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(Cc.ue);const s=new FA(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Sv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,c,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,p=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),vs()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function XA(a,e){return new QA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.changes=new Sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&io(s.mutation,o,Pn.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const o=va();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Zl();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=va();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,o){let c=zi();const d=no(),p=function(){return no()}();return i.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Aa)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),io(E.mutation,y,E.mutation.getFieldMask(),te.now())):d.set(y.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var b;return p.set(y,new $A(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(e,i){const s=no();let o=new ae((d,p)=>d-p),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Pn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||It()).add(g);o=o.insert(p.batchId,b)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=P_();E.forEach(A=>{if(!c.has(A)){const U=H_(i.get(A),s.get(A));U!==null&&b.set(A,U),c=c.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):tt.resolve(va());let p=oo,g=c;return d.next(y=>tt.forEach(y,(E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,It())).next(E=>({batchId:p,changes:L_(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(e,c).next(p=>tt.forEach(p,g=>{const y=function(b,A){return new xc(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,A)=>{d=d.insert(b,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,$e.newInvalidDocument(E)))});let p=Zl();return d.forEach((g,y)=>{const E=c.get(g);E!==void 0&&io(E.mutation,y,Pn.empty(),te.now()),Ic(i,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return tt.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:kA(o.bundledQuery),readTime:ri(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.overlays=new ae(gt.comparator),this.kr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=va();return tt.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.wt(e,i,c)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=va(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ae((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=va(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=va(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return tt.resolve(p)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vA(i,s));let c=this.kr.get(i);c===void 0&&(c=It(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.qr=new we(Ve.Qr),this.$r=new we(Ve.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Ve(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new gt(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new gt(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1);let c=It();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Ve(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return gt.comparator(e.key,i.key)||Ct(e.Hr,i.Hr)}static Ur(e,i){return Ct(e.Hr,i.Hr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new we(Ve.Qr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Yr=this.Yr.add(new Ve(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?jd:this.er-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const p=this.Zr(d.Hr);c.push(p)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Ct);return i.forEach(o=>{const c=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],p=>{s=s.add(p.Hr)})}),tt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new gt(c),0);let p=new we(Ct);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)},d),tt.resolve(this.ei(p))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return tt.forEach(i.mutations,o=>{const c=new Ve(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Ve(i,0),o=this.Yr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.ni=e,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=zi();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||OS(xS(E),s)<=0||(o.has(E.key)||Ic(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ri(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new ib(this)}getSize(e){return tt.resolve(this.size)}}class ib extends KA{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.persistence=e,this.ii=new Sa(i=>kd(i),qd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new Xd,this.targetCount=0,this._i=Ns.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),tt.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Ns(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.hr(i),tt.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),tt.waitFor(c).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i){this.ai={},this.overlays={},this.ui=new Cc(0),this.ci=!1,this.ci=!0,this.li=new tb,this.referenceDelegate=e(this),this.hi=new rb(this),this.indexManager=new qA,this.remoteDocumentCache=function(o){return new nb(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new zA(i),this.Ti=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new eb(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new ab(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,i){return tt.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class ab extends VS{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.Ai=new Xd,this.Ri=null}static Vi(e){return new Kd(e)}get mi(){if(this.Ri)return this.Ri;throw _t(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.mi,s=>{const o=gt.fromPath(s);return this.fi(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return tt.or([()=>tt.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Sc{constructor(e,i){this.persistence=e,this.gi=new Sa(s=>LS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=XA(this,i)}static Vi(e,i){return new Sc(e,i)}Ii(){}di(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return tt.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(c=>c?tt.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(p=>{p||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),tt.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ic(e.data.value)),i}Sr(e,i,s){return tt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $d(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return WT()?8:MS(ZT())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ps(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new sb;return this.ws(e,i,d).next(p=>{if(c.result=p,this.Rs)return this.Ss(e,i,d,p.size)})}).next(()=>c.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(vs()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(vs()<=Pt.DEBUG&&ct("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vs()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):tt.resolve())}ps(e,i){if(fv(i))return tt.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=vd(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=It(...c);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.bs(i,p);return this.Ds(i,y,d,g.readTime)?this.ps(e,vd(i,null,"F")):this.vs(e,y,i,g)}))})))}ys(e,i,s,o){return fv(i)||o.isEqual(At.min())?tt.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?tt.resolve(null):(vs()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.vs(e,d,i,NS(o,oo)).next(p=>p))})}bs(e,i){let s=new we(M_(e));return i.forEach((o,c)=>{Ic(e,c)&&(s=s.add(c))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,i,s){return vs()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",_s(i)),this.gs.getDocumentsMatchingQuery(e,i,Cr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="LocalStore",ob=3e8;class ub{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ae(Ct),this.Ms=new Sa(c=>kd(c),qd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function cb(a,e,i,s){return new ub(a,e,i,s)}async function i0(a,e){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],p=[];let g=It();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next(y=>({Bs:y,removedBatchIds:d,addedBatchIds:p}))})})}function hb(a,e){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const b=y.batch,A=b.keys();let U=tt.resolve();return A.forEach(x=>{U=U.next(()=>E.getEntry(g,x)).next(G=>{const H=y.docVersions.get(x);qt(H!==null,48541),G.version.compareTo(H)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),U.next(()=>p.mutationQueue.removeMutationBatch(g,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=It();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function r0(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function fb(a,e){const i=bt(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const p=[];e.targetChanges.forEach((E,b)=>{const A=o.get(b);if(!A)return;p.push(i.hi.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.hi.addMatchingKeys(c,E.addedDocuments,b)));let U=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?U=U.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(b,U),function(G,H,D){return G.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=ob?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(A,U,E)&&p.push(i.hi.updateTargetData(c,U))});let g=zi(),y=It();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),p.push(db(c,d,e.documentUpdates).next(E=>{g=E.Ls,y=E.ks})),!s.isEqual(At.min())){const E=i.hi.getLastRemoteSnapshotVersion(c).next(b=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(E)}return tt.waitFor(p).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.Fs=o,c))}function db(a,e,i){let s=It(),o=It();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=zi();return i.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ct(Zd,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{Ls:d,ks:o}})}function mb(a,e){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pb(a,e){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(c=>c?(o=c,tt.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new _r(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function Ad(a,e,i){const s=bt(a),o=s.Fs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ms(d))throw d;ct(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Rv(a,e,i){const s=bt(a);let o=At.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,E){const b=bt(g),A=b.Ms.get(E);return A!==void 0?tt.resolve(b.Fs.get(A)):b.hi.getTargetData(y,E)}(s,d,ni(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:It())).next(p=>(gb(s,nA(e),p),{documents:p,qs:c})))}function gb(a,e,i){let s=a.xs.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.xs.set(e,s)}class wv{constructor(){this.activeTargetIds=oA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yb{constructor(){this.Fo=new wv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new wv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Dv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(Cv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ct(Cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function bd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="RestConnection",_b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eb{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=bd(),p=this.Go(e,i.toUriEncodedString());ct(nd,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,c);const{host:y}=new URL(p),E=Id(y);return this.jo(e,p,g,s,E).then(b=>(ct(nd,`Received RPC '${e}' ${d}: `,b),b),b=>{throw wr(nd,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",s),b})}Jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}Go(e,i){const s=_b[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class Sb extends Eb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,c){const d=bd();return new Promise((p,g)=>{const y=new s_;y.setWithCredentials(!0),y.listenOnce(l_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case nc.NO_ERROR:const b=y.getResponseJson();ct(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case nc.TIMEOUT:ct(Xe,`RPC '${e}' ${d} timed out`),g(new ft(it.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const A=y.getStatus();if(ct(Xe,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const x=U?.error;if(x&&x.status&&x.message){const G=function(D){const K=D.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(K)>=0?K:it.UNKNOWN}(x.status);g(new ft(G,x.message))}else g(new ft(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ft(it.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{c_:e,streamId:d,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ct(Xe,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ct(Xe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)})}P_(e,i,s){const o=bd(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=c_(),p=u_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ct(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=d.createWebChannel(E,g);this.T_(b);let A=!1,U=!1;const x=new Tb({Ho:H=>{U?ct(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(A||(ct(Xe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),ct(Xe,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Yo:()=>b.close()}),G=(H,D,K)=>{H.listen(D,et=>{try{K(et)}catch(lt){setTimeout(()=>{throw lt},0)}})};return G(b,$l.EventType.OPEN,()=>{U||(ct(Xe,`RPC '${e}' stream ${o} transport opened.`),x.s_())}),G(b,$l.EventType.CLOSE,()=>{U||(U=!0,ct(Xe,`RPC '${e}' stream ${o} transport closed`),x.__(),this.I_(b))}),G(b,$l.EventType.ERROR,H=>{U||(U=!0,wr(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),x.__(new ft(it.UNAVAILABLE,"The operation could not be completed")))}),G(b,$l.EventType.MESSAGE,H=>{var D;if(!U){const K=H.data[0];qt(!!K,16349);const et=K,lt=et?.error||((D=et[0])===null||D===void 0?void 0:D.error);if(lt){ct(Xe,`RPC '${e}' stream ${o} received error:`,lt);const ut=lt.status;let St=function(w){const M=ve[w];if(M!==void 0)return F_(M)}(ut),L=lt.message;St===void 0&&(St=it.INTERNAL,L="Unknown error status: "+ut+" with message "+lt.message),U=!0,x.__(new ft(St,L)),b.close()}else ct(Xe,`RPC '${e}' stream ${o} received:`,K),x.a_(K)}}),G(p,o_.STAT_EVENT,H=>{H.stat===fd.PROXY?ct(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===fd.NOPROXY&&ct(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(a){return new wA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class s0{constructor(e,i,s,o,c,d,p,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new a0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new ft(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ct(Nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(ct(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ab extends s0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=NA(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ri(d.readTime):At.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=Sd(this.serializer),i.addTarget=function(c,d){let p;const g=d.target;if(p=yd(g)?{documents:IA(c,g)}:{query:VA(c,g).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=X_(c,d.resumeToken);const y=_d(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Tc(c,d.snapshotVersion.toTimestamp());const y=_d(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=UA(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=Sd(this.serializer),i.removeTarget=e,this.k_(i)}}class bb extends s0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=OA(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=Sd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>xA(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class wb extends Rb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Ed(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(it.UNKNOWN,c.toString())})}Jo(e,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,Ed(i,s),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(it.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Cb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Bi(i),this._a=!1):ct("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class Db{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{ba(this)&&(ct(Ea,"Restarting streams for network reachability change."),await async function(g){const y=bt(g);y.Ia.add(4),await _o(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Pc(y)}(this))})}),this.Aa=new Cb(s,o)}}async function Pc(a){if(ba(a))for(const e of a.da)await e(!0)}async function _o(a){for(const e of a.da)await e(!1)}function l0(a,e){const i=bt(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),em(i)?tm(i):Us(i).x_()&&Wd(i,e))}function Jd(a,e){const i=bt(a),s=Us(i);i.Ta.delete(e),s.x_()&&o0(i,e),i.Ta.size===0&&(s.x_()?s.B_():ba(i)&&i.Aa.set("Unknown"))}function Wd(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Us(a).H_(e)}function o0(a,e){a.Ra.$e(e),Us(a).Y_(e)}function tm(a){a.Ra=new SA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Us(a).start(),a.Aa.aa()}function em(a){return ba(a)&&!Us(a).M_()&&a.Ta.size>0}function ba(a){return bt(a).Ia.size===0}function u0(a){a.Ra=void 0}async function Nb(a){a.Aa.set("Online")}async function xb(a){a.Ta.forEach((e,i)=>{Wd(a,e)})}async function Ob(a,e){u0(a),em(a)?(a.Aa.la(e),tm(a)):a.Aa.set("Unknown")}async function Ib(a,e,i){if(a.Aa.set("Online"),e instanceof Q_&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ta.delete(p),o.Ra.removeTarget(p))}(a,e)}catch(s){ct(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ac(a,s)}else if(e instanceof sc?a.Ra.Ye(e):e instanceof Y_?a.Ra.it(e):a.Ra.et(e),!i.isEqual(At.min()))try{const s=await r0(a.localStore);i.compareTo(s)>=0&&await function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ta.get(y);E&&c.Ta.set(y,E.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,y)=>{const E=c.Ta.get(g);if(!E)return;c.Ta.set(g,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),o0(c,g);const b=new _r(E.target,g,y,E.sequenceNumber);Wd(c,b)}),c.remoteSyncer.applyRemoteEvent(p)}(a,i)}catch(s){ct(Ea,"Failed to raise snapshot:",s),await Ac(a,s)}}async function Ac(a,e,i){if(!Ms(e))throw e;a.Ia.add(1),await _o(a),a.Aa.set("Offline"),i||(i=()=>r0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(Ea,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Pc(a)})}function c0(a,e){return e().catch(i=>Ac(a,i,e))}async function jc(a){const e=bt(a),i=Or(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jd;for(;Vb(e);)try{const o=await mb(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,Mb(e,o)}catch(o){await Ac(e,o)}h0(e)&&f0(e)}function Vb(a){return ba(a)&&a.Pa.length<10}function Mb(a,e){a.Pa.push(e);const i=Or(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function h0(a){return ba(a)&&!Or(a).M_()&&a.Pa.length>0}function f0(a){Or(a).start()}async function Ub(a){Or(a).na()}async function Lb(a){const e=Or(a);for(const i of a.Pa)e.X_(i.mutations)}async function Pb(a,e,i){const s=a.Pa.shift(),o=Fd.from(s,e,i);await c0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await jc(a)}async function jb(a,e){e&&Or(a).Z_&&await async function(s,o){if(function(d){return EA(d)&&d!==it.ABORTED}(o.code)){const c=s.Pa.shift();Or(s).N_(),await c0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await jc(s)}}(a,e),h0(a)&&f0(a)}async function xv(a,e){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),ct(Ea,"RemoteStore received new credentials");const s=ba(i);i.Ia.add(3),await _o(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Pc(i)}async function Bb(a,e){const i=bt(a);e?(i.Ia.delete(2),await Pc(i)):e||(i.Ia.add(2),await _o(i),i.Aa.set("Unknown"))}function Us(a){return a.Va||(a.Va=function(i,s,o){const c=bt(i);return c.ia(),new Ab(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:Nb.bind(null,a),e_:xb.bind(null,a),n_:Ob.bind(null,a),J_:Ib.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),em(a)?tm(a):a.Aa.set("Unknown")):(await a.Va.stop(),u0(a))})),a.Va}function Or(a){return a.ma||(a.ma=function(i,s,o){const c=bt(i);return c.ia(),new bb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ub.bind(null,a),n_:jb.bind(null,a),ea:Lb.bind(null,a),ta:Pb.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await jc(a)):(await a.ma.stop(),a.Pa.length>0&&(ct(Ea,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,p=new nm(e,i,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function im(a,e){if(Bi("AsyncQueue",`${e}: ${a}`),Ms(a))return new ft(it.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.fa=new ae(gt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):_t(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class xs{constructor(e,i,s,o,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new xs(e,i,As.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class kb{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=bt(i),c=o.queries;o.queries=Iv(),c.forEach((d,p)=>{for(const g of p.wa)g.onError(s)})})(this,new ft(it.ABORTED,"Firestore shutting down"))}}function Iv(){return new Sa(a=>V_(a),Oc)}async function qb(a,e){const i=bt(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.ba()&&(s=2):(c=new zb,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=im(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.wa.push(e),e.va(i.onlineState),c.ya&&e.Ca(c.ya)&&rm(i)}async function Hb(a,e){const i=bt(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Gb(a,e){const i=bt(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.wa)p.Ca(o)&&(s=!0);d.ya=o}}s&&rm(i)}function Fb(a,e,i){const s=bt(a),o=s.queries.get(e);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(e)}function rm(a){a.Da.forEach(e=>{e.next()})}var Rd,Vv;(Vv=Rd||(Rd={})).Fa="default",Vv.Cache="cache";class Yb{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.key=e}}class m0{constructor(e){this.key=e}}class Qb{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=It(),this.mutatedKeys=It(),this.Xa=M_(e),this.eu=new As(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new Ov,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const A=o.get(E),U=Ic(this.query,b)?b:null,x=!!A&&this.mutatedKeys.has(A.key),G=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let H=!1;A&&U?A.data.isEqual(U.data)?x!==G&&(s.track({type:3,doc:U}),H=!0):this.iu(A,U)||(s.track({type:2,doc:U}),H=!0,(g&&this.Xa(U,g)>0||y&&this.Xa(U,y)<0)&&(p=!0)):!A&&U?(s.track({type:0,doc:U}),H=!0):A&&!U&&(s.track({type:1,doc:A}),H=!0,(g||y)&&(p=!0)),H&&(U?(d=d.add(U),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{eu:d,ru:s,Ds:p,mutatedKeys:c}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((E,b)=>function(U,x){const G=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{At:H})}};return G(U)-G(x)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(s),o=o!=null&&o;const p=i&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,d.length!==0||y?{snapshot:new xs(this.query,e.eu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ov,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=It(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new m0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new d0(s))}),i}uu(e){this.Ha=e.qs,this.Za=It();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return xs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const am="SyncEngine";class Xb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Kb{constructor(e){this.key=e,this.lu=!1}}class $b{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Sa(p=>V_(p),Oc),this.Tu=new Map,this.Iu=new Set,this.du=new ae(gt.comparator),this.Eu=new Map,this.Au=new Xd,this.Ru={},this.Vu=new Map,this.mu=Ns.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Zb(a,e,i=!0){const s=E0(a);let o;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await p0(s,e,i,!0),o}async function Jb(a,e){const i=E0(a);await p0(i,e,!0,!1)}async function p0(a,e,i,s){const o=await pb(a.localStore,ni(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await Wb(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&l0(a.remoteStore,o),p}async function Wb(a,e,i,s,o){a.gu=(b,A,U)=>async function(G,H,D,K){let et=H.view.nu(D);et.Ds&&(et=await Rv(G.localStore,H.query,!1).then(({documents:L})=>H.view.nu(L,et)));const lt=K&&K.targetChanges.get(H.targetId),ut=K&&K.targetMismatches.get(H.targetId)!=null,St=H.view.applyChanges(et,G.isPrimaryClient,lt,ut);return Uv(G,H.targetId,St._u),St.snapshot}(a,b,A,U);const c=await Rv(a.localStore,e,!0),d=new Qb(e,c.qs),p=d.nu(c.documents),g=vo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(p,a.isPrimaryClient,g);Uv(a,i,y._u);const E=new Xb(e,i,d);return a.Pu.set(e,E),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),y.snapshot}async function tR(a,e,i){const s=bt(a),o=s.Pu.get(e),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Oc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Jd(s.remoteStore,o.targetId),wd(s,o.targetId)}).catch(Vs)):(wd(s,o.targetId),await Ad(s.localStore,o.targetId,!0))}async function eR(a,e){const i=bt(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Jd(i.remoteStore,s.targetId))}async function nR(a,e,i){const s=uR(a);try{const o=await function(d,p){const g=bt(d),y=te.now(),E=p.reduce((U,x)=>U.add(x.key),It());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>{let x=zi(),G=It();return g.Os.getEntries(U,E).next(H=>{x=H,x.forEach((D,K)=>{K.isValidDocument()||(G=G.add(D))})}).next(()=>g.localDocuments.getOverlayedDocuments(U,x)).next(H=>{b=H;const D=[];for(const K of p){const et=pA(K,b.get(K.key).overlayedDocument);et!=null&&D.push(new Aa(K.key,et,R_(et.value.mapValue),ii.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,D,p)}).next(H=>{A=H;const D=H.applyToLocalDocumentSet(b,G);return g.documentOverlayCache.saveOverlays(U,H.batchId,D)})}).then(()=>({batchId:A.batchId,changes:L_(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,g){let y=d.Ru[d.currentUser.toKey()];y||(y=new ae(Ct)),y=y.insert(p,g),d.Ru[d.currentUser.toKey()]=y}(s,o.batchId,i),await Eo(s,o.changes),await jc(s.remoteStore)}catch(o){const c=im(o,"Failed to persist write");i.reject(c)}}async function g0(a,e){const i=bt(a);try{const s=await fb(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await Eo(i,s,e)}catch(s){await Vs(s)}}function Mv(a,e,i){const s=bt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const g=bt(d);g.onlineState=p;let y=!1;g.queries.forEach((E,b)=>{for(const A of b.wa)A.va(p)&&(y=!0)}),y&&rm(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iR(a,e,i){const s=bt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),c=o&&o.key;if(c){let d=new ae(gt.comparator);d=d.insert(c,$e.newNoDocument(c,At.min()));const p=It().add(c),g=new Uc(At.min(),new Map,new ae(Ct),d,p);await g0(s,g),s.du=s.du.remove(c),s.Eu.delete(e),sm(s)}else await Ad(s.localStore,e,!1).then(()=>wd(s,e,i)).catch(Vs)}async function rR(a,e){const i=bt(a),s=e.batch.batchId;try{const o=await hb(i.localStore,e);v0(i,s,null),y0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Eo(i,o)}catch(o){await Vs(o)}}async function aR(a,e,i){const s=bt(a);try{const o=await function(d,p){const g=bt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(b=>(qt(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);v0(s,e,i),y0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Eo(s,o)}catch(o){await Vs(o)}}function y0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function v0(a,e,i){const s=bt(a);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function wd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||_0(a,s)})}function _0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Jd(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),sm(a))}function Uv(a,e,i){for(const s of i)s instanceof d0?(a.Au.addReference(s.key,e),sR(a,s)):s instanceof m0?(ct(am,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||_0(a,s.key)):_t(19791,{yu:s})}function sR(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(ct(am,"New document in limbo: "+i),a.Iu.add(s),sm(a))}function sm(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new gt(Wt.fromString(e)),s=a.mu.next();a.Eu.set(s,new Kb(i)),a.du=a.du.insert(i,s),l0(a.remoteStore,new _r(ni(I_(i.path)),s,"TargetPurposeLimboResolution",Cc.ue))}}async function Eo(a,e,i){const s=bt(a),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((p,g)=>{d.push(s.gu(g,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=i?.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=$d.Es(g.targetId,y);c.push(b)}}))}),await Promise.all(d),s.hu.J_(o),await async function(g,y){const E=bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>tt.forEach(y,A=>tt.forEach(A.Is,U=>E.persistence.referenceDelegate.addReference(b,A.targetId,U)).next(()=>tt.forEach(A.ds,U=>E.persistence.referenceDelegate.removeReference(b,A.targetId,U)))))}catch(b){if(!Ms(b))throw b;ct(Zd,"Failed to update sequence numbers: "+b)}for(const b of y){const A=b.targetId;if(!b.fromCache){const U=E.Fs.get(A),x=U.snapshotVersion,G=U.withLastLimboFreeSnapshotVersion(x);E.Fs=E.Fs.insert(A,G)}}}(s.localStore,c))}async function lR(a,e){const i=bt(a);if(!i.currentUser.isEqual(e)){ct(am,"User change. New user:",e.toKey());const s=await i0(i.localStore,e);i.currentUser=e,function(c,d){c.Vu.forEach(p=>{p.forEach(g=>{g.reject(new ft(it.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eo(i,s.Bs)}}function oR(a,e){const i=bt(a),s=i.Eu.get(e);if(s&&s.lu)return It().add(s.key);{let o=It();const c=i.Tu.get(e);if(!c)return o;for(const d of c){const p=i.Pu.get(d);o=o.unionWith(p.view.tu)}return o}}function E0(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iR.bind(null,e),e.hu.J_=Gb.bind(null,e.eventManager),e.hu.pu=Fb.bind(null,e.eventManager),e}function uR(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aR.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return cb(this.persistence,new lb,e.initialUser,this.serializer)}Du(e){return new n0(Kd.Vi,this.serializer)}bu(e){return new yb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class cR extends bc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof Sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YA(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new n0(s=>Sc.Vi(s,i),this.serializer)}}class Cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await Bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kb}()}createDatastore(e){const i=Lc(e.databaseInfo.databaseId),s=function(c){return new Sb(c)}(e.databaseInfo);return function(c,d,p,g){return new wb(c,d,p,g)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,p){return new Db(s,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Mv(this.syncEngine,i,0),function(){return Dv.C()?new Dv:new vb}())}createSyncEngine(e,i){return function(o,c,d,p,g,y,E){const b=new $b(o,c,d,p,g,y);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=bt(o);ct(Ea,"RemoteStore shutting down."),c.Ia.add(5),await _o(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Cd.provider={build:()=>new Cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class fR{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=im(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rd(a,e){a.asyncQueue.verifyOperationInProgress(),ct(Ir,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await i0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{wr("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{wr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function Lv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await dR(a);ct(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>xv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>xv(e.remoteStore,o)),a._onlineComponents=e}async function dR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(Ir,"Using user provided OfflineComponentProvider");try{await rd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;wr("Error using user provided cache. Falling back to memory cache: "+i),await rd(a,new bc)}}else ct(Ir,"Using default OfflineComponentProvider"),await rd(a,new cR(void 0));return a._offlineComponents}async function T0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(Ir,"Using user provided OnlineComponentProvider"),await Lv(a,a._uninitializedComponentsProvider._online)):(ct(Ir,"Using default OnlineComponentProvider"),await Lv(a,new Cd))),a._onlineComponents}function mR(a){return T0(a).then(e=>e.syncEngine)}async function pR(a){const e=await T0(a),i=e.eventManager;return i.onListen=Zb.bind(null,e.syncEngine),i.onUnlisten=tR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Jb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eR.bind(null,e.syncEngine),i}function gR(a,e,i={}){const s=new Ar;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,y){const E=new hR({next:A=>{E.Ou(),d.enqueueAndForget(()=>Hb(c,b)),A.fromCache&&g.source==="server"?y.reject(new ft(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),b=new Yb(p,E,{includeMetadataChanges:!0,ka:!0});return qb(c,b)}(await pR(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",jv=!0;class Bv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=jv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:jv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GA)throw new ft(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _S;switch(s.type){case"firstParty":return new AS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Pv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),Pv.delete(i),s.terminate())}(this),Promise.resolve()}}function yR(a,e,i,s={}){var o;a=lo(a,Bc);const c=Id(e),d=a._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;c&&(YT(`https://${g}`),$T("Firestore",!0)),d.host!==A0&&d.host!==g&&wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:g,ssl:c,emulatorOptions:s});if(!hc(y,p)&&(a._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ke.MOCK_USER;else{E=QT(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ft(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(A)}a._authCredentials=new ES(new f_(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zc(this.firestore,e,this._query)}}class He{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(go(i,He._jsonSchema))return new He(e,s||null,new gt(Wt.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:_e("string",He._jsonSchemaVersion),referencePath:_e("string")};class br extends zc{constructor(e,i,s){super(e,i,I_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new gt(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Ze(a,e,...i){if(a=ro(a),m_("collection","path",e),a instanceof Bc){const s=Wt.fromString(e,...i);return Wy(s),new br(a,null,s)}{if(!(a instanceof He||a instanceof br))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Wy(s),new br(a.firestore,null,s)}}function lm(a,e,...i){if(a=ro(a),arguments.length===1&&(e=Ld.newId()),m_("doc","path",e),a instanceof Bc){const s=Wt.fromString(e,...i);return Jy(s),new He(a,null,new gt(s))}{if(!(a instanceof He||a instanceof br))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Jy(s),new He(a.firestore,a instanceof br?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class kv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new a0(this,"async_queue_retry"),this.oc=()=>{const s=id();s&&ct(zv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ar;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ms(e))throw e;ct(zv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Bi("INTERNAL UNHANDLED ERROR: ",qv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=nm.createAndSchedule(this,e,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&_t(47125,{hc:qv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function qv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class kc extends Bc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function b0(a,e){const i=typeof a=="object"?a:sS(),s=typeof a=="string"?a:pc,o=eS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=GT("firestore");c&&yR(o,...c)}return o}function R0(a){if(a._terminated)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||vR(a),a._firestoreClient}function vR(a){var e,i,s;const o=a._freezeSettings(),c=function(p,g,y,E){return new BS(p,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,S0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new fR(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Ge.fromBase64String(e))}catch(i){throw new ft(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:_e("string",xn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(go(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:_e("string",ai._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new si(e.vectorValues);throw new ft(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:_e("string",si._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^__.*__$/;class ER{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}function C0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ec:a})}}class um{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(C0(this.Ec)&&_R.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class TR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Lc(e)}Dc(e,i,s,o=!1){return new um({Ec:e,methodName:i,bc:s,path:ke.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SR(a){const e=a._freezeSettings(),i=Lc(a._databaseId);return new TR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function AR(a,e,i,s,o,c={}){const d=a.Dc(c.merge||c.mergeFields?2:0,e,i,o);O0("Data must be an object, but it was:",d,s);const p=N0(s,d);let g,y;if(c.merge)g=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const A=bR(e,b,i);if(!d.contains(A))throw new ft(it.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);wR(E,A)||E.push(A)}g=new Pn(E),y=d.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=d.fieldTransforms;return new ER(new Nn(p),g,y)}function D0(a,e){if(x0(a=ro(a)))return O0("Unsupported field value:",e,a),N0(a,e);if(a instanceof w0)return function(s,o){if(!C0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const p of s){let g=D0(p,o.yc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=ro(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Tc(o.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,c)}}if(s instanceof ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:X_(o.serializer,s._byteString)};if(s instanceof He){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof si)return function(d,p){return{mapValue:{fields:{[A_]:{stringValue:b_},[gc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return Hd(p.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Pd(s)}`)}(a,e)}function N0(a,e){const i={};return y_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(a,(s,o)=>{const c=D0(o,e.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function x0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ai||a instanceof xn||a instanceof He||a instanceof w0||a instanceof si)}function O0(a,e,i){if(!x0(i)||!p_(i)){const s=Pd(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function bR(a,e,i){if((e=ro(e))instanceof om)return e._internalPath;if(typeof e=="string")return I0(a,e);throw Rc("Field path arguments must be of type string or ",a,!1,void 0,i)}const RR=new RegExp("[~\\*/\\[\\]]");function I0(a,e,i){if(e.search(RR)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new om(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Rc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ft(it.INVALID_ARGUMENT,p+a+g)}function wR(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(M0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CR extends V0{data(){return super.data()}}function M0(a,e){return typeof e=="string"?I0(a,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NR{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ta(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[gc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new si(c)}convertGeoPoint(e){return new ai(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Nc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);qt(t0(s),9688,{name:e});const o=new co(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Bi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Wu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends V0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(M0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:_e("string",bs._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class lc extends bs{data(e={}){return super.data(e)}}class Rs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new lc(this._firestore,this._userDataWriter,s.key,s,new Wu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const g=new lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:OR(p.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:_e("string",Rs._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class IR extends NR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,i)}}function Vr(a){a=lo(a,zc);const e=lo(a.firestore,kc),i=R0(e),s=new IR(e);return DR(a._query),gR(i,a._query).then(o=>new Rs(e,s,a,o))}function U0(a){return L0(lo(a.firestore,kc),[new Gd(a._key,ii.none())])}function Rr(a,e){const i=lo(a.firestore,kc),s=lm(a),o=xR(a.converter,e);return L0(i,[AR(SR(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function L0(a,e){return function(s,o){const c=new Ar;return s.asyncQueue.enqueueAndForget(async()=>nR(await mR(s),o,c)),c.promise}(R0(a),e)}(function(e,i=!0){(function(o){Is=o})(aS),dc(new ao("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new kc(new TS(s.getProvider("auth-internal")),new bS(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Ss(Qy,Xy,e),Ss(Qy,Xy,"esm2017")})();const VR={apiKey:"AIzaSyBJLLh74xMFOLwl67agdd6imcl3ZIglBG8",authDomain:"cinemafocusinventory.firebaseapp.com",projectId:"cinemafocusinventory",storageBucket:"cinemafocusinventory.firebasestorage.app",messagingSenderId:"232322170393",appId:"1:232322170393:web:296907062efd7ec75a7488",measurementId:"G-23G7G2N3PX"},MR=Md(VR),qe=b0(MR),UR={"5.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND",Subwoofer:"SUB"},"7.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"7.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND",Subwoofer:"SUB"},"9.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"9.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"11.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"11.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"13.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"13.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"}},LR=["Amplifier","Projector","Signature Screen Ratio","Signature Screen"],PR={Amplifier:"Amplifiers",Projector:"Projectors","Signature Screen":"SignatureScreen","Signature Screen Ratio":"SignatureScreen"},tc=({label:a,options:e,value:i,onChange:s})=>O.jsxs("div",{className:"m-5 p-4 border-1 border-gray-400 rounded-xl shadow-md",children:[O.jsx("h1",{className:"font-semibold text-md",children:a}),O.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center",children:O.jsxs("select",{required:!0,className:"bg-amber-100 w-full text-sm font-medium outline-none text-center",value:i,onChange:s,children:[O.jsx("option",{value:"default",children:"Select The Model"}),a==="Atmos"&&O.jsx("option",{value:"none",children:"No Atmos"}),a==="Signature Screen Ratio"&&O.jsx("option",{value:"none",children:"No Screen"}),a==="Projector"&&O.jsx("option",{value:"none",children:"No Projector"}),e.map((o,c)=>a!=="Projector"?O.jsx("option",{value:o.MODEL,children:o.MODEL},c):O.jsxs("option",{value:o.MODEL,children:[o.MODEL," (",o.BRAND,") "]},c))]})})]});function jR({type:a,brand:e}){const[i,s]=Q.useState([]),[o,c]=Q.useState({}),[d,p]=Q.useState({}),[g,y]=Q.useState("");Q.useEffect(()=>{c({})},[a,e]),Q.useEffect(()=>{a&&(async()=>{try{const H=(await Vr(Ze(qe,a))).docs.map(D=>D.data());s(H)}catch(G){console.error("Error fetching speaker data:",G)}})()},[a,e]),Q.useEffect(()=>{(async()=>{const G={};let H=[],D={};for(const K of LR)try{const et=await Vr(Ze(qe,PR[K]));K==="Signature Screen"?(et.docs.forEach(lt=>{const ut=lt.data();Object.entries(ut).forEach(([St,L])=>{const R=L.filter(w=>w!==null);R.length>0&&(H.includes(St)||(H.push(St),D[St]=R))})}),G["Signature Screen Ratio"]=H.map(lt=>({MODEL:lt})),G["Signature Screen Sizes"]=D):G[K]=et.docs.map(lt=>lt.data())}catch(et){console.error(`Error fetching ${K}:`,et),G[K]=[]}p(G)})()},[]);const E=x=>G=>{c(H=>({...H,[x]:G.target.value}))},b=(x,G,H)=>{const D=new Set;return x.filter(K=>K[G]&&K.BRAND===H&&!D.has(K[G])?(D.add(K[G]),!0):!1)},A=UR[a]||{},U=Object.values(o).some(x=>x&&x!=="default"&&x!=="none")||g&&g!=="default"&&g!=="none";return O.jsxs("div",{className:"mb-20",children:[Object.entries(A).map(([x,G])=>O.jsx(tc,{label:x,options:b(i.filter(H=>H.TYPE===G),"MODEL",e),value:o[x]||"",onChange:E(x)},x)),["Amplifier","Projector"].map(x=>O.jsx(tc,{label:x,options:d[x]||[],value:o[x]||"",onChange:E(x)},x)),O.jsx(tc,{label:"Signature Screen Ratio",options:d["Signature Screen Ratio"]||[],value:g,onChange:x=>{y(x.target.value),c(G=>({...G,"Signature Screen Ratio":x.target.value}))}},"SignatureScreenRatio"),g!=="none"&&g!=="default"&&O.jsxs(O.Fragment,{children:[O.jsx(tc,{label:`Screen Sizes for ${g}`,options:(d["Signature Screen Sizes"]?.[g]||[]).map(x=>({MODEL:x})),value:o["Signature Screen"]||"",onChange:E("Signature Screen")},"SignatureScreenSize"),O.jsxs("div",{className:"m-5 p-4 border-1 border-gray-400 rounded-xl shadow-md",children:[O.jsx("h1",{className:"font-semibold text-md",children:"Custom Screen Price"}),O.jsx("input",{type:"number",inputMode:"numeric",placeholder:"Enter The Custom Price",className:"flex-1 mt-2 w-full bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center"})]})]}),U&&O.jsx("div",{className:"m-5 p-4 border-2 border-blue-400 rounded-xl shadow-md bg-blue-50",children:O.jsx("h2",{className:"font-bold text-lg text-blue-700",children:"A value has been selected!"})})]})}function BR(){return O.jsx("div",{children:O.jsx("p",{children:"PDF"})})}function zR(){const[a,e]=Q.useState(""),[i,s]=Q.useState(""),[o,c]=Q.useState([]),[d,p]=Q.useState("home"),g=[{name:"5.1 System",value:"5.1",TrueValue:"5.1"},{name:"7.1 System",value:"7.1",TrueValue:"7.1"},{name:"7.2 System",value:"7.2",TrueValue:"7.2"},{name:"9.1 System",value:"9.1",TrueValue:"9.1"},{name:"9.2 System",value:"9.2",TrueValue:"9.2"},{name:"11.1 System",value:"11.1",TrueValue:"11.1"},{name:"11.2 System",value:"11.2",TrueValue:"11.2"},{name:"13.1 System",value:"13.1",TrueValue:"13.1"},{name:"13.2 System",value:"13.2",TrueValue:"13.2"}];Q.useEffect(()=>{a&&((async()=>{try{const A=(await Vr(Ze(qe,a))).docs.map(U=>U.data());c(A)}catch(b){console.error("Error fetching data:",b)}})(),s(""))},[a]);const y=(E,b)=>{const A=new Set;return E.filter(U=>U[b]&&!A.has(U[b])?(A.add(U[b]),!0):!1)};return O.jsxs("div",{className:"h-screen bg-white",children:[O.jsx("div",{className:"p-5 border-b shadow sticky top-0 bg-white z-10",children:O.jsx("h1",{className:"font-semibold font-stretch-extra-condensed text-3xl",children:"Cinema Focus"})}),d==="home"&&O.jsxs("div",{className:"home mb-20 overflow-scroll",children:[O.jsxs("div",{className:"m-5 p-4 border rounded-xl shadow-md",children:[O.jsx("h1",{className:"font-semibold text-md",children:"Choose The Surround Version"}),O.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center",children:O.jsxs("select",{className:"bg-amber-100 w-full text-sm font-medium outline-none text-center",value:a,onChange:E=>e(E.target.value),children:[O.jsx("option",{disabled:!0,value:"",children:"Select The Surround Type"}),g.map((E,b)=>O.jsx("option",{value:E.value,children:E.name},b))]})})]}),O.jsxs("div",{className:"m-5 p-4 border rounded-xl shadow-md",children:[O.jsx("h1",{className:"font-semibold text-md",children:"Choose The Brand"}),O.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center",children:O.jsxs("select",{className:"bg-amber-100 w-full text-sm font-medium outline-none text-center",value:i,onChange:E=>s(E.target.value),children:[O.jsx("option",{disabled:!0,value:"",children:"Select The Brand"}),y(o,"BRAND").map((E,b)=>O.jsx("option",{children:E.BRAND},`brand-${b}`))]})})]}),O.jsx(jR,{type:a,brand:i})]}),d==="data"&&O.jsx("div",{className:"invoice mb-20",children:O.jsx("div",{className:"m-5 p-4 border rounded-xl shadow-md",children:O.jsx("h1",{className:"font-semibold text-md",children:"Data Section"})})}),d==="invoice"&&O.jsx("div",{className:"invoice mb-20",children:O.jsxs("div",{className:"m-5 p-4 border rounded-xl shadow-md",children:[O.jsx("h1",{className:"font-semibold text-md",children:"Invoice Section"}),O.jsx(BR,{})]})}),O.jsx("div",{className:"w-full fixed bottom-0 bg-white shadow-xl border-t border-gray-200 z-50 lg:hidden",children:O.jsxs("div",{className:"flex justify-around items-center py-3",children:[O.jsxs("div",{className:`flex flex-col items-center cursor-pointer ${d==="home"?"text-black":"text-gray-500 hover:text-black"}`,onClick:()=>p("home"),children:[O.jsx("i",{className:"fa-solid fa-house"}),O.jsx("span",{className:"text-sm",children:"Main"})]}),O.jsxs("div",{className:`flex flex-col items-center cursor-pointer ${d==="data"?"text-black":"text-gray-500 hover:text-black"}`,onClick:()=>p("data"),children:[O.jsx("i",{className:"fa-solid fa-file"}),O.jsx("span",{className:"text-sm",children:"Data"})]}),O.jsxs("div",{className:`flex flex-col items-center cursor-pointer ${d==="invoice"?"text-black":"text-gray-500 hover:text-black"}`,onClick:()=>p("invoice"),children:[O.jsx("i",{className:"fa-solid fa-file-invoice-dollar"}),O.jsx("span",{className:"text-sm",children:"Invoice"})]})]})})]})}var Xl={},Hv;function kR(){if(Hv)return Xl;Hv=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=d,Xl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,U){const x=new c,G=A.length;if(G<2)return x;const H=U?.decode||E;let D=0;do{const K=A.indexOf("=",D);if(K===-1)break;const et=A.indexOf(";",D),lt=et===-1?G:et;if(K>lt){D=A.lastIndexOf(";",K-1)+1;continue}const ut=p(A,D,K),St=g(A,K,ut),L=A.slice(ut,St);if(x[L]===void 0){let R=p(A,K+1,lt),w=g(A,lt,R);const M=H(A.slice(R,w));x[L]=M}D=lt+1}while(D<G);return x}function p(A,U,x){do{const G=A.charCodeAt(U);if(G!==32&&G!==9)return U}while(++U<x);return x}function g(A,U,x){for(;U>x;){const G=A.charCodeAt(--U);if(G!==32&&G!==9)return U+1}return x}function y(A,U,x){const G=x?.encode||encodeURIComponent;if(!a.test(A))throw new TypeError(`argument name is invalid: ${A}`);const H=G(U);if(!e.test(H))throw new TypeError(`argument val is invalid: ${U}`);let D=A+"="+H;if(!x)return D;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);D+="; Max-Age="+x.maxAge}if(x.domain){if(!i.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);D+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);D+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);D+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(D+="; HttpOnly"),x.secure&&(D+="; Secure"),x.partitioned&&(D+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return D}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return Xl}kR();var Gv="popstate";function qR(a={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return Dd("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:po(o)}return GR(e,i,null,a)}function re(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ui(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HR(){return Math.random().toString(36).substring(2,10)}function Fv(a,e){return{usr:a.state,key:a.key,idx:e}}function Dd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:i,key:e&&e.key||s||HR()}}function po({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ls(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function GR(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){p="POP";let H=E(),D=H==null?null:H-y;y=H,g&&g({action:p,location:G.location,delta:D})}function A(H,D){p="PUSH";let K=Dd(G.location,H,D);y=E()+1;let et=Fv(K,y),lt=G.createHref(K);try{d.pushState(et,"",lt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(lt)}c&&g&&g({action:p,location:G.location,delta:1})}function U(H,D){p="REPLACE";let K=Dd(G.location,H,D);y=E();let et=Fv(K,y),lt=G.createHref(K);d.replaceState(et,"",lt),c&&g&&g({action:p,location:G.location,delta:0})}function x(H){return FR(H)}let G={get action(){return p},get location(){return a(o,d)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,b),g=H,()=>{o.removeEventListener(Gv,b),g=null}},createHref(H){return e(o,H)},createURL:x,encodeLocation(H){let D=x(H);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:A,replace:U,go(H){return d.go(H)}};return G}function FR(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:po(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function P0(a,e,i="/"){return YR(a,e,i,!1)}function YR(a,e,i,s){let o=typeof e=="string"?Ls(e):e,c=ki(o.pathname||"/",i);if(c==null)return null;let d=j0(a);QR(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=r2(c);p=n2(d[g],y,s)}return p}function j0(a,e=[],i=[],s=""){let o=(c,d,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(re(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Pi([s,g.relativePath]),E=i.concat(g);c.children&&c.children.length>0&&(re(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),j0(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:t2(y,c.index),routesMeta:E})};return a.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let p of B0(c.path))o(c,d,p)}),e}function B0(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=B0(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function QR(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:e2(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var XR=/^:[\w-]+$/,KR=3,$R=2,ZR=1,JR=10,WR=-2,Yv=a=>a==="*";function t2(a,e){let i=a.split("/"),s=i.length;return i.some(Yv)&&(s+=WR),e&&(s+=$R),i.filter(o=>!Yv(o)).reduce((o,c)=>o+(XR.test(c)?KR:c===""?ZR:JR),s)}function e2(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function n2(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Pi([c,b.pathname]),pathnameBase:o2(Pi([c,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(c=Pi([c,b.pathnameBase]))}return d}function wc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=i2(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},A)=>{if(E==="*"){let x=p[A]||"";d=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const U=p[A];return b&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function i2(a,e=!1,i=!0){ui(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function r2(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ki(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function a2(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ls(a):a;return{pathname:i?i.startsWith("/")?i:s2(i,e):e,search:u2(s),hash:c2(o)}}function s2(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ad(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function z0(a){let e=l2(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function k0(a,e,i,s=!1){let o;typeof a=="string"?o=Ls(a):(o={...a},re(!o.pathname||!o.pathname.includes("?"),ad("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),ad("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),ad("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}p=b>=0?e[b]:"/"}let g=a2(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Pi=a=>a.join("/").replace(/\/\/+/g,"/"),o2=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,c2=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function h2(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var q0=["POST","PUT","PATCH","DELETE"];new Set(q0);var f2=["GET",...q0];new Set(f2);var Ps=Q.createContext(null);Ps.displayName="DataRouter";var qc=Q.createContext(null);qc.displayName="DataRouterState";var H0=Q.createContext({isTransitioning:!1});H0.displayName="ViewTransition";var d2=Q.createContext(new Map);d2.displayName="Fetchers";var m2=Q.createContext(null);m2.displayName="Await";var ci=Q.createContext(null);ci.displayName="Navigation";var To=Q.createContext(null);To.displayName="Location";var qi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var cm=Q.createContext(null);cm.displayName="RouteError";function p2(a,{relative:e}={}){re(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(ci),{hash:o,pathname:c,search:d}=Ao(a,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:Pi([i,c])),s.createHref({pathname:p,search:d,hash:o})}function So(){return Q.useContext(To)!=null}function Ra(){return re(So(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(To).location}var G0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F0(a){Q.useContext(ci).static||Q.useLayoutEffect(a)}function g2(){let{isDataRoute:a}=Q.useContext(qi);return a?N2():y2()}function y2(){re(So(),"useNavigate() may be used only in the context of a <Router> component.");let a=Q.useContext(Ps),{basename:e,navigator:i}=Q.useContext(ci),{matches:s}=Q.useContext(qi),{pathname:o}=Ra(),c=JSON.stringify(z0(s)),d=Q.useRef(!1);return F0(()=>{d.current=!0}),Q.useCallback((g,y={})=>{if(ui(d.current,G0),!d.current)return;if(typeof g=="number"){i.go(g);return}let E=k0(g,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Pi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,a])}Q.createContext(null);function Ao(a,{relative:e}={}){let{matches:i}=Q.useContext(qi),{pathname:s}=Ra(),o=JSON.stringify(z0(i));return Q.useMemo(()=>k0(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function v2(a,e){return Y0(a,e)}function Y0(a,e,i,s){re(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(ci),{matches:c}=Q.useContext(qi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let D=E&&E.path||"";Q0(g,!E||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Ra(),A;if(e){let D=typeof e=="string"?Ls(e):e;re(y==="/"||D.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),A=D}else A=b;let U=A.pathname||"/",x=U;if(y!=="/"){let D=y.replace(/^\//,"").split("/");x="/"+U.replace(/^\//,"").split("/").slice(D.length).join("/")}let G=P0(a,{pathname:x});ui(E||G!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ui(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=A2(G&&G.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:Pi([y,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:Pi([y,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),c,i,s);return e&&H?Q.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function _2(){let a=D2(),e=h2(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var E2=Q.createElement(_2,null),T2=class extends Q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Q.createElement(qi.Provider,{value:this.props.routeContext},Q.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S2({routeContext:a,match:e,children:i}){let s=Q.useContext(Ps);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(qi.Provider,{value:a},i)}function A2(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i?.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);re(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,p=-1;if(i)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:E,errors:b}=i,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||A){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let b,A=!1,U=null,x=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,U=y.route.errorElement||E2,d&&(p<0&&E===0?(Q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):p===E&&(A=!0,x=y.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),H=()=>{let D;return b?D=U:A?D=x:y.route.Component?D=Q.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=g,Q.createElement(S2,{match:y,routeContext:{outlet:g,matches:G,isDataRoute:i!=null},children:D})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(T2,{location:i.location,revalidation:i.revalidation,component:U,error:b,children:H(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):H()},null)}function hm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(a){let e=Q.useContext(Ps);return re(e,hm(a)),e}function R2(a){let e=Q.useContext(qc);return re(e,hm(a)),e}function w2(a){let e=Q.useContext(qi);return re(e,hm(a)),e}function fm(a){let e=w2(a),i=e.matches[e.matches.length-1];return re(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function C2(){return fm("useRouteId")}function D2(){let a=Q.useContext(cm),e=R2("useRouteError"),i=fm("useRouteError");return a!==void 0?a:e.errors?.[i]}function N2(){let{router:a}=b2("useNavigate"),e=fm("useNavigate"),i=Q.useRef(!1);return F0(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{ui(i.current,G0),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Qv={};function Q0(a,e,i){!e&&!Qv[a]&&(Qv[a]=!0,ui(!1,i))}Q.memo(x2);function x2({routes:a,future:e,state:i}){return Y0(a,void 0,i,e)}function vr(a){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){re(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ls(i));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:A="default"}=i,U=Q.useMemo(()=>{let x=ki(g,d);return x==null?null:{location:{pathname:x,search:y,hash:E,state:b,key:A},navigationType:s}},[d,g,y,E,b,A,s]);return ui(U!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Q.createElement(ci.Provider,{value:p},Q.createElement(To.Provider,{children:e,value:U}))}function I2({children:a,location:e}){return v2(Nd(a),e)}function Nd(a,e=[]){let i=[];return Q.Children.forEach(a,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,Nd(s.props.children,c));return}re(s.type===vr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Nd(s.props.children,c)),i.push(d)}),i}var oc="get",uc="application/x-www-form-urlencoded";function Hc(a){return a!=null&&typeof a.tagName=="string"}function V2(a){return Hc(a)&&a.tagName.toLowerCase()==="button"}function M2(a){return Hc(a)&&a.tagName.toLowerCase()==="form"}function U2(a){return Hc(a)&&a.tagName.toLowerCase()==="input"}function L2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function P2(a,e){return a.button===0&&(!e||e==="_self")&&!L2(a)}var ec=null;function j2(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var B2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(a){return a!=null&&!B2.has(a)?(ui(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):a}function z2(a,e){let i,s,o,c,d;if(M2(a)){let p=a.getAttribute("action");s=p?ki(p,e):null,i=a.getAttribute("method")||oc,o=sd(a.getAttribute("enctype"))||uc,c=new FormData(a)}else if(V2(a)||U2(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?ki(g,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||oc,o=sd(a.getAttribute("formenctype"))||sd(p.getAttribute("enctype"))||uc,c=new FormData(p,a),!j2()){let{name:y,type:E,value:b}=a;if(E==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,b)}}else{if(Hc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=oc,s=null,o=uc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function dm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function k2(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function H2(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await k2(c,i);return d.links?d.links():[]}return[]}));return Q2(s.flat(1).filter(q2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(a,e,i,s,o,c){let d=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function G2(a,e,{includeHydrateFallback:i}={}){return F2(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function F2(a){return[...new Set(a)]}function Y2(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function Q2(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(Y2(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X2=new Set([100,101,204,205]);function K2(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&ki(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function X0(){let a=Q.useContext(Ps);return dm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function $2(){let a=Q.useContext(qc);return dm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var mm=Q.createContext(void 0);mm.displayName="FrameworkContext";function K0(){let a=Q.useContext(mm);return dm(a,"You must render this element inside a <HydratedRouter> element"),a}function Z2(a,e){let i=Q.useContext(mm),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,A=Q.useRef(null);Q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let G=D=>{D.forEach(K=>{d(K.isIntersecting)})},H=new IntersectionObserver(G,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[a]),Q.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let U=()=>{o(!0)},x=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,A,{}]:[c,A,{onFocus:Kl(p,U),onBlur:Kl(g,x),onMouseEnter:Kl(y,U),onMouseLeave:Kl(E,x),onTouchStart:Kl(b,U)}]:[!1,A,{}]}function Kl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function J2({page:a,...e}){let{router:i}=X0(),s=Q.useMemo(()=>P0(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Q.createElement(tw,{page:a,matches:s,...e}):null}function W2(a){let{manifest:e,routeModules:i}=K0(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return H2(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function tw({page:a,matches:e,...i}){let s=Ra(),{manifest:o,routeModules:c}=K0(),{basename:d}=X0(),{loaderData:p,matches:g}=$2(),y=Q.useMemo(()=>Xv(a,e,g,o,s,"data"),[a,e,g,o,s]),E=Q.useMemo(()=>Xv(a,e,g,o,s,"assets"),[a,e,g,o,s]),b=Q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let x=new Set,G=!1;if(e.forEach(D=>{let K=o.routes[D.route.id];!K||!K.hasLoader||(!y.some(et=>et.route.id===D.route.id)&&D.route.id in p&&c[D.route.id]?.shouldRevalidate||K.hasClientLoader?G=!0:x.add(D.route.id))}),x.size===0)return[];let H=K2(a,d);return G&&x.size>0&&H.searchParams.set("_routes",e.filter(D=>x.has(D.route.id)).map(D=>D.route.id).join(",")),[H.pathname+H.search]},[d,p,s,o,y,e,a,c]),A=Q.useMemo(()=>G2(E,o),[E,o]),U=W2(E);return Q.createElement(Q.Fragment,null,b.map(x=>Q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),A.map(x=>Q.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),U.map(({key:x,link:G})=>Q.createElement("link",{key:x,...G})))}function ew(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$0&&(window.__reactRouterVersion="7.6.3")}catch{}function nw({basename:a,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=qR({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),p=Q.useCallback(g=>{Q.startTransition(()=>d(g))},[d]);return Q.useLayoutEffect(()=>o.listen(p),[o,p]),Q.createElement(O2,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J0=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:b,...A},U){let{basename:x}=Q.useContext(ci),G=typeof y=="string"&&Z0.test(y),H,D=!1;if(typeof y=="string"&&G&&(H=y,$0))try{let w=new URL(window.location.href),M=y.startsWith("//")?new URL(w.protocol+y):new URL(y),P=ki(M.pathname,x);M.origin===w.origin&&P!=null?y=P+M.search+M.hash:D=!0}catch{ui(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=p2(y,{relative:o}),[et,lt,ut]=Z2(s,A),St=sw(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:b});function L(w){e&&e(w),w.defaultPrevented||St(w)}let R=Q.createElement("a",{...A,...ut,href:H||K,onClick:D||c?e:L,ref:ew(U,lt),target:g,"data-discover":!G&&i==="render"?"true":void 0});return et&&!G?Q.createElement(Q.Fragment,null,R,Q.createElement(J2,{page:K})):R});J0.displayName="Link";var iw=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},E){let b=Ao(d,{relative:y.relative}),A=Ra(),U=Q.useContext(qc),{navigator:x,basename:G}=Q.useContext(ci),H=U!=null&&hw(b)&&p===!0,D=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,K=A.pathname,et=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(K=K.toLowerCase(),et=et?et.toLowerCase():null,D=D.toLowerCase()),et&&G&&(et=ki(et,G)||et);const lt=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let ut=K===D||!o&&K.startsWith(D)&&K.charAt(lt)==="/",St=et!=null&&(et===D||!o&&et.startsWith(D)&&et.charAt(D.length)==="/"),L={isActive:ut,isPending:St,isTransitioning:H},R=ut?e:void 0,w;typeof s=="function"?w=s(L):w=[s,ut?"active":null,St?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(L):c;return Q.createElement(J0,{...y,"aria-current":R,className:w,ref:E,style:M,to:d,viewTransition:p},typeof g=="function"?g(L):g)});iw.displayName="NavLink";var rw=Q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=oc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...A},U)=>{let x=uw(),G=cw(p,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",D=typeof p=="string"&&Z0.test(p),K=et=>{if(g&&g(et),et.defaultPrevented)return;et.preventDefault();let lt=et.nativeEvent.submitter,ut=lt?.getAttribute("formmethod")||d;x(lt||et.currentTarget,{fetcherKey:e,method:ut,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return Q.createElement("form",{ref:U,method:H,action:G,onSubmit:s?g:K,...A,"data-discover":!D&&a==="render"?"true":void 0})});rw.displayName="Form";function aw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(a){let e=Q.useContext(Ps);return re(e,aw(a)),e}function sw(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=g2(),g=Ra(),y=Ao(a,{relative:c});return Q.useCallback(E=>{if(P2(E,e)){E.preventDefault();let b=i!==void 0?i:po(g)===po(y);p(a,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,i,s,e,a,o,c,d])}var lw=0,ow=()=>`__${String(++lw)}__`;function uw(){let{router:a}=W0("useSubmit"),{basename:e}=Q.useContext(ci),i=C2();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=z2(s,e);if(o.navigate===!1){let E=o.fetcherKey||ow();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function cw(a,{relative:e}={}){let{basename:i}=Q.useContext(ci),s=Q.useContext(qi);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ao(a||".",{relative:e})},d=Ra();if(a==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Pi([i,c.pathname])),po(c)}function hw(a,e={}){let i=Q.useContext(H0);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=W0("useViewTransitionState"),o=Ao(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=ki(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=ki(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wc(o.pathname,d)!=null||wc(o.pathname,c)!=null}[...X2];const fw={apiKey:"AIzaSyBJLLh74xMFOLwl67agdd6imcl3ZIglBG8",authDomain:"cinemafocusinventory.firebaseapp.com",projectId:"cinemafocusinventory",storageBucket:"cinemafocusinventory.firebasestorage.app",messagingSenderId:"232322170393",appId:"1:232322170393:web:296907062efd7ec75a7488",measurementId:"G-23G7G2N3PX"},dw=Md(fw),mw=b0(dw);function pw(){const[a,e]=Q.useState([]),[i,s]=Q.useState(),[o,c]=Q.useState(),[d,p]=Q.useState(),[g,y]=Q.useState(),[E,b]=Q.useState(),[A,U]=Q.useState(""),x=[{name:"5.1 System",value:"5.1"},{name:"7.1 System",value:"7.1"},{name:"7.2 System",value:"7.1"},{name:"9.1 System",value:"9.1"},{name:"9.2 System",value:"9.1"},{name:"11.1 System",value:"11.1"},{name:"11.2 System",value:"11.1"},{name:"13.1 System",value:"13.1"},{name:"13.2 System",value:"13.1"}];Q.useEffect(()=>{A&&(async()=>{try{const et=(await Vr(Ze(mw,A))).docs.map(lt=>lt.data());e(et)}catch(K){console.error("Error fetching data:",K)}})()},[A]);const G=(D,K)=>{const et=new Set;return D.filter(lt=>lt[K]&&!et.has(lt[K])?(et.add(lt[K]),!0):!1)},H=(D,K,et)=>{const lt=new Set;return D.filter(ut=>ut[K]&&ut.BRAND===et&&!lt.has(ut[K])?(lt.add(ut[K]),!0):!1)};return O.jsxs("div",{className:"p-4",children:[O.jsxs("h2",{className:"text-lg font-bold mb-4",children:[A," Surround System"]}),O.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center ",children:O.jsxs("select",{className:"bg-amber-100 w-full text-sm font-medium outline-none text-center ",id:"surroundType",onChange:D=>U(D.target.value),children:[O.jsx("option",{disabled:!0,selected:!0,children:"Select The Surround Type"}),x.map((D,K)=>O.jsx("option",{value:D.value,children:D.name},K))]})}),O.jsx("p",{className:"font-semibold",children:"Brands"}),O.jsxs("select",{name:"",id:"",value:E,onChange:D=>b(D.target.value),children:[O.jsx("option",{disabled:!0,children:"Select The Brand"}),G(a,"BRAND").map((D,K)=>O.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:D.BRAND},`brand-${K}`))]}),O.jsx("p",{className:"font-semibold",children:"Center"}),O.jsxs("select",{name:"",id:"",value:o,onChange:D=>c(D.target.value),children:[O.jsx("option",{disabled:!0,children:"Select The Model"}),H(a.filter(D=>D.TYPE==="CENTER"),"MODEL",E).map((D,K)=>O.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:D.MODEL},`center-${K}`))]}),O.jsx("p",{className:"font-semibold",children:"L&R"}),O.jsxs("select",{name:"",id:"",value:i,onChange:D=>c(D.target.value),children:[O.jsx("option",{disabled:!0,children:"Select The Model"}),H(a.filter(D=>D.TYPE==="LEFT RIGHT"),"MODEL",E).map((D,K)=>O.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:D.MODEL},`lr-${K}`))]}),O.jsx("p",{className:"font-semibold",children:"Surround"}),O.jsxs("select",{name:"",id:"",value:d,onChange:D=>p(D.target.value),children:[O.jsx("option",{disabled:!0,children:"Select The Model"}),H(a.filter(D=>D.TYPE==="SURROUND"),"MODEL",E).map((D,K)=>O.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:D.MODEL},`surround-${K}`))]}),O.jsx("p",{className:"font-semibold",children:"Sub"}),O.jsxs("select",{name:"",id:"",value:g,onChange:D=>y(D.target.value),children:[O.jsx("option",{disabled:!0,children:"Select The Model"}),H(a.filter(D=>D.TYPE==="SUB"),"MODEL",E).map((D,K)=>O.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:D.MODEL},`sub-${K}`))]}),O.jsx("p",{className:"font-semibold",children:"Atmos"}),O.jsxs("select",{name:"",id:"",value:g,onChange:D=>y(D.target.value),children:[O.jsx("option",{disabled:!0,children:"Select The Model"}),H(a.filter(D=>D.TYPE==="ATMOS"),"MODEL",E).map((D,K)=>O.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:D.MODEL},`sub-${K}`))]})]})}const gw=()=>{const[a,e]=Q.useState([]),i=[{BRAND:"DENON",MODEL:"AVR-X250BT",PRICE:52900},{BRAND:"DENON",MODEL:"AVR-X580BT",PRICE:73900},{BRAND:"DENON",MODEL:"AVC-A1H",PRICE:799900},{BRAND:"DENON",MODEL:"AVC-A10H",PRICE:599900},{BRAND:"DENON",MODEL:"AVRX-1800H",PRICE:104900},{BRAND:"DENON",MODEL:"AVR-X2800H",PRICE:144990},{BRAND:"DENON",MODEL:"AVC-X3800H",PRICE:209900},{BRAND:"DENON",MODEL:"AVRX-4800H",PRICE:299900},{BRAND:"DENON",MODEL:"AVC-X6800H",PRICE:469900}],s=async()=>{try{for(const c of i)await Rr(Ze(qe,"Amplifiers"),c),console.log("Uploaded:",c);alert("All amplifiers uploaded successfully!")}catch(c){console.error("Upload error:",c),alert("Failed to upload data.")}},o=async()=>{try{const c=await Vr(Ze(qe,"Amplifiers")),d=[];c.forEach(p=>{d.push({id:p.id,...p.data()})}),e(d)}catch(c){console.error("Error fetching amplifiers:",c)}};return Q.useEffect(()=>{o()},[]),O.jsxs("div",{className:"p-4",children:[O.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800",children:"Upload Amplifier Data"}),O.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Amplifier List"}),a.length===0?O.jsx("p",{children:"Loading..."}):O.jsxs("table",{className:"min-w-full border",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"bg-gray-200",children:[O.jsx("th",{className:"border px-4 py-2",children:"Brand"}),O.jsx("th",{className:"border px-4 py-2",children:"Model"}),O.jsx("th",{className:"border px-4 py-2",children:"Price"})]})}),O.jsx("tbody",{children:a.map(c=>O.jsxs("tr",{children:[O.jsx("td",{className:"border px-4 py-2",children:c.BRAND}),O.jsx("td",{className:"border px-4 py-2",children:c.MODEL}),O.jsxs("td",{className:"border px-4 py-2",children:["",c.PRICE]})]},c.id))})]})]})},yw=()=>{const[a,e]=Q.useState([]),[i,s]=Q.useState(!1),o={"16:9":[100,120,135,150,160,180],"2:3:5":[160,170,200,210]},c=()=>{const g=o["2:3:5"].filter(E=>E!==null);return{"16:9":o["16:9"].slice(0,g.length),"2:3:5":g}},d=async()=>{const g=c();try{await Rr(Ze(qe,"SignatureScreen"),g),alert("Data uploaded successfully!"),s(y=>!y)}catch(y){console.error("Upload error:",y),alert("Failed to upload data.")}},p=async()=>{try{const g=await Vr(Ze(qe,"SignatureScreen")),y=[];g.forEach(E=>{y.push(E.data())}),e(y)}catch(g){console.error("Fetch error:",g)}};return Q.useEffect(()=>{p()},[i]),O.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:O.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[O.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[O.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 w-full",children:"Upload Cleaned Signature Data"}),O.jsxs("div",{className:"border p-4 bg-white rounded shadow",children:[O.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cleaned Preview"}),O.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-auto",children:JSON.stringify(c(),null,2)})]})]}),O.jsxs("div",{className:"w-full lg:w-1/2",children:[O.jsx("h2",{className:"text-2xl font-bold mb-4",children:"SignatureScreen Data"}),a.length===0?O.jsx("p",{children:"No data found."}):O.jsx("div",{className:"space-y-4",children:a.map((g,y)=>O.jsxs("div",{className:"border p-3 rounded bg-gray-50 shadow-sm",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"16:9:"})," ",g["16:9"]?.join(", ")]}),O.jsxs("p",{children:[O.jsx("strong",{children:"2:3:5:"})," ",g["2:3:5"]?.join(", ")]})]},y))})]})]})})},vw=()=>{const[a,e]=Q.useState([]),[i,s]=Q.useState({BRAND:"",MODEL:"",PRICE:""}),[o,c]=Q.useState(""),d=[{BRAND:"SONY",MODEL:"5000ES",PRICE:425e3},{BRAND:"SONY",MODEL:"7000ES",PRICE:119e3},{BRAND:"SONY",MODEL:"BRAVIA7",PRICE:575e3},{BRAND:"SONY",MODEL:"BRAVIA9",PRICE:165e3}],p=async()=>{try{for(const U of d)await Rr(Ze(qe,"Projectors"),U);alert("Default projectors uploaded!"),A()}catch(U){console.error("Upload error:",U),alert("Failed to upload default data.")}},g=U=>{const{name:x,value:G}=U.target;s(H=>({...H,[x]:x==="PRICE"?parseInt(G)||"":G}))},y=async()=>{const{BRAND:U,MODEL:x,PRICE:G}=i;if(!U||!x||!G){alert("Fill in all fields.");return}try{await Rr(Ze(qe,"Projectors"),i),alert("Custom projector added!"),s({BRAND:"",MODEL:"",PRICE:""}),A()}catch(H){console.error("Upload error:",H),alert("Failed to upload custom projector.")}},E=async()=>{try{const U=JSON.parse(o);if(!Array.isArray(U))throw new Error("JSON must be an array");for(const x of U){if(!x.BRAND||!x.MODEL||!x.PRICE){alert("Each item must have BRAND, MODEL, PRICE.");return}await Rr(Ze(qe,"Projectors"),x)}alert("JSON data uploaded!"),c(""),A()}catch(U){console.error("JSON Upload Error:",U),alert("Invalid JSON format.")}},b=async U=>{try{await U0(lm(qe,"Projectors",U)),A()}catch(x){console.error("Delete error:",x),alert("Failed to delete.")}},A=async()=>{try{const U=await Vr(Ze(qe,"Projectors")),x=[];U.forEach(G=>{x.push({id:G.id,...G.data()})}),e(x)}catch(U){console.error("Fetch error:",U)}};return Q.useEffect(()=>{A()},[]),O.jsx("div",{className:"p-4 max-w-full mx-auto",children:O.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[O.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[O.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 w-full",children:"Upload Default Projectors"}),O.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[O.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Add Custom Projector"}),O.jsx("input",{name:"BRAND",placeholder:"Brand",value:i.BRAND,onChange:g,className:"w-full border p-2 rounded mb-2"}),O.jsx("input",{name:"MODEL",placeholder:"Model",value:i.MODEL,onChange:g,className:"w-full border p-2 rounded mb-2"}),O.jsx("input",{name:"PRICE",placeholder:"Price",type:"number",value:i.PRICE,onChange:g,className:"w-full border p-2 rounded mb-2"}),O.jsx("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-800 w-full",children:"Add Projector"})]}),O.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[O.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upload from JSON"}),O.jsx("textarea",{value:o,onChange:U=>c(U.target.value),rows:6,placeholder:`[
  {"BRAND":"JVC","MODEL":"NZ8","PRICE":899000},
  {"BRAND":"EPSON","MODEL":"TW9400","PRICE":289000}
]`,className:"w-full border p-2 rounded font-mono mb-2"}),O.jsx("button",{onClick:E,className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-800 w-full",children:"Upload JSON"})]})]}),O.jsxs("div",{className:"w-full lg:w-1/2 over hidden h-screen lg:block",children:[O.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Projector List"}),a.length===0?O.jsx("p",{children:"Loading..."}):O.jsx("div",{className:"overflow-x-auto border rounded shadow bg-white",children:O.jsxs("table",{className:"min-w-full text-sm",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"bg-gray-200 text-left",children:[O.jsx("th",{className:"border px-4 py-2",children:"Brand"}),O.jsx("th",{className:"border px-4 py-2",children:"Model"}),O.jsx("th",{className:"border px-4 py-2",children:"Price"}),O.jsx("th",{className:"border px-4 py-2",children:"Action"})]})}),O.jsx("tbody",{children:a.map(U=>O.jsxs("tr",{children:[O.jsx("td",{className:"border px-4 py-2",children:U.BRAND}),O.jsx("td",{className:"border px-4 py-2",children:U.MODEL}),O.jsxs("td",{className:"border px-4 py-2",children:["",U.PRICE]}),O.jsx("td",{className:"border px-4 py-2",children:O.jsx("button",{onClick:()=>b(U.id),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-800",children:"Remove"})})]},U.id))})]})})]})]})})},Kv={"7.2":[[{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE 40",TYPE:"LEFT RIGHT",PRICE:225e3,COUNT:2},{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE 10",TYPE:"CENTER",PRICE:9e4,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE 6",TYPE:"SURROUND",PRICE:91e3,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE SUB",TYPE:"SUB",PRICE:135e3,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:"SS82 ",TYPE:"ATMOS ",PRICE:38e3,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:" IQ8S",TYPE:"ATMOS ",PRICE:21e3,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"QR 5",TYPE:"LEFT RIGHT",PRICE:484e3,COUNT:2},{BRAND:"AUDIO VECTOR",MODEL:"QR CENTER",TYPE:"CENTER",PRICE:165e3,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"QR WALL",TYPE:"SURROUND ",PRICE:1e5,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"QR SUB",TYPE:"SUB",PRICE:23e4,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"SS82 ",TYPE:"ATMOS ",PRICE:38e3,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:" IQ8S",TYPE:"ATMOS ",PRICE:21e3,COUNT:1}]]},_w=()=>{const[a,e]=Q.useState([]),[i,s]=Q.useState({surround:"",BRAND:"",MODEL:"",TYPE:"",PRICE:"",COUNT:""}),[o,c]=Q.useState(""),[d,p]=Q.useState(""),[g,y]=Q.useState("All"),E=Object.keys(Kv),b=async()=>{const D=[];for(const K of E)(await Vr(Ze(qe,K))).forEach(lt=>{D.push({id:lt.id,surround:K,...lt.data()})});e(D)},A=async()=>{try{for(const[D,K]of Object.entries(Kv))for(const et of K)for(const lt of et)await Rr(Ze(qe,D),lt);alert(" Surround data uploaded!"),b()}catch(D){console.error("Upload failed:",D),alert(" Upload failed. Check console.")}},U=async()=>{const{surround:D,BRAND:K,MODEL:et,TYPE:lt,PRICE:ut,COUNT:St}=i;if(!D||!K||!et||!lt||!ut||!St){alert("Please fill all fields");return}try{await Rr(Ze(qe,D),{BRAND:K,MODEL:et,TYPE:lt,PRICE:parseFloat(ut),COUNT:St}),alert(" Custom speaker added!"),s({surround:"",BRAND:"",MODEL:"",TYPE:"",PRICE:"",COUNT:""}),b()}catch(L){console.error("Custom upload failed:",L),alert(" Failed to add custom speaker.")}},x=async()=>{try{const D=JSON.parse(o);for(const[K,et]of Object.entries(D))for(const lt of et)for(const ut of lt){if(!ut.BRAND||!ut.MODEL||!ut.TYPE||!ut.PRICE||!ut.COUNT){alert("Invalid JSON format.");return}await Rr(Ze(qe,K),ut)}alert(" JSON uploaded!"),c(""),b()}catch(D){console.error("JSON Upload Error:",D),alert(" Invalid JSON input.")}},G=async(D,K)=>{try{await U0(lm(qe,K,D)),b()}catch(et){console.error("Delete failed:",et)}},H=a.filter(D=>{const et=(D.MODEL||"").toLowerCase().includes(d.toLowerCase()),lt=g==="All"||D.surround===g;return et&&lt});return Q.useEffect(()=>{b()},[]),O.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:O.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[O.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[O.jsx("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-800",children:"Upload Default Surround JSON"}),O.jsxs("div",{className:"border p-4 rounded shadow bg-white space-y-2",children:[O.jsx("h2",{className:"text-lg font-semibold",children:"Add Custom Speaker"}),["surround","BRAND","MODEL","TYPE","PRICE","COUNT"].map(D=>O.jsx("input",{name:D,placeholder:D,value:i[D],onChange:K=>s(et=>({...et,[D]:K.target.value})),className:"w-full border p-2 rounded"},D)),O.jsx("button",{onClick:U,className:"bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-800",children:"Add Speaker"})]}),O.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[O.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload via JSON"}),O.jsx("textarea",{rows:6,value:o,onChange:D=>c(D.target.value),placeholder:`{
  "5.1": [[
    {"BRAND": "Sony", "MODEL": "SS-CS3", "TYPE": "LEFT RIGHT", "PRICE": 29999, "COUNT": "PAIR"}
  ]]
}`,className:"w-full border p-2 rounded font-mono"}),O.jsx("button",{onClick:x,className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded w-full hover:bg-purple-800",children:"Upload JSON"})]})]}),O.jsxs("div",{className:"w-full lg:w-1/2 space-y-4",children:[O.jsx("h2",{className:"text-2xl font-bold",children:"Surround Speaker List"}),O.jsxs("div",{className:"flex gap-4 mb-2",children:[O.jsx("input",{type:"text",placeholder:"Search by model",value:d,onChange:D=>p(D.target.value),className:"w-full border px-3 py-2 rounded"}),O.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"border px-3 py-2 rounded",children:[O.jsx("option",{value:"All",children:"All Surround"}),E.map(D=>O.jsx("option",{value:D,children:D},D))]})]}),H.length===0?O.jsx("p",{children:"No matching data found."}):O.jsx("div",{className:"overflow-x-auto border rounded shadow bg-white",children:O.jsxs("table",{className:"min-w-full text-sm",children:[O.jsx("thead",{className:"bg-gray-200",children:O.jsxs("tr",{children:[O.jsx("th",{className:"border px-3 py-2",children:"Surround"}),O.jsx("th",{className:"border px-3 py-2",children:"Brand"}),O.jsx("th",{className:"border px-3 py-2",children:"Model"}),O.jsx("th",{className:"border px-3 py-2",children:"Type"}),O.jsx("th",{className:"border px-3 py-2",children:"Price"}),O.jsx("th",{className:"border px-3 py-2",children:"Count"}),O.jsx("th",{className:"border px-3 py-2",children:"Action"})]})}),O.jsx("tbody",{children:H.map(D=>O.jsxs("tr",{children:[O.jsx("td",{className:"border px-3 py-2",children:D.surround}),O.jsx("td",{className:"border px-3 py-2",children:D.BRAND}),O.jsx("td",{className:"border px-3 py-2",children:D.MODEL}),O.jsx("td",{className:"border px-3 py-2",children:D.TYPE}),O.jsxs("td",{className:"border px-3 py-2",children:["",D.PRICE]}),O.jsx("td",{className:"border px-3 py-2",children:D.COUNT}),O.jsx("td",{className:"border px-3 py-2",children:O.jsx("button",{onClick:()=>G(D.id,D.surround),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-800",children:"Remove"})})]},D.id))})]})})]})]})})};function Ew(){return O.jsxs(nw,{basename:"/cfproject",children:[" ",O.jsxs(I2,{children:[O.jsx(vr,{path:"/",element:O.jsx(zR,{})}),O.jsx(vr,{path:"/manage",element:O.jsx(Audio,{})}),O.jsx(vr,{path:"/add",element:O.jsx(pw,{})}),O.jsx(vr,{path:"/test",element:O.jsx(gw,{})}),O.jsx(vr,{path:"/screen",element:O.jsx(yw,{})}),O.jsx(vr,{path:"/proj",element:O.jsx(vw,{})}),O.jsx(vr,{path:"/surr",element:O.jsx(_w,{})})]})]})}VT.createRoot(document.getElementById("root")).render(O.jsx(Q.StrictMode,{children:O.jsx(Ew,{})}));
