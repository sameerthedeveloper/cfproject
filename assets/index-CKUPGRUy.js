(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var Gf={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function bT(){if(Ry)return Ql;Ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=r,Ql.jsxs=r,Ql}var wy;function RT(){return wy||(wy=1,Gf.exports=bT()),Gf.exports}var b=RT(),Yf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function wT(){if(Cy)return Rt;Cy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,X={};function k(I,rt,ut){this.props=I,this.context=rt,this.refs=X,this.updater=ut||U}k.prototype.isReactComponent={},k.prototype.setState=function(I,rt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,rt,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=k.prototype;function $(I,rt,ut){this.props=I,this.context=rt,this.refs=X,this.updater=ut||U}var Q=$.prototype=new C;Q.constructor=$,P(Q,k.prototype),Q.isPureReactComponent=!0;var nt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},yt=Object.prototype.hasOwnProperty;function O(I,rt,ut,st,pt,Dt){return ut=Dt.ref,{$$typeof:a,type:I,key:rt,ref:ut!==void 0?ut:null,props:Dt}}function R(I,rt){return O(I.type,rt,void 0,void 0,void 0,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function V(I){var rt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ut){return rt[ut]})}var L=/\/+/g;function B(I,rt){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):rt.toString(36)}function N(){}function Ee(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(N,N):(I.status="pending",I.then(function(rt){I.status==="pending"&&(I.status="fulfilled",I.value=rt)},function(rt){I.status==="pending"&&(I.status="rejected",I.reason=rt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function se(I,rt,ut,st,pt){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var St=!1;if(I===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(I.$$typeof){case a:case e:St=!0;break;case E:return St=I._init,se(St(I._payload),rt,ut,st,pt)}}if(St)return pt=pt(I),St=st===""?"."+B(I,0):st,nt(pt)?(ut="",St!=null&&(ut=St.replace(L,"$&/")+"/"),se(pt,rt,ut,"",function(jn){return jn})):pt!=null&&(D(pt)&&(pt=R(pt,ut+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(L,"$&/")+"/")+St)),rt.push(pt)),1;St=0;var De=st===""?".":st+":";if(nt(I))for(var Zt=0;Zt<I.length;Zt++)st=I[Zt],Dt=De+B(st,Zt),St+=se(st,rt,ut,Dt,pt);else if(Zt=A(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(st=I.next()).done;)st=st.value,Dt=De+B(st,Zt++),St+=se(st,rt,ut,Dt,pt);else if(Dt==="object"){if(typeof I.then=="function")return se(Ee(I),rt,ut,st,pt);throw rt=String(I),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return St}function Z(I,rt,ut){if(I==null)return I;var st=[],pt=0;return se(I,st,"","",function(Dt){return rt.call(ut,Dt,pt++)}),st}function ot(I){if(I._status===-1){var rt=I._result;rt=rt(),rt.then(function(ut){(I._status===0||I._status===-1)&&(I._status=1,I._result=ut)},function(ut){(I._status===0||I._status===-1)&&(I._status=2,I._result=ut)}),I._status===-1&&(I._status=0,I._result=rt)}if(I._status===1)return I._result.default;throw I._result}var mt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Bt(){}return Rt.Children={map:Z,forEach:function(I,rt,ut){Z(I,function(){rt.apply(this,arguments)},ut)},count:function(I){var rt=0;return Z(I,function(){rt++}),rt},toArray:function(I){return Z(I,function(rt){return rt})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=k,Rt.Fragment=r,Rt.Profiler=o,Rt.PureComponent=$,Rt.StrictMode=s,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return at.H.useMemoCache(I)}},Rt.cache=function(I){return function(){return I.apply(null,arguments)}},Rt.cloneElement=function(I,rt,ut){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var st=P({},I.props),pt=I.key,Dt=void 0;if(rt!=null)for(St in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(pt=""+rt.key),rt)!yt.call(rt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&rt.ref===void 0||(st[St]=rt[St]);var St=arguments.length-2;if(St===1)st.children=ut;else if(1<St){for(var De=Array(St),Zt=0;Zt<St;Zt++)De[Zt]=arguments[Zt+2];st.children=De}return O(I.type,pt,void 0,void 0,Dt,st)},Rt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Rt.createElement=function(I,rt,ut){var st,pt={},Dt=null;if(rt!=null)for(st in rt.key!==void 0&&(Dt=""+rt.key),rt)yt.call(rt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=rt[st]);var St=arguments.length-2;if(St===1)pt.children=ut;else if(1<St){for(var De=Array(St),Zt=0;Zt<St;Zt++)De[Zt]=arguments[Zt+2];pt.children=De}if(I&&I.defaultProps)for(st in St=I.defaultProps,St)pt[st]===void 0&&(pt[st]=St[st]);return O(I,Dt,void 0,void 0,null,pt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:p,render:I}},Rt.isValidElement=D,Rt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:ot}},Rt.memo=function(I,rt){return{$$typeof:y,type:I,compare:rt===void 0?null:rt}},Rt.startTransition=function(I){var rt=at.T,ut={};at.T=ut;try{var st=I(),pt=at.S;pt!==null&&pt(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Bt,mt)}catch(Dt){mt(Dt)}finally{at.T=rt}},Rt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Rt.use=function(I){return at.H.use(I)},Rt.useActionState=function(I,rt,ut){return at.H.useActionState(I,rt,ut)},Rt.useCallback=function(I,rt){return at.H.useCallback(I,rt)},Rt.useContext=function(I){return at.H.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I,rt){return at.H.useDeferredValue(I,rt)},Rt.useEffect=function(I,rt,ut){var st=at.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(I,rt)},Rt.useId=function(){return at.H.useId()},Rt.useImperativeHandle=function(I,rt,ut){return at.H.useImperativeHandle(I,rt,ut)},Rt.useInsertionEffect=function(I,rt){return at.H.useInsertionEffect(I,rt)},Rt.useLayoutEffect=function(I,rt){return at.H.useLayoutEffect(I,rt)},Rt.useMemo=function(I,rt){return at.H.useMemo(I,rt)},Rt.useOptimistic=function(I,rt){return at.H.useOptimistic(I,rt)},Rt.useReducer=function(I,rt,ut){return at.H.useReducer(I,rt,ut)},Rt.useRef=function(I){return at.H.useRef(I)},Rt.useState=function(I){return at.H.useState(I)},Rt.useSyncExternalStore=function(I,rt,ut){return at.H.useSyncExternalStore(I,rt,ut)},Rt.useTransition=function(){return at.H.useTransition()},Rt.version="19.1.0",Rt}var Dy;function Nd(){return Dy||(Dy=1,Yf.exports=wT()),Yf.exports}var Y=Nd(),Qf={exports:{}},Xl={},Xf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function CT(){return xy||(xy=1,function(a){function e(Z,ot){var mt=Z.length;Z.push(ot);t:for(;0<mt;){var Bt=mt-1>>>1,I=Z[Bt];if(0<o(I,ot))Z[Bt]=ot,Z[mt]=I,mt=Bt;else break t}}function r(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ot=Z[0],mt=Z.pop();if(mt!==ot){Z[0]=mt;t:for(var Bt=0,I=Z.length,rt=I>>>1;Bt<rt;){var ut=2*(Bt+1)-1,st=Z[ut],pt=ut+1,Dt=Z[pt];if(0>o(st,mt))pt<I&&0>o(Dt,st)?(Z[Bt]=Dt,Z[pt]=mt,Bt=pt):(Z[Bt]=st,Z[ut]=mt,Bt=ut);else if(pt<I&&0>o(Dt,mt))Z[Bt]=Dt,Z[pt]=mt,Bt=pt;else break t}}return ot}function o(Z,ot){var mt=Z.sortIndex-ot.sortIndex;return mt!==0?mt:Z.id-ot.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,w=null,A=3,U=!1,P=!1,X=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function nt(Z){for(var ot=r(y);ot!==null;){if(ot.callback===null)s(y);else if(ot.startTime<=Z)s(y),ot.sortIndex=ot.expirationTime,e(g,ot);else break;ot=r(y)}}function at(Z){if(X=!1,nt(Z),!P)if(r(g)!==null)P=!0,yt||(yt=!0,B());else{var ot=r(y);ot!==null&&se(at,ot.startTime-Z)}}var yt=!1,O=-1,R=5,D=-1;function V(){return k?!0:!(a.unstable_now()-D<R)}function L(){if(k=!1,yt){var Z=a.unstable_now();D=Z;var ot=!0;try{t:{P=!1,X&&(X=!1,$(O),O=-1),U=!0;var mt=A;try{e:{for(nt(Z),w=r(g);w!==null&&!(w.expirationTime>Z&&V());){var Bt=w.callback;if(typeof Bt=="function"){w.callback=null,A=w.priorityLevel;var I=Bt(w.expirationTime<=Z);if(Z=a.unstable_now(),typeof I=="function"){w.callback=I,nt(Z),ot=!0;break e}w===r(g)&&s(g),nt(Z)}else s(g);w=r(g)}if(w!==null)ot=!0;else{var rt=r(y);rt!==null&&se(at,rt.startTime-Z),ot=!1}}break t}finally{w=null,A=mt,U=!1}ot=void 0}}finally{ot?B():yt=!1}}}var B;if(typeof Q=="function")B=function(){Q(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ee=N.port2;N.port1.onmessage=L,B=function(){Ee.postMessage(null)}}else B=function(){C(L,0)};function se(Z,ot){O=C(function(){Z(a.unstable_now())},ot)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(Z){switch(A){case 1:case 2:case 3:var ot=3;break;default:ot=A}var mt=A;A=ot;try{return Z()}finally{A=mt}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(Z,ot){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var mt=A;A=Z;try{return ot()}finally{A=mt}},a.unstable_scheduleCallback=function(Z,ot,mt){var Bt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=mt+I,Z={id:E++,callback:ot,priorityLevel:Z,startTime:mt,expirationTime:I,sortIndex:-1},mt>Bt?(Z.sortIndex=mt,e(y,Z),r(g)===null&&Z===r(y)&&(X?($(O),O=-1):X=!0,se(at,mt-Bt))):(Z.sortIndex=I,e(g,Z),P||U||(P=!0,yt||(yt=!0,B()))),Z},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(Z){var ot=A;return function(){var mt=A;A=ot;try{return Z.apply(this,arguments)}finally{A=mt}}}}(Kf)),Kf}var Ny;function DT(){return Ny||(Ny=1,Xf.exports=CT()),Xf.exports}var $f={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function xT(){if(Oy)return Qe;Oy=1;var a=Nd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Qe.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var Iy;function NT(){if(Iy)return $f.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),$f.exports=xT(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function OT(){if(Vy)return Xl;Vy=1;var a=DT(),e=Nd(),r=NT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var i=t,l=n;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===i){_=!0,i=h,l=f;break}if(T===l){_=!0,l=h,i=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===i){_=!0,i=f,l=h;break}if(T===l){_=!0,l=f,i=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case k:return"Profiler";case X:return"StrictMode";case at:return"Suspense";case yt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ee(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Ee(t(n))}catch{}}return null}var se=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],I=-1;function rt(t){return{current:t}}function ut(t){0>I||(t.current=Bt[I],Bt[I]=null,I--)}function st(t,n){I++,Bt[I]=t.current,t.current=n}var pt=rt(null),Dt=rt(null),St=rt(null),De=rt(null);function Zt(t,n){switch(st(St,n),st(Dt,t),st(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wg(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(pt),st(pt,t)}function jn(){ut(pt),ut(Dt),ut(St)}function Hr(t){t.memoizedState!==null&&st(De,t);var n=pt.current,i=ty(n,t.type);n!==i&&(st(Dt,t),st(pt,i))}function hr(t){Dt.current===t&&(ut(pt),ut(Dt)),De.current===t&&(ut(De),ql._currentValue=mt)}var Mi=Object.prototype.hasOwnProperty,Ui=a.unstable_scheduleCallback,Pi=a.unstable_cancelCallback,Bs=a.unstable_shouldYield,Ro=a.unstable_requestPaint,gn=a.unstable_now,Fc=a.unstable_getCurrentPriorityLevel,zs=a.unstable_ImmediatePriority,wa=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Gc=a.unstable_LowPriority,Ca=a.unstable_IdlePriority,ks=a.log,wo=a.unstable_setDisableYieldValue,le=null,Ht=null;function ln(t){if(typeof ks=="function"&&wo(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var Ge=Math.clz32?Math.clz32:ji,Co=Math.log,Yc=Math.LN2;function ji(t){return t>>>=0,t===0?32:31-(Co(t)/Yc|0)|0}var Bi=256,zi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Da(t,n,i){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=On(l):(_&=T,_!==0?h=On(_):i||(i=T&~t,i!==0&&(h=On(i))))):(T=l&~f,T!==0?h=On(T):_!==0?h=On(_):i||(i=l&~t,i!==0&&(h=On(i)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:h}function ki(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var t=Bi;return Bi<<=1,(Bi&4194048)===0&&(Bi=256),t}function Fs(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function fr(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gs(t,n,i,l,h,f){var _=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(i=_&~i;0<i;){var J=31-Ge(i),tt=1<<J;T[J]=0,x[J]=-1;var F=H[J];if(F!==null)for(H[J]=null,J=0;J<F.length;J++){var G=F[J];G!==null&&(G.lane&=-536870913)}i&=~tt}l!==0&&Bn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Bn(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Ys(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var l=31-Ge(i),h=1<<l;h&n|t[l]&n&&(t[l]|=n),i&=~h}}function Fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gr(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function Do(t,n){var i=ot.p;try{return ot.p=t,n()}finally{ot.p=i}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,me="__reactProps$"+ee,yn="__reactContainer$"+ee,Qs="__reactEvents$"+ee,Qc="__reactListeners$"+ee,Yr="__reactHandles$"+ee,xo="__reactResources$"+ee,qi="__reactMarker$"+ee;function Qr(t){delete t[Te],delete t[me],delete t[Qs],delete t[Qc],delete t[Yr]}function mr(t){var n=t[Te];if(n)return n;for(var i=t.parentNode;i;){if(n=i[yn]||i[Te]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=iy(t);t!==null;){if(i=t[Te])return i;t=iy(t)}return n}t=i,i=t.parentNode}return null}function zn(t){if(t=t[Te]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Je(t){var n=t[xo];return n||(n=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[qi]=!0}var Xs=new Set,Na={};function In(t,n){pr(t,n),pr(t+"Capture",n)}function pr(t,n){for(Na[t]=n,t=0;t<n.length;t++)Xs.add(n[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Hi={};function Io(t){return Mi.call(Hi,t)?!0:Mi.call(Oo,t)?!1:No.test(t)?Hi[t]=!0:(Oo[t]=!0,!1)}function Xr(t,n,i){if(Io(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function qn(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function Ue(t,n,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+l)}}var Fi,Vo;function gr(t){if(Fi===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Fi=n&&n[1]||"",Vo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+t+Vo}var Oa=!1;function Ia(t,n){if(!t||Oa)return"";Oa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var F=G}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(G){F=G}t.call(tt.prototype)}}else{try{throw Error()}catch(G){F=G}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var x=_.split(`
`),H=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===H.length)for(l=x.length-1,h=H.length-1;1<=l&&0<=h&&x[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==H[h]){var J=`
`+x[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?gr(i):""}function Ks(t){switch(t.tag){case 26:case 27:case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Ia(t.type,!1);case 11:return Ia(t.type.render,!1);case 1:return Ia(t.type,!0);case 31:return gr("Activity");default:return""}}function Va(t){try{var n="";do n+=Ks(t),t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $s(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xc(t){var n=$s(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ma(t){t._valueTracker||(t._valueTracker=Xc(t))}function Zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return t&&(l=$s(t)?t.checked?"true":"false":t.value),t=l,t!==i?(n.setValue(t),!0):!1}function Gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kc=/[\n"\\]/g;function pe(t){return t.replace(Kc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,i,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+We(n)):t.value!==""+We(n)&&(t.value=""+We(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,_,We(n)):i!=null?Kr(t,_,We(i)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+We(T):t.removeAttribute("name")}function Yi(t,n,i,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+We(i):"",n=n!=null?""+We(n):i,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Kr(t,n,i){n==="number"&&Gi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function yr(t,n,i,l){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&l&&(t[i].defaultSelected=!0)}else{for(i=""+We(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yt(t,n,i){if(n!=null&&(n=""+We(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+We(i):""}function Qi(t,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=We(n),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,i):typeof i!="number"||i===0||Xi.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function Js(t,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&i[h]!==l&&Mo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Mo(t,f,n[f])}function Ws(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(t){return Zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vr=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,Er=null;function tl(t){var n=zn(t);if(n&&(t=n.stateNode)){var i=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(on(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==t&&l.form===t.form){var h=l[me]||null;if(!h)throw Error(s(90));on(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===t.form&&Zs(l)}break t;case"textarea":Yt(t,i.value,i.defaultValue);break t;case"select":n=i.value,n!=null&&yr(t,!!i.multiple,n,!1)}}}var Hn=!1;function Uo(t,n,i){if(Hn)return t(n,i);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(_r!==null||Er!==null)&&(Du(),_r&&(n=_r,t=Er,Er=_r=null,tl(n),t)))for(n=0;n<t.length;n++)tl(t[n])}}function Ki(t,n){var i=t.stateNode;if(i===null)return null;var l=i[me]||null;if(l===null)return null;i=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Vn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){En=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{En=!1}var Fn=null,$r=null,Tr=null;function el(){if(Tr)return Tr;var t,n=$r,i=n.length,l,h="value"in Fn?Fn.value:Fn.textContent,f=h.length;for(t=0;t<i&&n[t]===h[t];t++);var _=i-t;for(l=1;l<=_&&n[i-l]===h[f-l];l++);return Tr=h.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function nl(){return!1}function xe(t){function n(i,l,h,f,_){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:nl,this.isPropagationStopped=nl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=xe(kt),Zi=E({},kt,{view:0,detail:0}),Po=xe(Zi),La,ja,Qn,Ji=E({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(La=t.screenX-Qn.screenX,ja=t.screenY-Qn.screenY):ja=La=0,Qn=t),La)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),Tn=xe(Ji),Lo=E({},Ji,{dataTransfer:0}),Jc=xe(Lo),Wi=E({},Zi,{relatedTarget:0}),Ba=xe(Wi),rl=E({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),za=xe(rl),jo=E({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=xe(jo),Wc=E({},kt,{data:0}),il=xe(Wc),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function ea(){return al}var ko=E({},Zi,{key:function(t){if(t.key){var n=ta[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qa=xe(ko),qo=E({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=xe(qo),Sr=E({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ho=xe(Sr),Fo=E({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Go=xe(Fo),Yo=E({},Ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=xe(Yo),tn=E({},kt,{newState:0,oldState:0}),Qo=xe(tn),Xo=[9,13,27,32],Xn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,v=Vn&&(!Xn||u&&8<u&&11>=u),S=" ",z=!1;function K(t,n){switch(t){case"keyup":return Xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Se(t,n){switch(t){case"compositionend":return lt(n);case"keypress":return n.which!==32?null:(z=!0,S);case"textInput":return t=n.data,t===S&&z?null:t;default:return null}}function Mt(t,n){if(Vt)return t==="compositionend"||!Xn&&K(t,n)?(t=el(),Tr=$r=Fn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function Ar(t,n,i,l){_r?Er?Er.push(l):Er=[l]:_r=l,n=Mu(n,"onChange"),0<n.length&&(i=new Pa("onChange","change",null,i,l),t.push({event:i,listeners:n}))}var Pe=null,Kn=null;function ll(t){Xg(t,0)}function Ko(t){var n=kn(t);if(Zs(n))return t}function pm(t,n){if(t==="change")return n}var gm=!1;if(Vn){var th;if(Vn){var eh="oninput"in document;if(!eh){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),eh=typeof ym.oninput=="function"}th=eh}else th=!1;gm=th&&(!document.documentMode||9<document.documentMode)}function vm(){Pe&&(Pe.detachEvent("onpropertychange",_m),Kn=Pe=null)}function _m(t){if(t.propertyName==="value"&&Ko(Kn)){var n=[];Ar(n,Kn,t,_n(t)),Uo(ll,n)}}function tE(t,n,i){t==="focusin"?(vm(),Pe=n,Kn=i,Pe.attachEvent("onpropertychange",_m)):t==="focusout"&&vm()}function eE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(Kn)}function nE(t,n){if(t==="click")return Ko(n)}function rE(t,n){if(t==="input"||t==="change")return Ko(n)}function iE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:iE;function ol(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!Mi.call(n,h)||!un(t[h],n[h]))return!1}return!0}function Em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var i=Em(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=n&&l>=n)return{node:i,offset:n-t};t=l}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Em(i)}}function Sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gi(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=Gi(t.document)}return n}function nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var aE=Vn&&"documentMode"in document&&11>=document.documentMode,Fa=null,rh=null,ul=null,ih=!1;function bm(t,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ih||Fa==null||Fa!==Gi(l)||(l=Fa,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Mu(rh,"onSelect"),0<l.length&&(n=new Pa("onSelect","select",null,n,i),t.push({event:n,listeners:l}),n.target=Fa)))}function na(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Ga={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},ah={},Rm={};Vn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ra(t){if(ah[t])return ah[t];if(!Ga[t])return t;var n=Ga[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Rm)return ah[t]=n[i];return t}var wm=ra("animationend"),Cm=ra("animationiteration"),Dm=ra("animationstart"),sE=ra("transitionrun"),lE=ra("transitionstart"),oE=ra("transitioncancel"),xm=ra("transitionend"),Nm=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function Mn(t,n){Nm.set(t,n),In(n,[t])}var Om=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var i=Om.get(t);return i!==void 0?i:(n={value:t,source:n,stack:Va(n)},Om.set(t,n),n)}return{value:t,source:n,stack:Va(n)}}var An=[],Ya=0,lh=0;function $o(){for(var t=Ya,n=lh=Ya=0;n<t;){var i=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Im(i,h,f)}}function Zo(t,n,i,l){An[Ya++]=t,An[Ya++]=n,An[Ya++]=i,An[Ya++]=l,lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oh(t,n,i,l){return Zo(t,n,i,l),Jo(t)}function Qa(t,n){return Zo(t,null,null,n),Jo(t)}function Im(t,n,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var h=!1,f=t.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ge(i),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=i|536870912),f):null}function Jo(t){if(50<Ml)throw Ml=0,pf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xa={};function uE(t,n,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,i,l){return new uE(t,n,i,l)}function uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function br(t,n){var i=t.alternate;return i===null?(i=cn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Vm(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Wo(t,n,i,l,h,f){var _=0;if(l=t,typeof t=="function")uh(t)&&(_=1);else if(typeof t=="string")_=hT(t,i,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=cn(31,i,n,h),t.elementType=D,t.lanes=f,t;case P:return ia(i.children,h,f,n);case X:_=8,h|=24;break;case k:return t=cn(12,i,n,h|2),t.elementType=k,t.lanes=f,t;case at:return t=cn(13,i,n,h),t.elementType=at,t.lanes=f,t;case yt:return t=cn(19,i,n,h),t.elementType=yt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case Q:_=10;break t;case $:_=9;break t;case nt:_=11;break t;case O:_=14;break t;case R:_=16,l=null;break t}_=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=cn(_,i,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ia(t,n,i,l){return t=cn(7,t,l,n),t.lanes=i,t}function ch(t,n,i){return t=cn(6,t,null,n),t.lanes=i,t}function hh(t,n,i){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ka=[],$a=0,tu=null,eu=0,bn=[],Rn=0,aa=null,Rr=1,wr="";function sa(t,n){Ka[$a++]=eu,Ka[$a++]=tu,tu=t,eu=n}function Mm(t,n,i){bn[Rn++]=Rr,bn[Rn++]=wr,bn[Rn++]=aa,aa=t;var l=Rr;t=wr;var h=32-Ge(l)-1;l&=~(1<<h),i+=1;var f=32-Ge(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Rr=1<<32-Ge(n)+h|i<<h|l,wr=f+t}else Rr=1<<f|i<<h|l,wr=t}function fh(t){t.return!==null&&(sa(t,1),Mm(t,1,0))}function dh(t){for(;t===tu;)tu=Ka[--$a],Ka[$a]=null,eu=Ka[--$a],Ka[$a]=null;for(;t===aa;)aa=bn[--Rn],bn[Rn]=null,wr=bn[--Rn],bn[Rn]=null,Rr=bn[--Rn],bn[Rn]=null}var en=null,oe=null,zt=!1,la=null,$n=!1,mh=Error(s(519));function oa(t){var n=Error(s(418,""));throw fl(Sn(n,t)),mh}function Um(t){var n=t.stateNode,i=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,i){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(i=0;i<Pl.length;i++)Ot(Pl[i],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Yi(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Qi(n,l.value,l.defaultValue,l.children),Ma(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Jg(n.textContent,i)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Uu),n=!0):n=!1,n||oa(t)}function Pm(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:en=en.return}}function cl(t){if(t!==en)return!1;if(!zt)return Pm(t),zt=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Of(t.type,t.memoizedProps)),i=!i),i&&oe&&oa(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(n===0){oe=Pn(t.nextSibling);break t}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,fi(t.type)?(t=Uf,Uf=null,oe=t):oe=n):oe=en?Pn(t.stateNode.nextSibling):null;return!0}function hl(){oe=en=null,zt=!1}function Lm(){var t=la;return t!==null&&(an===null?an=t:an.push.apply(an,t),la=null),t}function fl(t){la===null?la=[t]:la.push(t)}var ph=rt(null),ua=null,Cr=null;function Zr(t,n,i){st(ph,n._currentValue),n._currentValue=i}function Dr(t){t._currentValue=ph.current,ut(ph)}function gh(t,n,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===i)break;t=t.return}}function yh(t,n,i,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=i,T=f.alternate,T!==null&&(T.lanes|=i),gh(f.return,i,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=i,f=_.alternate,f!==null&&(f.lanes|=i),gh(_,i,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function dl(t,n,i,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===De.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&yh(n,t,i,l),n.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,Cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return jm(ua,t)}function ru(t,n){return ua===null&&ca(t),jm(t,n)}function jm(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Cr===null){if(t===null)throw Error(s(308));Cr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Cr=Cr.next=n;return i}var cE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},hE=a.unstable_scheduleCallback,fE=a.unstable_NormalPriority,be={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new cE,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&hE(fE,function(){t.controller.abort()})}var pl=null,_h=0,Za=0,Ja=null;function dE(t,n){if(pl===null){var i=pl=[];_h=0,Za=Sf(),Ja={status:"pending",value:void 0,then:function(l){i.push(l)}}}return _h++,n.then(Bm,Bm),n}function Bm(){if(--_h===0&&pl!==null){Ja!==null&&(Ja.status="fulfilled");var t=pl;pl=null,Za=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mE(t,n){var i=[],l={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),l}var zm=Z.S;Z.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&dE(t,n),zm!==null&&zm(t,n)};var ha=rt(null);function Eh(){var t=ha.current;return t!==null?t:Jt.pooledCache}function iu(t,n){n===null?st(ha,ha.current):st(ha,n.pool)}function km(){var t=Eh();return t===null?null:{parent:be._currentValue,pool:t}}var gl=Error(s(460)),qm=Error(s(474)),au=Error(s(542)),Th={then:function(){}};function Hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function su(){}function Fm(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(su,su),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t;default:if(typeof n.status=="string")n.then(su,su);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t}throw yl=n,gl}}var yl=null;function Gm(){if(yl===null)throw Error(s(459));var t=yl;return yl=null,t}function Ym(t){if(t===gl||t===au)throw Error(s(483))}var Jr=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ti(t,n,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Jo(t),Im(t,null,i),n}return Zo(t,l,n,i),Jo(t)}function vl(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Ys(t,i)}}function bh(t,n){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,i=i.next}while(i!==null);f===null?h=f=n:f=f.next=n}else h=f=n;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var Rh=!1;function _l(){if(Rh){var t=Ja;if(t!==null)throw t}}function El(t,n,i,l){Rh=!1;var h=t.updateQueue;Jr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,H=x.next;x.next=null,_===null?f=H:_.next=H,_=x;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=H:T.next=H,J.lastBaseUpdate=x))}if(f!==null){var tt=h.baseState;_=0,J=H=x=null,T=f;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Ut&F)===F:(l&F)===F){F!==0&&F===Za&&(Rh=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=t,vt=T;F=n;var Kt=i;switch(vt.tag){case 1:if(Tt=vt.payload,typeof Tt=="function"){tt=Tt.call(Kt,tt,F);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=vt.payload,F=typeof Tt=="function"?Tt.call(Kt,tt,F):Tt,F==null)break t;tt=E({},tt,F);break t;case 2:Jr=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(H=J=G,x=tt):J=J.next=G,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);J===null&&(x=tt),h.baseState=x,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),oi|=_,t.lanes=_,t.memoizedState=tt}}function Qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Xm(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Qm(i[t],n)}var Wa=rt(null),lu=rt(0);function Km(t,n){t=Ur,st(lu,t),st(Wa,n),Ur=t|n.baseLanes}function wh(){st(lu,Ur),st(Wa,Wa.current)}function Ch(){Ur=lu.current,ut(Wa),ut(lu)}var ei=0,wt=null,Qt=null,ge=null,ou=!1,ts=!1,fa=!1,uu=0,Tl=0,es=null,pE=0;function he(){throw Error(s(321))}function Dh(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!un(t[i],n[i]))return!1;return!0}function xh(t,n,i,l,h,f){return ei=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=t===null||t.memoizedState===null?Ip:Vp,fa=!1,f=i(l,h),fa=!1,ts&&(f=Zm(n,i,l,h)),$m(t),f}function $m(t){Z.H=pu;var n=Qt!==null&&Qt.next!==null;if(ei=0,ge=Qt=wt=null,ou=!1,Tl=0,es=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&nu(t)&&(Oe=!0))}function Zm(t,n,i,l){wt=t;var h=0;do{if(ts&&(es=null),Tl=0,ts=!1,25<=h)throw Error(s(301));if(h+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Z.H=SE,f=n(i,l)}while(ts);return f}function gE(){var t=Z.H,n=t.useState()[0];return n=typeof n.then=="function"?Sl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Nh(){var t=uu!==0;return uu=0,t}function Oh(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function Ih(t){if(ou){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ou=!1}ei=0,ge=Qt=wt=null,ts=!1,Tl=uu=0,es=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function ye(){if(Qt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var n=Tl;return Tl+=1,es===null&&(es=[]),t=Fm(es,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Ip:Vp),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===Q)return Ye(t)}throw Error(s(438,String(t)))}function Mh(t){var n=null,i=wt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Vh(),wt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),l=0;l<t;l++)i[l]=V;return n.index++,i}function xr(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=ye();return Uh(n,Qt,t)}function Uh(t,n,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,x=null,H=n,J=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Ut&tt)===tt:(ei&tt)===tt){var F=H.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Za&&(J=!0);else if((ei&F)===F){H=H.next,F===Za&&(J=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(T=x=tt,_=f):x=x.next=tt,wt.lanes|=F,oi|=F;tt=H.action,fa&&i(f,tt),f=H.hasEagerState?H.eagerState:i(f,tt)}else F={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(T=x=F,_=f):x=x.next=F,wt.lanes|=tt,oi|=tt;H=H.next}while(H!==null&&H!==n);if(x===null?_=f:x.next=T,!un(f,t.memoizedState)&&(Oe=!0,J&&(i=Ja,i!==null)))throw i;t.memoizedState=f,t.baseState=_,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ph(t){var n=ye(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,h=i.pending,f=n.memoizedState;if(h!==null){i.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);un(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function Jm(t,n,i){var l=wt,h=ye(),f=zt;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=n();var _=!un((Qt||h).memoizedState,i);_&&(h.memoizedState=i,Oe=!0),h=h.queue;var T=ep.bind(null,l,h,t);if(Al(2048,8,T,[t]),h.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,ns(9,fu(),tp.bind(null,l,h,i,n),null),Jt===null)throw Error(s(349));f||(ei&124)!==0||Wm(l,n,i)}return i}function Wm(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=wt.updateQueue,n===null?(n=Vh(),wt.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function tp(t,n,i,l){n.value=i,n.getSnapshot=l,np(n)&&rp(t)}function ep(t,n,i){return i(function(){np(n)&&rp(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!un(t,i)}catch{return!0}}function rp(t){var n=Qa(t,2);n!==null&&pn(n,t,2)}function Lh(t){var n=nn();if(typeof t=="function"){var i=t;if(t=i(),fa){ln(!0);try{i()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:t},n}function ip(t,n,i,l){return t.baseState=i,Uh(t,Qt,typeof l=="function"?l:xr)}function yE(t,n,i,l,h){if(mu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Z.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,ap(n,f)):(f.next=i.next,n.pending=i.next=f)}}function ap(t,n){var i=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Z.T,_={};Z.T=_;try{var T=i(h,l),x=Z.S;x!==null&&x(_,T),sp(t,n,T)}catch(H){jh(t,n,H)}finally{Z.T=f}}else try{f=i(h,l),sp(t,n,f)}catch(H){jh(t,n,H)}}function sp(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){lp(t,n,l)},function(l){return jh(t,n,l)}):lp(t,n,i)}function lp(t,n,i){n.status="fulfilled",n.value=i,op(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,ap(t,i)))}function jh(t,n,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,op(n),n=n.next;while(n!==l)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function cp(t,n){if(zt){var i=Jt.formState;if(i!==null){t:{var l=wt;if(zt){if(oe){e:{for(var h=oe,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Pn(h.nextSibling),l=h.data==="F!";break t}}oa(l)}l=!1}l&&(n=i[0])}}return i=nn(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},i.queue=l,i=xp.bind(null,wt,l),l.dispatch=i,l=Lh(!1),f=Hh.bind(null,wt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,i=yE.bind(null,wt,h,f,i),h.dispatch=i,l.memoizedState=t,[n,i,!1]}function hp(t){var n=ye();return fp(n,Qt,t)}function fp(t,n,i){if(n=Uh(t,n,up)[0],t=hu(xr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Sl(n)}catch(_){throw _===gl?au:_}else l=n;n=ye();var h=n.queue,f=h.dispatch;return i!==n.memoizedState&&(wt.flags|=2048,ns(9,fu(),vE.bind(null,h,i),null)),[l,f,t]}function vE(t,n){t.action=n}function dp(t){var n=ye(),i=Qt;if(i!==null)return fp(n,i,t);ye(),n=n.memoizedState,i=ye();var l=i.queue.dispatch;return i.memoizedState=t,[n,l,!1]}function ns(t,n,i,l){return t={tag:t,create:i,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Vh(),wt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,n.lastEffect=t),t}function fu(){return{destroy:void 0,resource:void 0}}function mp(){return ye().memoizedState}function du(t,n,i,l){var h=nn();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=ns(1|n,fu(),i,l)}function Al(t,n,i,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&Dh(l,Qt.memoizedState.deps)?h.memoizedState=ns(n,f,i,l):(wt.flags|=t,h.memoizedState=ns(1|n,f,i,l))}function pp(t,n){du(8390656,8,t,n)}function gp(t,n){Al(2048,8,t,n)}function yp(t,n){return Al(4,2,t,n)}function vp(t,n){return Al(4,4,t,n)}function _p(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ep(t,n,i){i=i!=null?i.concat([t]):null,Al(4,4,_p.bind(null,n,t),i)}function Bh(){}function Tp(t,n){var i=ye();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Dh(n,l[1])?l[0]:(i.memoizedState=[t,n],t)}function Sp(t,n){var i=ye();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Dh(n,l[1]))return l[0];if(l=t(),fa){ln(!0);try{t()}finally{ln(!1)}}return i.memoizedState=[l,n],l}function zh(t,n,i){return i===void 0||(ei&1073741824)!==0?t.memoizedState=n:(t.memoizedState=i,t=Rg(),wt.lanes|=t,oi|=t,i)}function Ap(t,n,i,l){return un(i,n)?i:Wa.current!==null?(t=zh(t,i,l),un(t,n)||(Oe=!0),t):(ei&42)===0?(Oe=!0,t.memoizedState=i):(t=Rg(),wt.lanes|=t,oi|=t,n)}function bp(t,n,i,l,h){var f=ot.p;ot.p=f!==0&&8>f?f:8;var _=Z.T,T={};Z.T=T,Hh(t,!1,n,i);try{var x=h(),H=Z.S;if(H!==null&&H(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=mE(x,l);bl(t,n,J,mn(t))}else bl(t,n,l,mn(t))}catch(tt){bl(t,n,{then:function(){},status:"rejected",reason:tt},mn())}finally{ot.p=f,Z.T=_}}function _E(){}function kh(t,n,i,l){if(t.tag!==5)throw Error(s(476));var h=Rp(t).queue;bp(t,h,n,mt,i===null?_E:function(){return wp(t),i(l)})}function Rp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:mt},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wp(t){var n=Rp(t).next.queue;bl(t,n,{},mn())}function qh(){return Ye(ql)}function Cp(){return ye().memoizedState}function Dp(){return ye().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=mn();t=Wr(i);var l=ti(n,t,i);l!==null&&(pn(l,n,i),vl(l,n,i)),n={cache:vh()},t.payload=n;return}n=n.return}}function TE(t,n,i){var l=mn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},mu(t)?Np(n,i):(i=oh(t,n,i,l),i!==null&&(pn(i,t,l),Op(i,n,l)))}function xp(t,n,i){var l=mn();bl(t,n,i,l)}function bl(t,n,i,l){var h={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(mu(t))Np(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,i);if(h.hasEagerState=!0,h.eagerState=T,un(T,_))return Zo(t,n,h,0),Jt===null&&$o(),!1}catch{}finally{}if(i=oh(t,n,h,l),i!==null)return pn(i,t,l),Op(i,n,l),!0}return!1}function Hh(t,n,i,l){if(l={lane:2,revertLane:Sf(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(s(479))}else n=oh(t,i,l,2),n!==null&&pn(n,t,2)}function mu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Np(t,n){ts=ou=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Op(t,n,i){if((i&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Ys(t,i)}}var pu={readContext:Ye,use:cu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Ip={readContext:Ye,use:cu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:pp,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,du(4194308,4,_p.bind(null,n,t),i)},useLayoutEffect:function(t,n){return du(4194308,4,t,n)},useInsertionEffect:function(t,n){du(4,2,t,n)},useMemo:function(t,n){var i=nn();n=n===void 0?null:n;var l=t();if(fa){ln(!0);try{t()}finally{ln(!1)}}return i.memoizedState=[l,n],l},useReducer:function(t,n,i){var l=nn();if(i!==void 0){var h=i(n);if(fa){ln(!0);try{i(n)}finally{ln(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Lh(t);var n=t.queue,i=xp.bind(null,wt,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:Bh,useDeferredValue:function(t,n){var i=nn();return zh(i,t,n)},useTransition:function(){var t=Lh(!1);return t=bp.bind(null,wt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var l=wt,h=nn();if(zt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||Wm(l,n,i)}h.memoizedState=i;var f={value:i,getSnapshot:n};return h.queue=f,pp(ep.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,fu(),tp.bind(null,l,f,i,n),null),i},useId:function(){var t=nn(),n=Jt.identifierPrefix;if(zt){var i=wr,l=Rr;i=(l&~(1<<32-Ge(l)-1)).toString(32)+i,n=""+n+"R"+i,i=uu++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=pE++,n=""+n+"r"+i.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:qh,useFormState:cp,useActionState:cp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Hh.bind(null,wt,!0,i),i.dispatch=n,[t,n]},useMemoCache:Mh,useCacheRefresh:function(){return nn().memoizedState=EE.bind(null,wt)}},Vp={readContext:Ye,use:cu,useCallback:Tp,useContext:Ye,useEffect:gp,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:hu,useRef:mp,useState:function(){return hu(xr)},useDebugValue:Bh,useDeferredValue:function(t,n){var i=ye();return Ap(i,Qt.memoizedState,t,n)},useTransition:function(){var t=hu(xr)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:Jm,useId:Cp,useHostTransitionStatus:qh,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var i=ye();return ip(i,Qt,t,n)},useMemoCache:Mh,useCacheRefresh:Dp},SE={readContext:Ye,use:cu,useCallback:Tp,useContext:Ye,useEffect:gp,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:Ph,useRef:mp,useState:function(){return Ph(xr)},useDebugValue:Bh,useDeferredValue:function(t,n){var i=ye();return Qt===null?zh(i,t,n):Ap(i,Qt.memoizedState,t,n)},useTransition:function(){var t=Ph(xr)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:Jm,useId:Cp,useHostTransitionStatus:qh,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var i=ye();return Qt!==null?ip(i,Qt,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:Dp},rs=null,Rl=0;function gu(t){var n=Rl;return Rl+=1,rs===null&&(rs=[]),Fm(rs,t,n)}function wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yu(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mp(t){var n=t._init;return n(t._payload)}function Up(t){function n(j,M){if(t){var q=j.deletions;q===null?(j.deletions=[M],j.flags|=16):q.push(M)}}function i(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=br(j,M),j.index=0,j.sibling=null,j}function f(j,M,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<M?(j.flags|=67108866,M):q):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,q,W){return M===null||M.tag!==6?(M=ch(q,j.mode,W),M.return=j,M):(M=h(M,q),M.return=j,M)}function x(j,M,q,W){var ht=q.type;return ht===P?J(j,M,q.props.children,W,q.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Mp(ht)===M.type)?(M=h(M,q.props),wl(M,q),M.return=j,M):(M=Wo(q.type,q.key,q.props,null,j.mode,W),wl(M,q),M.return=j,M)}function H(j,M,q,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=hh(q,j.mode,W),M.return=j,M):(M=h(M,q.children||[]),M.return=j,M)}function J(j,M,q,W,ht){return M===null||M.tag!==7?(M=ia(q,j.mode,W,ht),M.return=j,M):(M=h(M,q),M.return=j,M)}function tt(j,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ch(""+M,j.mode,q),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return q=Wo(M.type,M.key,M.props,null,j.mode,q),wl(q,M),q.return=j,q;case U:return M=hh(M,j.mode,q),M.return=j,M;case R:var W=M._init;return M=W(M._payload),tt(j,M,q)}if(se(M)||B(M))return M=ia(M,j.mode,q,null),M.return=j,M;if(typeof M.then=="function")return tt(j,gu(M),q);if(M.$$typeof===Q)return tt(j,ru(j,M),q);yu(j,M)}return null}function F(j,M,q,W){var ht=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:T(j,M,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===ht?x(j,M,q,W):null;case U:return q.key===ht?H(j,M,q,W):null;case R:return ht=q._init,q=ht(q._payload),F(j,M,q,W)}if(se(q)||B(q))return ht!==null?null:J(j,M,q,W,null);if(typeof q.then=="function")return F(j,M,gu(q),W);if(q.$$typeof===Q)return F(j,M,ru(j,q),W);yu(j,q)}return null}function G(j,M,q,W,ht){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(q)||null,T(M,j,""+W,ht);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return j=j.get(W.key===null?q:W.key)||null,x(M,j,W,ht);case U:return j=j.get(W.key===null?q:W.key)||null,H(M,j,W,ht);case R:var xt=W._init;return W=xt(W._payload),G(j,M,q,W,ht)}if(se(W)||B(W))return j=j.get(q)||null,J(M,j,W,ht,null);if(typeof W.then=="function")return G(j,M,q,gu(W),ht);if(W.$$typeof===Q)return G(j,M,q,ru(M,W),ht);yu(M,W)}return null}function Tt(j,M,q,W){for(var ht=null,xt=null,dt=M,_t=M=0,Ve=null;dt!==null&&_t<q.length;_t++){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var jt=F(j,dt,q[_t],W);if(jt===null){dt===null&&(dt=Ve);break}t&&dt&&jt.alternate===null&&n(j,dt),M=f(jt,M,_t),xt===null?ht=jt:xt.sibling=jt,xt=jt,dt=Ve}if(_t===q.length)return i(j,dt),zt&&sa(j,_t),ht;if(dt===null){for(;_t<q.length;_t++)dt=tt(j,q[_t],W),dt!==null&&(M=f(dt,M,_t),xt===null?ht=dt:xt.sibling=dt,xt=dt);return zt&&sa(j,_t),ht}for(dt=l(dt);_t<q.length;_t++)Ve=G(dt,j,_t,q[_t],W),Ve!==null&&(t&&Ve.alternate!==null&&dt.delete(Ve.key===null?_t:Ve.key),M=f(Ve,M,_t),xt===null?ht=Ve:xt.sibling=Ve,xt=Ve);return t&&dt.forEach(function(yi){return n(j,yi)}),zt&&sa(j,_t),ht}function vt(j,M,q,W){if(q==null)throw Error(s(151));for(var ht=null,xt=null,dt=M,_t=M=0,Ve=null,jt=q.next();dt!==null&&!jt.done;_t++,jt=q.next()){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var yi=F(j,dt,jt.value,W);if(yi===null){dt===null&&(dt=Ve);break}t&&dt&&yi.alternate===null&&n(j,dt),M=f(yi,M,_t),xt===null?ht=yi:xt.sibling=yi,xt=yi,dt=Ve}if(jt.done)return i(j,dt),zt&&sa(j,_t),ht;if(dt===null){for(;!jt.done;_t++,jt=q.next())jt=tt(j,jt.value,W),jt!==null&&(M=f(jt,M,_t),xt===null?ht=jt:xt.sibling=jt,xt=jt);return zt&&sa(j,_t),ht}for(dt=l(dt);!jt.done;_t++,jt=q.next())jt=G(dt,j,_t,jt.value,W),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?_t:jt.key),M=f(jt,M,_t),xt===null?ht=jt:xt.sibling=jt,xt=jt);return t&&dt.forEach(function(AT){return n(j,AT)}),zt&&sa(j,_t),ht}function Kt(j,M,q,W){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var ht=q.key;M!==null;){if(M.key===ht){if(ht=q.type,ht===P){if(M.tag===7){i(j,M.sibling),W=h(M,q.props.children),W.return=j,j=W;break t}}else if(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Mp(ht)===M.type){i(j,M.sibling),W=h(M,q.props),wl(W,q),W.return=j,j=W;break t}i(j,M);break}else n(j,M);M=M.sibling}q.type===P?(W=ia(q.props.children,j.mode,W,q.key),W.return=j,j=W):(W=Wo(q.type,q.key,q.props,null,j.mode,W),wl(W,q),W.return=j,j=W)}return _(j);case U:t:{for(ht=q.key;M!==null;){if(M.key===ht)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){i(j,M.sibling),W=h(M,q.children||[]),W.return=j,j=W;break t}else{i(j,M);break}else n(j,M);M=M.sibling}W=hh(q,j.mode,W),W.return=j,j=W}return _(j);case R:return ht=q._init,q=ht(q._payload),Kt(j,M,q,W)}if(se(q))return Tt(j,M,q,W);if(B(q)){if(ht=B(q),typeof ht!="function")throw Error(s(150));return q=ht.call(q),vt(j,M,q,W)}if(typeof q.then=="function")return Kt(j,M,gu(q),W);if(q.$$typeof===Q)return Kt(j,M,ru(j,q),W);yu(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(i(j,M.sibling),W=h(M,q),W.return=j,j=W):(i(j,M),W=ch(q,j.mode,W),W.return=j,j=W),_(j)):i(j,M)}return function(j,M,q,W){try{Rl=0;var ht=Kt(j,M,q,W);return rs=null,ht}catch(dt){if(dt===gl||dt===au)throw dt;var xt=cn(29,dt,null,j.mode);return xt.lanes=W,xt.return=j,xt}finally{}}}var is=Up(!0),Pp=Up(!1),wn=rt(null),Zn=null;function ni(t){var n=t.alternate;st(Re,Re.current&1),st(wn,t),Zn===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(Zn=t)}function Lp(t){if(t.tag===22){if(st(Re,Re.current),st(wn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else ri()}function ri(){st(Re,Re.current),st(wn,wn.current)}function Nr(t){ut(wn),Zn===t&&(Zn=null),ut(Re)}var Re=rt(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Mf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Fh(t,n,i,l){n=t.memoizedState,i=i(l,n),i=i==null?n:E({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Gh={enqueueSetState:function(t,n,i){t=t._reactInternals;var l=mn(),h=Wr(l);h.payload=n,i!=null&&(h.callback=i),n=ti(t,h,l),n!==null&&(pn(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var l=mn(),h=Wr(l);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=ti(t,h,l),n!==null&&(pn(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=mn(),l=Wr(i);l.tag=2,n!=null&&(l.callback=n),n=ti(t,l,i),n!==null&&(pn(n,t,i),vl(n,t,i))}};function jp(t,n,i,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!ol(i,l)||!ol(h,f):!0}function Bp(t,n,i,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==t&&Gh.enqueueReplaceState(n,n.state,null)}function da(t,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(t=t.defaultProps){i===n&&(i=E({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}var _u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zp(t){_u(t)}function kp(t){console.error(t)}function qp(t){_u(t)}function Eu(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hp(t,n,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yh(t,n,i){return i=Wr(i),i.tag=3,i.payload={element:null},i.callback=function(){Eu(t,n)},i}function Fp(t){return t=Wr(t),t.tag=3,t}function Gp(t,n,i,l){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Hp(n,i,l)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hp(n,i,l),typeof h!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function AE(t,n,i,l,h){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&dl(n,i,h,!0),i=wn.current,i!==null){switch(i.tag){case 13:return Zn===null?yf():i.alternate===null&&ue===0&&(ue=3),i.flags&=-257,i.flags|=65536,i.lanes=h,l===Th?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),_f(t,l,h)),!1;case 22:return i.flags|=65536,l===Th?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),_f(t,l,h)),!1}throw Error(s(435,i.tag))}return _f(t,l,h),yf(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mh&&(t=Error(s(422),{cause:l}),fl(Sn(t,i)))):(l!==mh&&(n=Error(s(423),{cause:l}),fl(Sn(n,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,i),h=Yh(t.stateNode,l,h),bh(t,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,i),Vl===null?Vl=[f]:Vl.push(f),ue!==4&&(ue=2),n===null)return!0;l=Sn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Yh(i.stateNode,l,t),bh(i,t),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ui===null||!ui.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Fp(h),Gp(h,t,i,l),bh(i,h),!1}i=i.return}while(i!==null);return!1}var Yp=Error(s(461)),Oe=!1;function Le(t,n,i,l){n.child=t===null?Pp(n,null,i,l):is(n,t.child,i,l)}function Qp(t,n,i,l,h){i=i.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ca(n),l=xh(t,n,i,_,f,h),T=Nh(),t!==null&&!Oe?(Oh(t,n,h),Or(t,n,h)):(zt&&T&&fh(n),n.flags|=1,Le(t,n,l,h),n.child)}function Xp(t,n,i,l,h){if(t===null){var f=i.type;return typeof f=="function"&&!uh(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Kp(t,n,f,l,h)):(t=Wo(i.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!tf(t,h)){var _=f.memoizedProps;if(i=i.compare,i=i!==null?i:ol,i(_,l)&&t.ref===n.ref)return Or(t,n,h)}return n.flags|=1,t=br(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kp(t,n,i,l,h){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,tf(t,h))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,Or(t,n,h)}return Qh(t,n,i,l,h)}function $p(t,n,i){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Zp(t,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,f!==null?f.cachePool:null),f!==null?Km(n,f):wh(),Lp(n);else return n.lanes=n.childLanes=536870912,Zp(t,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(iu(n,f.cachePool),Km(n,f),ri(),n.memoizedState=null):(t!==null&&iu(n,null),wh(),ri());return Le(t,n,h,i),n.child}function Zp(t,n,i,l){var h=Eh();return h=h===null?null:{parent:be._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},t!==null&&iu(n,null),wh(),Lp(n),t!==null&&dl(t,n,l,!0),null}function Tu(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function Qh(t,n,i,l,h){return ca(n),i=xh(t,n,i,l,void 0,h),l=Nh(),t!==null&&!Oe?(Oh(t,n,h),Or(t,n,h)):(zt&&l&&fh(n),n.flags|=1,Le(t,n,i,h),n.child)}function Jp(t,n,i,l,h,f){return ca(n),n.updateQueue=null,i=Zm(n,l,i,h),$m(t),l=Nh(),t!==null&&!Oe?(Oh(t,n,f),Or(t,n,f)):(zt&&l&&fh(n),n.flags|=1,Le(t,n,i,f),n.child)}function Wp(t,n,i,l,h){if(ca(n),n.stateNode===null){var f=Xa,_=i.contextType;typeof _=="object"&&_!==null&&(f=Ye(_)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sh(n),_=i.contextType,f.context=typeof _=="object"&&_!==null?Ye(_):Xa,f.state=n.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Fh(n,i,_,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Gh.enqueueReplaceState(f,f.state,null),El(n,l,f,h),_l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,x=da(i,T);f.props=x;var H=f.context,J=i.contextType;_=Xa,typeof J=="object"&&J!==null&&(_=Ye(J));var tt=i.getDerivedStateFromProps;J=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==_)&&Bp(n,f,l,_),Jr=!1;var F=n.memoizedState;f.state=F,El(n,l,f,h),_l(),H=n.memoizedState,T||F!==H||Jr?(typeof tt=="function"&&(Fh(n,i,tt,l),H=n.memoizedState),(x=Jr||jp(n,i,x,l,F,H,_))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=_,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ah(t,n),_=n.memoizedProps,J=da(i,_),f.props=J,tt=n.pendingProps,F=f.context,H=i.contextType,x=Xa,typeof H=="object"&&H!==null&&(x=Ye(H)),T=i.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==tt||F!==x)&&Bp(n,f,l,x),Jr=!1,F=n.memoizedState,f.state=F,El(n,l,f,h),_l();var G=n.memoizedState;_!==tt||F!==G||Jr||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof T=="function"&&(Fh(n,i,T,l),G=n.memoizedState),(J=Jr||jp(n,i,J,l,F,G,x)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=x,l=J):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Tu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=is(n,t.child,null,h),n.child=is(n,null,i,h)):Le(t,n,i,h),n.memoizedState=f.state,t=n.child):t=Or(t,n,h),t}function tg(t,n,i,l){return hl(),n.flags|=256,Le(t,n,i,l),n.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(t){return{baseLanes:t,cachePool:km()}}function $h(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Cn),t}function eg(t,n,i){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(h?ni(n):ri(),zt){var T=oe,x;if(x=T){t:{for(x=T,T=$n;x.nodeType!==8;){if(!T){T=null;break t}if(x=Pn(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(n.memoizedState={dehydrated:T,treeContext:aa!==null?{id:Rr,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},x=cn(18,null,null,0),x.stateNode=T,x.return=n,n.child=x,en=n,oe=null,x=!0):x=!1}x||oa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Mf(T)?n.lanes=32:n.lanes=536870912,null;Nr(n)}return T=l.children,l=l.fallback,h?(ri(),h=n.mode,T=Su({mode:"hidden",children:T},h),l=ia(l,h,i,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Kh(i),h.childLanes=$h(t,_,i),n.memoizedState=Xh,l):(ni(n),Zh(n,T))}if(x=t.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(ni(n),n.flags&=-257,n=Jh(t,n,i)):n.memoizedState!==null?(ri(),n.child=t.child,n.flags|=128,n=null):(ri(),h=l.fallback,T=n.mode,l=Su({mode:"visible",children:l.children},T),h=ia(h,T,i,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,is(n,t.child,null,i),l=n.child,l.memoizedState=Kh(i),l.childLanes=$h(t,_,i),n.memoizedState=Xh,n=h);else if(ni(n),Mf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),n=Jh(t,n,i)}else if(Oe||dl(t,n,i,!1),_=(i&t.childLanes)!==0,Oe||_){if(_=Jt,_!==null&&(l=i&-i,l=(l&42)!==0?1:Fr(l),l=(l&(_.suspendedLanes|i))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Qa(t,l),pn(_,t,l),Yp;T.data==="$?"||yf(),n=Jh(t,n,i)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,oe=Pn(T.nextSibling),en=n,zt=!0,la=null,$n=!1,t!==null&&(bn[Rn++]=Rr,bn[Rn++]=wr,bn[Rn++]=aa,Rr=t.id,wr=t.overflow,aa=n),n=Zh(n,l.children),n.flags|=4096);return n}return h?(ri(),h=l.fallback,T=n.mode,x=t.child,H=x.sibling,l=br(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?h=br(H,h):(h=ia(h,T,i,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Kh(i):(x=T.cachePool,x!==null?(H=be._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=km(),T={baseLanes:T.baseLanes|i,cachePool:x}),h.memoizedState=T,h.childLanes=$h(t,_,i),n.memoizedState=Xh,l):(ni(n),i=t.child,t=i.sibling,i=br(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=i,n.memoizedState=null,i)}function Zh(t,n){return n=Su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Su(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jh(t,n,i){return is(n,t.child,null,i),t=Zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ng(t,n,i){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),gh(t.return,n,i)}function Wh(t,n,i,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=h)}function rg(t,n,i){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(t,n,l.children,i),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ng(t,i,n);else if(t.tag===19)ng(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(st(Re,l),h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&vu(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Wh(n,!1,h,i,f);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Wh(n,!0,i,null,f);break;case"together":Wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Or(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),oi|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(dl(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,i=br(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=br(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function bE(t,n,i){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Zr(n,be,t.memoizedState.cache),hl();break;case 27:case 5:Hr(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Zr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ni(n),n.flags|=128,null):(i&n.child.childLanes)!==0?eg(t,n,i):(ni(n),t=Or(t,n,i),t!==null?t.sibling:null);ni(n);break;case 19:var h=(t.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(dl(t,n,i,!1),l=(i&n.childLanes)!==0),h){if(l)return rg(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,$p(t,n,i);case 24:Zr(n,be,t.memoizedState.cache)}return Or(t,n,i)}function ig(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!tf(t,i)&&(n.flags&128)===0)return Oe=!1,bE(t,n,i);Oe=(t.flags&131072)!==0}else Oe=!1,zt&&(n.flags&1048576)!==0&&Mm(n,eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")uh(l)?(t=da(l,t),n.tag=1,n=Wp(null,n,l,t,i)):(n.tag=0,n=Qh(null,n,l,t,i));else{if(l!=null){if(h=l.$$typeof,h===nt){n.tag=11,n=Qp(null,n,l,t,i);break t}else if(h===O){n.tag=14,n=Xp(null,n,l,t,i);break t}}throw n=Ee(l)||l,Error(s(306,n,""))}}return n;case 0:return Qh(t,n,n.type,n.pendingProps,i);case 1:return l=n.type,h=da(l,n.pendingProps),Wp(t,n,l,h,i);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Ah(t,n),El(n,l,null,i);var _=n.memoizedState;if(l=_.cache,Zr(n,be,l),l!==f.cache&&yh(n,[be],i,!0),_l(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tg(t,n,l,i);break t}else if(l!==h){h=Sn(Error(s(424)),n),fl(h),n=tg(t,n,l,i);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Pn(t.firstChild),en=n,zt=!0,la=null,$n=!0,i=Pp(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(hl(),l===h){n=Or(t,n,i);break t}Le(t,n,l,i)}n=n.child}return n;case 26:return Tu(t,n),t===null?(i=oy(n.type,null,n.pendingProps,null))?n.memoizedState=i:zt||(i=n.type,t=n.pendingProps,l=Pu(St.current).createElement(i),l[Te]=n,l[me]=t,Be(l,i,t),ce(l),n.stateNode=l):n.memoizedState=oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hr(n),t===null&&zt&&(l=n.stateNode=ay(n.type,n.pendingProps,St.current),en=n,$n=!0,h=oe,fi(n.type)?(Uf=h,oe=Pn(l.firstChild)):oe=h),Le(t,n,n.pendingProps.children,i),Tu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((h=l=oe)&&(l=JE(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,en=n,oe=Pn(l.firstChild),$n=!1,h=!0):h=!1),h||oa(n)),Hr(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Of(h,f)?l=null:_!==null&&Of(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=xh(t,n,gE,null,null,i),ql._currentValue=h),Tu(t,n),Le(t,n,l,i),n.child;case 6:return t===null&&zt&&((t=i=oe)&&(i=WE(i,n.pendingProps,$n),i!==null?(n.stateNode=i,en=n,oe=null,t=!0):t=!1),t||oa(n)),null;case 13:return eg(t,n,i);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=is(n,null,l,i):Le(t,n,l,i),n.child;case 11:return Qp(t,n,n.type,n.pendingProps,i);case 7:return Le(t,n,n.pendingProps,i),n.child;case 8:return Le(t,n,n.pendingProps.children,i),n.child;case 12:return Le(t,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Zr(n,n.type,l.value),Le(t,n,l.children,i),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ca(n),h=Ye(h),l=l(h),n.flags|=1,Le(t,n,l,i),n.child;case 14:return Xp(t,n,n.type,n.pendingProps,i);case 15:return Kp(t,n,n.type,n.pendingProps,i);case 19:return rg(t,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},t===null?(i=Su(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=br(t.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return $p(t,n,i);case 24:return ca(n),l=Ye(be),t===null?(h=Eh(),h===null&&(h=Jt,f=vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),n.memoizedState={parent:l,cache:h},Sh(n),Zr(n,be,h)):((t.lanes&i)!==0&&(Ah(t,n),El(n,null,null,i),_l()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zr(n,be,l)):(l=f.cache,Zr(n,be,l),l!==h.cache&&yh(n,[be],i,!0))),Le(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ir(t){t.flags|=4}function ag(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dy(n)){if(n=wn.current,n!==null&&((Ut&4194048)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw yl=Th,qm;t.flags|=8192}}function Au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fs():536870912,t.lanes|=n,os|=n)}function Cl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=i,n}function RE(t,n,i){var l=n.pendingProps;switch(dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return i=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Dr(be),jn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(cl(n)?Ir(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lm())),re(n),null;case 26:return i=n.memoizedState,t===null?(Ir(n),i!==null?(re(n),ag(n,i)):(re(n),n.flags&=-16777217)):i?i!==t.memoizedState?(Ir(n),re(n),ag(n,i)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ir(n),re(n),n.flags&=-16777217),null;case 27:hr(n),i=St.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ir(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=pt.current,cl(n)?Um(n):(t=ay(h,l,i),n.stateNode=t,Ir(n))}return re(n),null;case 5:if(hr(n),i=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ir(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=pt.current,cl(n))Um(n);else{switch(h=Pu(St.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(i,{is:l.is}):h.createElement(i)}}t[Te]=n,t[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Be(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ir(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ir(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,cl(n)){if(t=n.stateNode,i=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Te]=n,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Jg(t.nodeValue,i)),t||oa(n)}else t=Pu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=Lm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nr(n),n):(Nr(n),null)}if(Nr(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return i!==t&&i&&(n.child.flags|=8192),Au(n,n.updateQueue),re(n),null;case 4:return jn(),t===null&&wf(n.stateNode.containerInfo),re(n),null;case 10:return Dr(n.type),re(n),null;case 19:if(ut(Re),h=n.memoizedState,h===null)return re(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Cl(h,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=vu(t),f!==null){for(n.flags|=128,Cl(h,!1),t=f.updateQueue,n.updateQueue=t,Au(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)Vm(i,t),i=i.sibling;return st(Re,Re.current&1|2),n.child}t=t.sibling}h.tail!==null&&gn()>wu&&(n.flags|=128,l=!0,Cl(h,!1),n.lanes=4194304)}else{if(!l)if(t=vu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Au(n,t),Cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return re(n),null}else 2*gn()-h.renderingStartTime>wu&&i!==536870912&&(n.flags|=128,l=!0,Cl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,t=Re.current,st(Re,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Nr(n),Ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),i=n.updateQueue,i!==null&&Au(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),t!==null&&ut(ha),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Dr(be),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function wE(t,n){switch(dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Dr(be),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hr(n),null;case 13:if(Nr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ut(Re),null;case 4:return jn(),null;case 10:return Dr(n.type),null;case 22:case 23:return Nr(n),Ch(),t!==null&&ut(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Dr(be),null;case 25:return null;default:return null}}function sg(t,n){switch(dh(n),n.tag){case 3:Dr(be),jn();break;case 26:case 27:case 5:hr(n);break;case 4:jn();break;case 13:Nr(n);break;case 19:ut(Re);break;case 10:Dr(n.type);break;case 22:case 23:Nr(n),Ch(),t!==null&&ut(ha);break;case 24:Dr(be)}}function Dl(t,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var h=l.next;i=h;do{if((i.tag&t)===t){l=void 0;var f=i.create,_=i.inst;l=f(),_.destroy=l}i=i.next}while(i!==h)}}catch(T){$t(n,n.return,T)}}function ii(t,n,i){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var x=i,H=T;try{H()}catch(J){$t(h,x,J)}}}l=l.next}while(l!==f)}}catch(J){$t(n,n.return,J)}}function lg(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{Xm(n,i)}catch(l){$t(t,t.return,l)}}}function og(t,n,i){i.props=da(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){$t(t,n,l)}}function xl(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(h){$t(t,n,h)}}function Jn(t,n){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){$t(t,n,h)}else i.current=null}function ug(t){var n=t.type,i=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break t;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(h){$t(t,t.return,h)}}function ef(t,n,i){try{var l=t.stateNode;QE(l,t.type,i,n),l[me]=n}catch(h){$t(t,t.return,h)}}function cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fi(t.type)||t.tag===4}function nf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Uu));else if(l!==4&&(l===27&&fi(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(rf(t,n,i),t=t.sibling;t!==null;)rf(t,n,i),t=t.sibling}function bu(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(l!==4&&(l===27&&fi(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(bu(t,n,i),t=t.sibling;t!==null;)bu(t,n,i),t=t.sibling}function hg(t){var n=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,l,i),n[Te]=t,n[me]=i}catch(f){$t(t,t.return,f)}}var Vr=!1,fe=!1,af=!1,fg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function CE(t,n){if(t=t.containerInfo,xf=qu,t=Am(t),nh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var _=0,T=-1,x=-1,H=0,J=0,tt=t,F=null;e:for(;;){for(var G;tt!==i||h!==0&&tt.nodeType!==3||(T=_+h),tt!==f||l!==0&&tt.nodeType!==3||(x=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(G=tt.firstChild)!==null;)F=tt,tt=G;for(;;){if(tt===t)break e;if(F===i&&++H===h&&(T=_),F===f&&++J===l&&(x=_),(G=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=G}i=T===-1||x===-1?null:{start:T,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Nf={focusedElem:t,selectionRange:i},qu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=n,h=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var Tt=da(i.type,h,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){$t(i,i.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)Vf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function dg(t,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i),l&4&&Dl(5,i);break;case 1:if(ai(t,i),l&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(_){$t(i,i.return,_)}else{var h=da(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(i,i.return,_)}}l&64&&lg(i),l&512&&xl(i,i.return);break;case 3:if(ai(t,i),l&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Xm(t,n)}catch(_){$t(i,i.return,_)}}break;case 27:n===null&&l&4&&hg(i);case 26:case 5:ai(t,i),n===null&&l&4&&ug(i),l&512&&xl(i,i.return);break;case 12:ai(t,i);break;case 13:ai(t,i),l&4&&gg(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=PE.bind(null,i),tT(t,i))));break;case 22:if(l=i.memoizedState!==null||Vr,!l){n=n!==null&&n.memoizedState!==null||fe,h=Vr;var f=fe;Vr=l,(fe=n)&&!f?si(t,i,(i.subtreeFlags&8772)!==0):ai(t,i),Vr=h,fe=f}break;case 30:break;default:ai(t,i)}}function mg(t){var n=t.alternate;n!==null&&(t.alternate=null,mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,rn=!1;function Mr(t,n,i){for(i=i.child;i!==null;)pg(t,n,i),i=i.sibling}function pg(t,n,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,i)}catch{}switch(i.tag){case 26:fe||Jn(i,n),Mr(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:fe||Jn(i,n);var l=ne,h=rn;fi(i.type)&&(ne=i.stateNode,rn=!1),Mr(t,n,i),jl(i.stateNode),ne=l,rn=h;break;case 5:fe||Jn(i,n);case 6:if(l=ne,h=rn,ne=null,Mr(t,n,i),ne=l,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(i.stateNode)}catch(f){$t(i,n,f)}else try{ne.removeChild(i.stateNode)}catch(f){$t(i,n,f)}break;case 18:ne!==null&&(rn?(t=ne,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Yl(t)):ry(ne,i.stateNode));break;case 4:l=ne,h=rn,ne=i.stateNode.containerInfo,rn=!0,Mr(t,n,i),ne=l,rn=h;break;case 0:case 11:case 14:case 15:fe||ii(2,i,n),fe||ii(4,i,n),Mr(t,n,i);break;case 1:fe||(Jn(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&og(i,n,l)),Mr(t,n,i);break;case 21:Mr(t,n,i);break;case 22:fe=(l=fe)||i.memoizedState!==null,Mr(t,n,i),fe=l;break;default:Mr(t,n,i)}}function gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yl(t)}catch(i){$t(n,n.return,i)}}function DE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fg),n;default:throw Error(s(435,t.tag))}}function sf(t,n){var i=DE(t);n.forEach(function(l){var h=LE.bind(null,t,l);i.has(l)||(i.add(l),l.then(h,h))})}function hn(t,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(fi(T.type)){ne=T.stateNode,rn=!1;break t}break;case 5:ne=T.stateNode,rn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));pg(f,_,h),ne=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)yg(n,t),n=n.sibling}var Un=null;function yg(t,n){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(ii(3,t,t.return),Dl(3,t),ii(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(fe||i===null||Jn(i,i.return)),l&64&&Vr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var h=Un;if(hn(n,t),fn(t),l&512&&(fe||i===null||Jn(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){t:{l=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[qi]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Be(f,l,i),f[Te]=t,ce(f),l=f;break t;case"link":var _=hy("link","href",h).get(l+(i.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),Be(f,l,i),h.head.appendChild(f);break;case"meta":if(_=hy("meta","content",h).get(l+(i.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(T,1);break e}}f=h.createElement(l),Be(f,l,i),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,ce(f),l=f}t.stateNode=l}else fy(h,t.type,t.stateNode);else t.stateNode=cy(h,l,t.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?fy(h,t.type,t.stateNode):cy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ef(t,t.memoizedProps,i.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(fe||i===null||Jn(i,i.return)),i!==null&&l&4&&ef(t,t.memoizedProps,i.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(fe||i===null||Jn(i,i.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(G){$t(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ef(t,h,i!==null?i.memoizedProps:h)),l&1024&&(af=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(G){$t(t,t.return,G)}}break;case 3:if(Bu=null,h=Un,Un=Lu(n.containerInfo),hn(n,t),Un=h,fn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Yl(n.containerInfo)}catch(G){$t(t,t.return,G)}af&&(af=!1,vg(t));break;case 4:l=Un,Un=Lu(t.stateNode.containerInfo),hn(n,t),fn(t),Un=l;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ff=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sf(t,l)));break;case 22:h=t.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,H=Vr,J=fe;if(Vr=H||h,fe=J||x,hn(n,t),fe=J,Vr=H,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||x||Vr||fe||ma(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){x=i=n;try{if(f=x.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var tt=x.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){$t(x,x.return,G)}}}else if(n.tag===6){if(i===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(G){$t(x,x.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,sf(t,i))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sf(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var i,l=t.return;l!==null;){if(cg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,f=nf(t);bu(t,f,h);break;case 5:var _=i.stateNode;i.flags&32&&(vn(_,""),i.flags&=-33);var T=nf(t);bu(t,T,_);break;case 3:case 4:var x=i.stateNode.containerInfo,H=nf(t);rf(t,H,x);break;default:throw Error(s(161))}}catch(J){$t(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ai(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(t,n.alternate,n),n=n.sibling}function ma(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),ma(n);break;case 1:Jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&og(n,n.return,i),ma(n);break;case 27:jl(n.stateNode);case 26:case 5:Jn(n,n.return),ma(n);break;case 22:n.memoizedState===null&&ma(n);break;case 30:ma(n);break;default:ma(n)}t=t.sibling}}function si(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:si(h,f,i),Dl(4,f);break;case 1:if(si(h,f,i),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Qm(x[h],T)}catch(H){$t(l,l.return,H)}}i&&_&64&&lg(f),xl(f,f.return);break;case 27:hg(f);case 26:case 5:si(h,f,i),i&&l===null&&_&4&&ug(f),xl(f,f.return);break;case 12:si(h,f,i);break;case 13:si(h,f,i),i&&_&4&&gg(h,f);break;case 22:f.memoizedState===null&&si(h,f,i),xl(f,f.return);break;case 30:break;default:si(h,f,i)}n=n.sibling}}function lf(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ml(i))}function of(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Wn(t,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_g(t,n,i,l),n=n.sibling}function _g(t,n,i,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,i,l),h&2048&&Dl(9,n);break;case 1:Wn(t,n,i,l);break;case 3:Wn(t,n,i,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){Wn(t,n,i,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else Wn(t,n,i,l);break;case 13:Wn(t,n,i,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,i,l):Nl(t,n):f._visibility&2?Wn(t,n,i,l):(f._visibility|=2,as(t,n,i,l,(n.subtreeFlags&10256)!==0)),h&2048&&lf(_,n);break;case 24:Wn(t,n,i,l),h&2048&&of(n.alternate,n);break;default:Wn(t,n,i,l)}}function as(t,n,i,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,T=i,x=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:as(f,_,T,x,h),Dl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?as(f,_,T,x,h):Nl(f,_):(J._visibility|=2,as(f,_,T,x,h)),h&&H&2048&&lf(_.alternate,_);break;case 24:as(f,_,T,x,h),h&&H&2048&&of(_.alternate,_);break;default:as(f,_,T,x,h)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,l=n,h=l.flags;switch(l.tag){case 22:Nl(i,l),h&2048&&lf(l.alternate,l);break;case 24:Nl(i,l),h&2048&&of(l.alternate,l);break;default:Nl(i,l)}n=n.sibling}}var Ol=8192;function ss(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 26:ss(t),t.flags&Ol&&t.memoizedState!==null&&dT(Un,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=Un;Un=Lu(t.stateNode.containerInfo),ss(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ol,Ol=16777216,ss(t),Ol=n):ss(t));break;default:ss(t)}}function Tg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Ie=l,Ag(l,t)}Tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&ii(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ru(t)):Il(t);break;default:Il(t)}}function Ru(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Ie=l,Ag(l,t)}Tg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ii(8,n,n.return),Ru(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Ru(n));break;default:Ru(n)}t=t.sibling}}function Ag(t,n){for(;Ie!==null;){var i=Ie;switch(i.tag){case 0:case 11:case 15:ii(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Ie=l;else t:for(i=t;Ie!==null;){l=Ie;var h=l.sibling,f=l.return;if(mg(l),l===i){Ie=null;break t}if(h!==null){h.return=f,Ie=h;break t}Ie=f}}}var xE={getCacheForType:function(t){var n=Ye(be),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i}},NE=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,Nt=null,Ut=0,Gt=0,dn=null,li=!1,ls=!1,uf=!1,Ur=0,ue=0,oi=0,pa=0,cf=0,Cn=0,os=0,Vl=null,an=null,hf=!1,ff=0,wu=1/0,Cu=null,ui=null,je=0,ci=null,us=null,cs=0,df=0,mf=null,bg=null,Ml=0,pf=null;function mn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(Z.T!==null){var t=Za;return t!==0?t:Sf()}return Gr()}function Rg(){Cn===0&&(Cn=(Ut&536870912)===0||zt?Hs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function pn(t,n,i){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(hs(t,0),hi(t,Ut,Cn,!1)),dr(t,i),((Ft&2)===0||t!==Jt)&&(t===Jt&&((Ft&2)===0&&(pa|=i),ue===4&&hi(t,Ut,Cn,!1)),tr(t))}function wg(t,n,i){if((Ft&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&t.expiredLanes)===0||ki(t,n),h=l?VE(t,n):vf(t,n,!0),f=l;do{if(h===0){ls&&!l&&hi(t,n,0,!1);break}else{if(i=t.current.alternate,f&&!OE(i)){h=vf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Vl;var x=T.current.memoizedState.isDehydrated;if(x&&(hs(T,_).flags|=256),_=vf(T,_,!1),_!==2){if(uf&&!x){T.errorRecoveryDisabledLanes|=f,pa|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){hs(t,0),hi(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:hi(l,n,Cn,!li);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ff+300-gn(),10<h)){if(hi(l,n,Cn,!li),Da(l,0,!0)!==0)break t;l.timeoutHandle=ey(Cg.bind(null,l,i,an,Cu,hf,n,Cn,pa,os,li,f,2,-0,0),h);break t}Cg(l,i,an,Cu,hf,n,Cn,pa,os,li,f,0,-0,0)}}break}while(!0);tr(t)}function Cg(t,n,i,l,h,f,_,T,x,H,J,tt,F,G){if(t.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:fT},Eg(n),tt=mT(),tt!==null)){t.cancelPendingCommit=tt(Mg.bind(null,t,n,f,i,l,h,_,T,x,J,1,F,G)),hi(t,f,_,!H);return}Mg(t,n,f,i,l,h,_,T,x)}function OE(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var h=i[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hi(t,n,i,l){n&=~cf,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ge(h),_=1<<f;l[f]=-1,h&=~_}i!==0&&Bn(t,i,n)}function Du(){return(Ft&6)===0?(Ul(0),!1):!0}function gf(){if(Nt!==null){if(Gt===0)var t=Nt.return;else t=Nt,Cr=ua=null,Ih(t),rs=null,Rl=0,t=Nt;for(;t!==null;)sg(t.alternate,t),t=t.return;Nt=null}}function hs(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,KE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),gf(),Jt=t,Nt=i=br(t.current,null),Ut=n,Gt=0,dn=null,li=!1,ls=ki(t,n),uf=!1,os=Cn=cf=pa=oi=ue=0,an=Vl=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ge(l),f=1<<h;n|=t[h],l&=~f}return Ur=n,$o(),i}function Dg(t,n){wt=null,Z.H=pu,n===gl||n===au?(n=Gm(),Gt=3):n===qm?(n=Gm(),Gt=4):Gt=n===Yp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Nt===null&&(ue=1,Eu(t,Sn(n,t.current)))}function xg(){var t=Z.H;return Z.H=pu,t===null?pu:t}function Ng(){var t=Z.A;return Z.A=xE,t}function yf(){ue=4,li||(Ut&4194048)!==Ut&&wn.current!==null||(ls=!0),(oi&134217727)===0&&(pa&134217727)===0||Jt===null||hi(Jt,Ut,Cn,!1)}function vf(t,n,i){var l=Ft;Ft|=2;var h=xg(),f=Ng();(Jt!==t||Ut!==n)&&(Cu=null,hs(t,n)),n=!1;var _=ue;t:do try{if(Gt!==0&&Nt!==null){var T=Nt,x=dn;switch(Gt){case 8:gf(),_=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var H=Gt;if(Gt=0,dn=null,fs(t,T,x,H),i&&ls){_=0;break t}break;default:H=Gt,Gt=0,dn=null,fs(t,T,x,H)}}IE(),_=ue;break}catch(J){Dg(t,J)}while(!0);return n&&t.shellSuspendCounter++,Cr=ua=null,Ft=l,Z.H=h,Z.A=f,Nt===null&&(Jt=null,Ut=0,$o()),_}function IE(){for(;Nt!==null;)Og(Nt)}function VE(t,n){var i=Ft;Ft|=2;var l=xg(),h=Ng();Jt!==t||Ut!==n?(Cu=null,wu=gn()+500,hs(t,n)):ls=ki(t,n);t:do try{if(Gt!==0&&Nt!==null){n=Nt;var f=dn;e:switch(Gt){case 1:Gt=0,dn=null,fs(t,n,f,1);break;case 2:case 9:if(Hm(f)){Gt=0,dn=null,Ig(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),tr(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Hm(f)?(Gt=0,dn=null,Ig(n)):(Gt=0,dn=null,fs(t,n,f,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var T=Nt;if(!_||dy(_)){Gt=0,dn=null;var x=T.sibling;if(x!==null)Nt=x;else{var H=T.return;H!==null?(Nt=H,xu(H)):Nt=null}break e}}Gt=0,dn=null,fs(t,n,f,5);break;case 6:Gt=0,dn=null,fs(t,n,f,6);break;case 8:gf(),ue=6;break t;default:throw Error(s(462))}}ME();break}catch(J){Dg(t,J)}while(!0);return Cr=ua=null,Z.H=l,Z.A=h,Ft=i,Nt!==null?0:(Jt=null,Ut=0,$o(),ue)}function ME(){for(;Nt!==null&&!Bs();)Og(Nt)}function Og(t){var n=ig(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,n===null?xu(t):Nt=n}function Ig(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=Jp(i,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Jp(i,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ih(n);default:sg(i,n),n=Nt=Vm(n,Ur),n=ig(i,n,Ur)}t.memoizedProps=t.pendingProps,n===null?xu(t):Nt=n}function fs(t,n,i,l){Cr=ua=null,Ih(n),rs=null,Rl=0;var h=n.return;try{if(AE(t,h,n,i,Ut)){ue=1,Eu(t,Sn(i,t.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ue=1,Eu(t,Sn(i,t.current)),Nt=null;return}n.flags&32768?(zt||l===1?t=!0:ls||(Ut&536870912)!==0?t=!1:(li=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vg(n,t)):xu(n)}function xu(t){var n=t;do{if((n.flags&32768)!==0){Vg(n,li);return}t=n.return;var i=RE(n.alternate,n,Ur);if(i!==null){Nt=i;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ue===0&&(ue=5)}function Vg(t,n){do{var i=wE(t.alternate,t);if(i!==null){i.flags&=32767,Nt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=i}while(t!==null);ue=6,Nt=null}function Mg(t,n,i,l,h,f,_,T,x){t.cancelPendingCommit=null;do Nu();while(je!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=lh,Gs(t,i,f,_,T,x),t===Jt&&(Nt=Jt=null,Ut=0),us=n,ci=t,cs=i,df=f,mf=h,bg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(Li,function(){return Bg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=ot.p,ot.p=2,_=Ft,Ft|=4;try{CE(t,n,i)}finally{Ft=_,ot.p=h,Z.T=l}}je=1,Ug(),Pg(),Lg()}}function Ug(){if(je===1){je=0;var t=ci,n=us,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=Z.T,Z.T=null;var l=ot.p;ot.p=2;var h=Ft;Ft|=4;try{yg(n,t);var f=Nf,_=Am(t.containerInfo),T=f.focusedElem,x=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sm(T.ownerDocument.documentElement,T)){if(x!==null&&nh(T)){var H=x.start,J=x.end;if(J===void 0&&(J=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(J,T.value.length);else{var tt=T.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var G=F.getSelection(),Tt=T.textContent.length,vt=Math.min(x.start,Tt),Kt=x.end===void 0?vt:Math.min(x.end,Tt);!G.extend&&vt>Kt&&(_=Kt,Kt=vt,vt=_);var j=Tm(T,vt),M=Tm(T,Kt);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var q=tt.createRange();q.setStart(j.node,j.offset),G.removeAllRanges(),vt>Kt?(G.addRange(q),G.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),G.addRange(q))}}}}for(tt=[],G=T;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var W=tt[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qu=!!xf,Nf=xf=null}finally{Ft=h,ot.p=l,Z.T=i}}t.current=n,je=2}}function Pg(){if(je===2){je=0;var t=ci,n=us,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=Z.T,Z.T=null;var l=ot.p;ot.p=2;var h=Ft;Ft|=4;try{dg(t,n.alternate,n)}finally{Ft=h,ot.p=l,Z.T=i}}je=3}}function Lg(){if(je===4||je===3){je=0,Ro();var t=ci,n=us,i=cs,l=bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,us=ci=null,jg(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ui=null),xa(i),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Z.T,h=ot.p,ot.p=2,Z.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{Z.T=n,ot.p=h}}(cs&3)!==0&&Nu(),tr(t),h=t.pendingLanes,(i&4194090)!==0&&(h&42)!==0?t===pf?Ml++:(Ml=0,pf=t):Ml=0,Ul(0)}}function jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Nu(t){return Ug(),Pg(),Lg(),Bg()}function Bg(){if(je!==5)return!1;var t=ci,n=df;df=0;var i=xa(cs),l=Z.T,h=ot.p;try{ot.p=32>i?32:i,Z.T=null,i=mf,mf=null;var f=ci,_=cs;if(je=0,us=ci=null,cs=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Sg(f.current),_g(f,f.current,_,i),Ft=T,Ul(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{ot.p=h,Z.T=l,jg(t,n)}}function zg(t,n,i){n=Sn(i,n),n=Yh(t.stateNode,n,2),t=ti(t,n,2),t!==null&&(dr(t,2),tr(t))}function $t(t,n,i){if(t.tag===3)zg(t,t,i);else for(;n!==null;){if(n.tag===3){zg(n,t,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ui===null||!ui.has(l))){t=Sn(i,t),i=Fp(2),l=ti(n,i,2),l!==null&&(Gp(i,l,n,t),dr(l,2),tr(l));break}}n=n.return}}function _f(t,n,i){var l=t.pingCache;if(l===null){l=t.pingCache=new NE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(i)||(uf=!0,h.add(i),t=UE.bind(null,t,n,i),n.then(t,t))}function UE(t,n,i){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Jt===t&&(Ut&i)===i&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>gn()-ff?(Ft&2)===0&&hs(t,0):cf|=i,os===Ut&&(os=0)),tr(t)}function kg(t,n){n===0&&(n=Fs()),t=Qa(t,n),t!==null&&(dr(t,n),tr(t))}function PE(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),kg(t,i)}function LE(t,n){var i=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kg(t,i)}function jE(t,n){return Ui(t,n)}var Ou=null,ds=null,Ef=!1,Iu=!1,Tf=!1,ga=0;function tr(t){t!==ds&&t.next===null&&(ds===null?Ou=ds=t:ds=ds.next=t),Iu=!0,Ef||(Ef=!0,zE())}function Ul(t,n){if(!Tf&&Iu){Tf=!0;do for(var i=!1,l=Ou;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Gg(l,f))}else f=Ut,f=Da(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ki(l,f)||(i=!0,Gg(l,f));l=l.next}while(i);Tf=!1}}function BE(){qg()}function qg(){Iu=Ef=!1;var t=0;ga!==0&&(XE()&&(t=ga),ga=0);for(var n=gn(),i=null,l=Ou;l!==null;){var h=l.next,f=Hg(l,n);f===0?(l.next=null,i===null?Ou=h:i.next=h,h===null&&(ds=i)):(i=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=h}Ul(t)}function Hg(t,n){for(var i=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ge(f),T=1<<_,x=h[_];x===-1?((T&i)===0||(T&l)!==0)&&(h[_]=qs(T,n)):x<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,i=Ut,i=Da(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pi(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||ki(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(l!==null&&Pi(l),xa(i)){case 2:case 8:i=wa;break;case 32:i=Li;break;case 268435456:i=Ca;break;default:i=Li}return l=Fg.bind(null,t),i=Ui(i,l),t.callbackPriority=n,t.callbackNode=i,n}return l!==null&&l!==null&&Pi(l),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Nu()&&t.callbackNode!==i)return null;var l=Ut;return l=Da(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wg(t,l,n),Hg(t,gn()),t.callbackNode!=null&&t.callbackNode===i?Fg.bind(null,t):null)}function Gg(t,n){if(Nu())return null;wg(t,n,!0)}function zE(){$E(function(){(Ft&6)!==0?Ui(zs,BE):qg()})}function Sf(){return ga===0&&(ga=Hs()),ga}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ua(""+t)}function Qg(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function kE(t,n,i,l,h){if(n==="submit"&&i&&i.stateNode===h){var f=Yg((h[me]||null).action),_=l.submitter;_&&(n=(n=_[me]||null)?Yg(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Pa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var x=_?Qg(h,_):new FormData(h);kh(i,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=_?Qg(h,_):new FormData(h),kh(i,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var Af=0;Af<sh.length;Af++){var bf=sh[Af],qE=bf.toLowerCase(),HE=bf[0].toUpperCase()+bf.slice(1);Mn(qE,"on"+HE)}Mn(wm,"onAnimationEnd"),Mn(Cm,"onAnimationIteration"),Mn(Dm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(sE,"onTransitionRun"),Mn(lE,"onTransitionStart"),Mn(oE,"onTransitionCancel"),Mn(xm,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Xg(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,H=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(J){_u(J)}h.currentTarget=null,f=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,H=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(J){_u(J)}h.currentTarget=null,f=x}}}}function Ot(t,n){var i=n[Qs];i===void 0&&(i=n[Qs]=new Set);var l=t+"__bubble";i.has(l)||(Kg(n,t,2,!1),i.add(l))}function Rf(t,n,i){var l=0;n&&(l|=4),Kg(i,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[Vu]){t[Vu]=!0,Xs.forEach(function(i){i!=="selectionchange"&&(FE.has(i)||Rf(i,!1,t),Rf(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,Rf("selectionchange",!1,n))}}function Kg(t,n,i,l){switch(_y(n)){case 2:var h=yT;break;case 8:h=vT;break;default:h=zf}i=h.bind(null,n,i,t),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function Cf(t,n,i,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mr(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=f=_;continue t}T=T.parentNode}}l=l.return}Uo(function(){var H=f,J=_n(i),tt=[];t:{var F=Nm.get(t);if(F!==void 0){var G=Pa,Tt=t;switch(t){case"keypress":if(Gn(i)===0)break t;case"keydown":case"keyup":G=qa;break;case"focusin":Tt="focus",G=Ba;break;case"focusout":Tt="blur",G=Ba;break;case"beforeblur":case"afterblur":G=Ba;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ho;break;case wm:case Cm:case Dm:G=za;break;case xm:G=Go;break;case"scroll":case"scrollend":G=Po;break;case"wheel":G=Ha;break;case"copy":case"cut":case"paste":G=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=sl;break;case"toggle":case"beforetoggle":G=Qo}var vt=(n&4)!==0,Kt=!vt&&(t==="scroll"||t==="scrollend"),j=vt?F!==null?F+"Capture":null:F;vt=[];for(var M=H,q;M!==null;){var W=M;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||j===null||(W=Ki(M,j),W!=null&&vt.push(Ll(M,W,q))),Kt)break;M=M.return}0<vt.length&&(F=new G(F,Tt,null,i,J),tt.push({event:F,listeners:vt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&i!==vr&&(Tt=i.relatedTarget||i.fromElement)&&(mr(Tt)||Tt[yn]))break t;if((G||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Tt=i.relatedTarget||i.toElement,G=H,Tt=Tt?mr(Tt):null,Tt!==null&&(Kt=c(Tt),vt=Tt.tag,Tt!==Kt||vt!==5&&vt!==27&&vt!==6)&&(Tt=null)):(G=null,Tt=H),G!==Tt)){if(vt=Tn,W="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(vt=sl,W="onPointerLeave",j="onPointerEnter",M="pointer"),Kt=G==null?F:kn(G),q=Tt==null?F:kn(Tt),F=new vt(W,M+"leave",G,i,J),F.target=Kt,F.relatedTarget=q,W=null,mr(J)===H&&(vt=new vt(j,M+"enter",Tt,i,J),vt.target=q,vt.relatedTarget=Kt,W=vt),Kt=W,G&&Tt)e:{for(vt=G,j=Tt,M=0,q=vt;q;q=ms(q))M++;for(q=0,W=j;W;W=ms(W))q++;for(;0<M-q;)vt=ms(vt),M--;for(;0<q-M;)j=ms(j),q--;for(;M--;){if(vt===j||j!==null&&vt===j.alternate)break e;vt=ms(vt),j=ms(j)}vt=null}else vt=null;G!==null&&$g(tt,F,G,vt,!1),Tt!==null&&Kt!==null&&$g(tt,Kt,Tt,vt,!0)}}t:{if(F=H?kn(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ht=pm;else if(Ae(F))if(gm)ht=rE;else{ht=eE;var xt=tE}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ws(H.elementType)&&(ht=pm):ht=nE;if(ht&&(ht=ht(t,H))){Ar(tt,ht,i,J);break t}xt&&xt(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Kr(F,"number",F.value)}switch(xt=H?kn(H):window,t){case"focusin":(Ae(xt)||xt.contentEditable==="true")&&(Fa=xt,rh=H,ul=null);break;case"focusout":ul=rh=Fa=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,bm(tt,i,J);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":bm(tt,i,J)}var dt;if(Xn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Vt?K(t,i)&&(_t="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(_t="onCompositionStart");_t&&(v&&i.locale!=="ko"&&(Vt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Vt&&(dt=el()):(Fn=J,$r="value"in Fn?Fn.value:Fn.textContent,Vt=!0)),xt=Mu(H,_t),0<xt.length&&(_t=new il(_t,t,null,i,J),tt.push({event:_t,listeners:xt}),dt?_t.data=dt:(dt=lt(i),dt!==null&&(_t.data=dt)))),(dt=m?Se(t,i):Mt(t,i))&&(_t=Mu(H,"onBeforeInput"),0<_t.length&&(xt=new il("onBeforeInput","beforeinput",null,i,J),tt.push({event:xt,listeners:_t}),xt.data=dt)),kE(tt,t,H,i,J)}Xg(tt,n)})}function Ll(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Mu(t,n){for(var i=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ki(t,i),h!=null&&l.unshift(Ll(t,h,f)),h=Ki(t,n),h!=null&&l.push(Ll(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,i,l,h){for(var f=n._reactName,_=[];i!==null&&i!==l;){var T=i,x=T.alternate,H=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||H===null||(x=H,h?(H=Ki(i,f),H!=null&&_.unshift(Ll(i,H,x))):h||(H=Ki(i,f),H!=null&&_.push(Ll(i,H,x)))),i=i.return}_.length!==0&&t.push({event:n,listeners:_})}var GE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(GE,`
`).replace(YE,"")}function Jg(t,n){return n=Zg(n),Zg(t)===n}function Uu(){}function Xt(t,n,i,l,h,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,i,l);break;case"style":Js(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Ua(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Xt(t,n,"name",h.name,h,null),Xt(t,n,"formEncType",h.formEncType,h,null),Xt(t,n,"formMethod",h.formMethod,h,null),Xt(t,n,"formTarget",h.formTarget,h,null)):(Xt(t,n,"encType",h.encType,h,null),Xt(t,n,"method",h.method,h,null),Xt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Ua(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=Ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Xr(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=$c.get(i)||i,Xr(t,i,l))}}function Df(t,n,i,l,h,f){switch(i){case"style":Js(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),f=t[me]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,l,h);break t}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Xr(t,i,l)}}}function Be(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var _=i[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,_,i,null)}}h&&Xt(t,n,"srcSet",i.srcSet,i,null),l&&Xt(t,n,"src",i.src,i,null);return;case"input":Ot("invalid",t);var T=f=_=h=null,x=null,H=null;for(l in i)if(i.hasOwnProperty(l)){var J=i[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":x=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,n));break;default:Xt(t,n,l,J,i,null)}}Yi(t,f,T,x,H,_,h,!1),Ma(t);return;case"select":Ot("invalid",t),l=_=f=null;for(h in i)if(i.hasOwnProperty(h)&&(T=i[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xt(t,n,h,T,i,null)}n=f,i=_,t.multiple=!!l,n!=null?yr(t,!!l,n,!1):i!=null&&yr(t,!!l,i,!0);return;case"textarea":Ot("invalid",t),f=h=l=null;for(_ in i)if(i.hasOwnProperty(_)&&(T=i[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,_,T,i,null)}Qi(t,l,h,f),Ma(t);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(l=i[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,x,l,i,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ot(Pl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in i)if(i.hasOwnProperty(H)&&(l=i[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,H,l,i,null)}return;default:if(Ws(n)){for(J in i)i.hasOwnProperty(J)&&(l=i[J],l!==void 0&&Df(t,n,J,l,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null&&Xt(t,n,T,l,i,null))}function QE(t,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,x=null,H=null,J=null;for(G in i){var tt=i[G];if(i.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=tt;default:l.hasOwnProperty(G)||Xt(t,n,G,null,l,tt)}}for(var F in l){var G=l[F];if(tt=i[F],l.hasOwnProperty(F)&&(G!=null||tt!=null))switch(F){case"type":f=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":J=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==tt&&Xt(t,n,F,G,l,tt)}}on(t,_,T,x,H,J,f,h);return;case"select":G=_=T=F=null;for(f in i)if(x=i[f],i.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,x)}for(h in l)if(f=l[h],x=i[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==x&&Xt(t,n,h,f,l,x)}n=T,i=_,l=G,F!=null?yr(t,!!i,F,!1):!!l!=!!i&&(n!=null?yr(t,!!i,n,!0):yr(t,!!i,i?[]:"",!1));return;case"textarea":G=F=null;for(T in i)if(h=i[T],i.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=i[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(t,n,_,h,l,f)}Yt(t,F,G);return;case"option":for(var Tt in i)if(F=i[Tt],i.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Xt(t,n,Tt,null,l,F)}for(x in l)if(F=l[x],G=i[x],l.hasOwnProperty(x)&&F!==G&&(F!=null||G!=null))switch(x){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xt(t,n,x,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in i)F=i[vt],i.hasOwnProperty(vt)&&F!=null&&!l.hasOwnProperty(vt)&&Xt(t,n,vt,null,l,F);for(H in l)if(F=l[H],G=i[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Xt(t,n,H,F,l,G)}return;default:if(Ws(n)){for(var Kt in i)F=i[Kt],i.hasOwnProperty(Kt)&&F!==void 0&&!l.hasOwnProperty(Kt)&&Df(t,n,Kt,void 0,l,F);for(J in l)F=l[J],G=i[J],!l.hasOwnProperty(J)||F===G||F===void 0&&G===void 0||Df(t,n,J,F,l,G);return}}for(var j in i)F=i[j],i.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Xt(t,n,j,null,l,F);for(tt in l)F=l[tt],G=i[tt],!l.hasOwnProperty(tt)||F===G||F==null&&G==null||Xt(t,n,tt,F,l,G)}var xf=null,Nf=null;function Pu(t){return t.nodeType===9?t:t.ownerDocument}function Wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var If=null;function XE(){var t=window.event;return t&&t.type==="popstate"?t===If?!1:(If=t,!0):(If=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(ZE)}:ey;function ZE(t){setTimeout(function(){throw t})}function fi(t){return t==="head"}function ry(t,n){var i=n,l=0,h=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var _=t.ownerDocument;if(i&1&&jl(_.documentElement),i&2&&jl(_.body),i&4)for(i=_.head,jl(i),_=i.firstChild;_;){var T=_.nextSibling,x=_.nodeName;_[qi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||i.removeChild(_),_=T}}if(h===0){t.removeChild(f),Yl(n);return}h--}else i==="$"||i==="$?"||i==="$!"?h++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);Yl(n)}function Vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Vf(i),Qr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function JE(t,n,i,l){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function WE(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tT(t,n){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Uf=null;function iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}function ay(t,n,i){switch(n=Pu(i),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qr(t)}var Dn=new Map,sy=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pr=ot.d;ot.d={f:eT,r:nT,D:rT,C:iT,L:aT,m:sT,X:oT,S:lT,M:uT};function eT(){var t=Pr.f(),n=Du();return t||n}function nT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?wp(n):Pr.r(t)}var ps=typeof document>"u"?null:document;function ly(t,n,i){var l=ps;if(l&&typeof n=="string"&&n){var h=pe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),sy.has(h)||(sy.add(h),t={rel:t,crossOrigin:i,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function rT(t){Pr.D(t),ly("dns-prefetch",t,null)}function iT(t,n){Pr.C(t,n),ly("preconnect",t,n)}function aT(t,n,i){Pr.L(t,n,i);var l=ps;if(l&&t&&n){var h='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+pe(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+pe(i.imageSizes)+'"]')):h+='[href="'+pe(t)+'"]';var f=h;switch(n){case"style":f=gs(t);break;case"script":f=ys(t)}Dn.has(f)||(t=E({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),Dn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(zl(f))||(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function sT(t,n){Pr.m(t,n);var i=ps;if(i&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ys(t)}if(!Dn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Dn.set(f,t),i.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(zl(f)))return}l=i.createElement("link"),Be(l,"link",t),ce(l),i.head.appendChild(l)}}}function lT(t,n,i){Pr.S(t,n,i);var l=ps;if(l&&t){var h=Je(l).hoistableStyles,f=gs(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Bl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},i),(i=Dn.get(f))&&Pf(t,i);var x=_=l.createElement("link");ce(x),Be(x,"link",t),x._p=new Promise(function(H,J){x.onload=H,x.onerror=J}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ju(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function oT(t,n){Pr.X(t,n);var i=ps;if(i&&t){var l=Je(i).hoistableScripts,h=ys(t),f=l.get(h);f||(f=i.querySelector(zl(h)),f||(t=E({src:t,async:!0},n),(n=Dn.get(h))&&Lf(t,n),f=i.createElement("script"),ce(f),Be(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function uT(t,n){Pr.M(t,n);var i=ps;if(i&&t){var l=Je(i).hoistableScripts,h=ys(t),f=l.get(h);f||(f=i.querySelector(zl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&Lf(t,n),f=i.createElement("script"),ce(f),Be(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function oy(t,n,i,l){var h=(h=St.current)?Lu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=gs(i.href),i=Je(h).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=gs(i.href);var f=Je(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Bl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Dn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Dn.set(t,i),f||cT(h,t,i,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ys(i),i=Je(h).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+pe(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function uy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cT(t,n,i,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",i),ce(n),t.head.appendChild(n))}function ys(t){return'[src="'+pe(t)+'"]'}function zl(t){return"script[async]"+t}function cy(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(i.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Be(l,"style",h),ju(l,i.precedence,t),n.instance=l;case"stylesheet":h=gs(i.href);var f=t.querySelector(Bl(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=uy(i),(h=Dn.get(h))&&Pf(l,h),f=(t.ownerDocument||t).createElement("link"),ce(f);var _=f;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Be(f,"link",l),n.state.loading|=4,ju(f,i.precedence,t),n.instance=f;case"script":return f=ys(i.src),(h=t.querySelector(zl(f)))?(n.instance=h,ce(h),h):(l=i,(h=Dn.get(f))&&(l=E({},i),Lf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ce(h),Be(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,i.precedence,t));return n.instance}function ju(t,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function hy(t,n,i){if(Bu===null){var l=new Map,h=Bu=new Map;h.set(i,l)}else h=Bu,l=h.get(i),l||(l=new Map,h.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var f=i[h];if(!(f[qi]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function fy(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function hT(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function fT(){}function dT(t,n,i){if(kl===null)throw Error(s(475));var l=kl;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=gs(i.href),f=t.querySelector(Bl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,i=uy(i),(h=Dn.get(h))&&Pf(i,h),f=f.createElement("link"),ce(f);var _=f;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Be(f,"link",i),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function mT(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&jf(t,t.stylesheets),0<t.count?function(n){var i=setTimeout(function(){if(t.stylesheets&&jf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function jf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(pT,t),ku=null,zu.call(t))}function pT(t,n){if(!(n.state.loading&4)){var i=ku.get(t);if(i)var l=i.get(null);else{i=new Map,ku.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),l=_)}l&&i.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=i.get(_)||l,f===l&&i.set(null,h),i.set(_,h),this.count++,l=zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:Q,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function gT(t,n,i,l,h,f,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function my(t,n,i,l,h,f,_,T,x,H,J,tt){return t=new gT(t,n,i,_,T,x,H,tt),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),t.current=f,f.stateNode=t,n=vh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},Sh(f),t}function py(t){return t?(t=Xa,t):Xa}function gy(t,n,i,l,h,f){h=py(h),l.context===null?l.context=h:l.pendingContext=h,l=Wr(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=ti(t,l,n),i!==null&&(pn(i,t,n),vl(i,t,n))}function yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function Bf(t,n){yy(t,n),(t=t.alternate)&&yy(t,n)}function vy(t){if(t.tag===13){var n=Qa(t,67108864);n!==null&&pn(n,t,67108864),Bf(t,67108864)}}var qu=!0;function yT(t,n,i,l){var h=Z.T;Z.T=null;var f=ot.p;try{ot.p=2,zf(t,n,i,l)}finally{ot.p=f,Z.T=h}}function vT(t,n,i,l){var h=Z.T;Z.T=null;var f=ot.p;try{ot.p=8,zf(t,n,i,l)}finally{ot.p=f,Z.T=h}}function zf(t,n,i,l){if(qu){var h=kf(l);if(h===null)Cf(t,n,l,Hu,i),Ey(t,l);else if(ET(h,t,n,i,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<_T.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=On(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-Ge(_);T.entanglements[1]|=x,_&=~x}tr(f),(Ft&6)===0&&(wu=gn()+500,Ul(0))}}break;case 13:T=Qa(f,2),T!==null&&pn(T,f,2),Du(),Bf(f,2)}if(f=kf(l),f===null&&Cf(t,n,l,Hu,i),f===h)break;h=f}h!==null&&l.stopPropagation()}else Cf(t,n,l,null,i)}}function kf(t){return t=_n(t),qf(t)}var Hu=null;function qf(t){if(Hu=null,t=mr(t),t!==null){var n=c(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=d(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case zs:return 2;case wa:return 8;case Li:case Gc:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var Hf=!1,di=null,mi=null,pi=null,Hl=new Map,Fl=new Map,gi=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Gl(t,n,i,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&vy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ET(t,n,i,l,h){switch(n){case"focusin":return di=Gl(di,t,n,i,l,h),!0;case"dragenter":return mi=Gl(mi,t,n,i,l,h),!0;case"mouseover":return pi=Gl(pi,t,n,i,l,h),!0;case"pointerover":var f=h.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,n,i,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,n,i,l,h)),!0}return!1}function Ty(t){var n=mr(t.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){t.blockedOn=n,Do(t.priority,function(){if(i.tag===13){var l=mn();l=Fr(l);var h=Qa(i,l);h!==null&&pn(h,i,l),Bf(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=kf(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);vr=l,i.target.dispatchEvent(l),vr=null}else return n=zn(i),n!==null&&vy(n),t.blockedOn=i,!1;n.shift()}return!0}function Sy(t,n,i){Fu(t)&&i.delete(n)}function TT(){Hf=!1,di!==null&&Fu(di)&&(di=null),mi!==null&&Fu(mi)&&(mi=null),pi!==null&&Fu(pi)&&(pi=null),Hl.forEach(Sy),Fl.forEach(Sy)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,TT)))}var Yu=null;function Ay(t){Yu!==t&&(Yu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var n=0;n<t.length;n+=3){var i=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(qf(l||i)===null)continue;break}var f=zn(i);f!==null&&(t.splice(n,3),n-=3,kh(f,{pending:!0,data:h,method:i.method,action:l},l,h))}}))}function Yl(t){function n(x){return Gu(x,t)}di!==null&&Gu(di,t),mi!==null&&Gu(mi,t),pi!==null&&Gu(pi,t),Hl.forEach(n),Fl.forEach(n);for(var i=0;i<gi.length;i++){var l=gi[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gi.length&&(i=gi[0],i.blockedOn===null);)Ty(i),i.blockedOn===null&&gi.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var h=i[l],f=i[l+1],_=h[me]||null;if(typeof f=="function")_||Ay(i);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[me]||null)T=_.formAction;else if(qf(h)!==null)continue}else T=_.action;typeof T=="function"?i[l+1]=T:(i.splice(l,3),l-=3),Ay(i)}}}function Ff(t){this._internalRoot=t}Qu.prototype.render=Ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=mn();gy(i,l,t,n,null,null)},Qu.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;gy(t.current,2,null,t,null,null),Du(),n[yn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gr();t={blockedOn:null,target:t,priority:n};for(var i=0;i<gi.length&&n!==0&&n<gi[i].priority;i++);gi.splice(i,0,t),i===0&&Ty(t)}};var by=e.version;if(by!=="19.1.0")throw Error(s(527,by,"19.1.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{le=Xu.inject(ST),Ht=Xu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var i=!1,l="",h=zp,f=kp,_=qp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=my(t,1,!1,null,null,i,l,h,f,_,T,null),t[yn]=n.current,wf(t),new Ff(n)},Xl.hydrateRoot=function(t,n,i){if(!o(t))throw Error(s(299));var l=!1,h="",f=zp,_=kp,T=qp,x=null,H=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(H=i.formState)),n=my(t,1,!0,n,i??null,l,h,f,_,T,x,H),n.context=py(null),i=n.current,l=mn(),l=Fr(l),h=Wr(l),h.callback=null,ti(i,h,l),i=l,n.current.lanes=i,dr(n,i),tr(n),t[yn]=n.current,wf(t),new Qu(n)},Xl.version="19.1.0",Xl}var My;function IT(){if(My)return Qf.exports;My=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Qf.exports=OT(),Qf.exports}var VT=IT();const MT=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(a){const e=[];let r=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},UT=function(a){const e=[];let r=0,s=0;for(;r<a.length;){const o=a[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[r++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[r++],d=a[r++],p=a[r++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=a[r++],d=a[r++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,g=o+2<a.length,y=g?a[o+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,U=y&63;g||(U=64,d||(A=64)),s.push(r[E],r[w],r[A],r[U])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray($v(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):UT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=r[a.charAt(o++)],p=o<a.length?r[a.charAt(o)]:0;++o;const y=o<a.length?r[a.charAt(o)]:64;++o;const w=o<a.length?r[a.charAt(o)]:64;if(++o,c==null||p==null||y==null||w==null)throw new PT;const A=c<<2|p>>4;if(s.push(A),y!==64){const U=p<<4&240|y>>2;if(s.push(U),w!==64){const P=y<<6&192|w;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class PT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(a){const e=$v(a);return Zv.encodeByteArray(e,!0)},cc=function(a){return LT(a).replace(/\./g,"")},jT=function(a){try{return Zv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=()=>BT().__FIREBASE_DEFAULTS__,kT=()=>{if(typeof process>"u"||typeof Uy>"u")return;const a=Uy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},qT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&jT(a[1]);return e&&JSON.parse(e)},Od=()=>{try{return MT()||zT()||kT()||qT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},HT=a=>{var e,r;return(r=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[a]},FT=a=>{const e=HT(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Jv=()=>{var a;return(a=Od())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[cc(JSON.stringify(r)),cc(JSON.stringify(d)),""].join(".")}const to={};function XT(){const a={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?a.emulator.push(e):a.prod.push(e);return a}function KT(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let Py=!1;function $T(a,e){if(typeof window>"u"||typeof document>"u"||!Id(window.location.host)||to[a]===e||to[a]||Py)return;to[a]=e;function r(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=XT().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Py=!0,d()},A}function E(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=KT(s),U=r("text"),P=document.getElementById(U)||document.createElement("span"),X=r("learnmore"),k=document.getElementById(X)||document.createElement("a"),C=r("preprendIcon"),$=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;p(Q),E(k,X);const nt=y();g($,C),Q.append($,P,k,nt),document.body.appendChild(Q)}c?(P.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){var a;const e=(a=Od())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WT(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((a,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FirebaseError";class Is extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=n1,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wv.prototype.create)}}class Wv{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?r1(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Is(o,p,s)}}function r1(a,e){return a.replace(i1,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const i1=/\{\$([^}]+)}/g;function hc(a,e){if(a===e)return!0;const r=Object.keys(a),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(Ly(c)&&Ly(d)){if(!hc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Ly(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(a){return a&&a._delegate?a._delegate:a}class so{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new GT;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s1(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s1(a){return a===ya?void 0:a}function l1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new a1(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const u1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},c1=Lt.INFO,h1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},f1=(a,e,...r)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=h1[e];if(o)console[o](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const d1=(a,e)=>e.some(r=>a instanceof r);let jy,By;function m1(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,ld=new WeakMap,n_=new WeakMap,Zf=new WeakMap,Vd=new WeakMap;function g1(a){const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{r(Ei(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(r=>{r instanceof IDBCursor&&e_.set(r,a)}).catch(()=>{}),Vd.set(e,a),e}function y1(a){if(ld.has(a))return;const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{r(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});ld.set(a,e)}let od={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return ld.get(a);if(e==="objectStoreNames")return a.objectStoreNames||n_.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ei(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function v1(a){od=a(od)}function _1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=a.call(Jf(this),e,...r);return n_.set(s,e.sort?e.sort():[e]),Ei(s)}:p1().includes(a)?function(...e){return a.apply(Jf(this),e),Ei(e_.get(this))}:function(...e){return Ei(a.apply(Jf(this),e))}}function E1(a){return typeof a=="function"?_1(a):(a instanceof IDBTransaction&&y1(a),d1(a,m1())?new Proxy(a,od):a)}function Ei(a){if(a instanceof IDBRequest)return g1(a);if(Zf.has(a))return Zf.get(a);const e=E1(a);return e!==a&&(Zf.set(a,e),Vd.set(e,a)),e}const Jf=a=>Vd.get(a);function T1(a,e,{blocked:r,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),p=Ei(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Ei(d.result),g.oldVersion,g.newVersion,Ei(d.transaction),g)}),r&&d.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const S1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],Wf=new Map;function zy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=A1.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||S1.includes(r)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[r](...p),o&&g.done]))[0]};return Wf.set(e,c),c}v1(a=>({...a,get:(e,r,s)=>zy(e,r)||a.get(e,r,s),has:(e,r)=>!!zy(e,r)||a.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(R1(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function R1(a){const e=a.getComponent();return e?.type==="VERSION"}const ud="@firebase/app",ky="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new t_("@firebase/app"),w1="@firebase/app-compat",C1="@firebase/analytics-compat",D1="@firebase/analytics",x1="@firebase/app-check-compat",N1="@firebase/app-check",O1="@firebase/auth",I1="@firebase/auth-compat",V1="@firebase/database",M1="@firebase/data-connect",U1="@firebase/database-compat",P1="@firebase/functions",L1="@firebase/functions-compat",j1="@firebase/installations",B1="@firebase/installations-compat",z1="@firebase/messaging",k1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",F1="@firebase/remote-config",G1="@firebase/remote-config-compat",Y1="@firebase/storage",Q1="@firebase/storage-compat",X1="@firebase/firestore",K1="@firebase/ai",$1="@firebase/firestore-compat",Z1="firebase",J1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",W1={[ud]:"fire-core",[w1]:"fire-core-compat",[D1]:"fire-analytics",[C1]:"fire-analytics-compat",[N1]:"fire-app-check",[x1]:"fire-app-check-compat",[O1]:"fire-auth",[I1]:"fire-auth-compat",[V1]:"fire-rtdb",[M1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[P1]:"fire-fn",[L1]:"fire-fn-compat",[j1]:"fire-iid",[B1]:"fire-iid-compat",[z1]:"fire-fcm",[k1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[F1]:"fire-rc",[G1]:"fire-rc-compat",[Y1]:"fire-gcs",[Q1]:"fire-gcs-compat",[X1]:"fire-fst",[$1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,tS=new Map,hd=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(r){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function dc(a){const e=a.name;if(hd.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,a);for(const r of fc.values())qy(r,a);for(const r of tS.values())qy(r,a);return!0}function eS(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function nS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Wv("app","Firebase",rS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=J1;function Md(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ti.create("bad-app-name",{appName:String(o)});if(r||(r=Jv()),!r)throw Ti.create("no-options");const c=fc.get(o);if(c){if(hc(r,c.options)&&hc(s,c.config))return c;throw Ti.create("duplicate-app",{appName:o})}const d=new o1(o);for(const g of hd.values())d.addComponent(g);const p=new iS(r,s,d);return fc.set(o,p),p}function sS(a=cd){const e=fc.get(a);if(!e&&a===cd&&Jv())return Md();if(!e)throw Ti.create("no-app",{appName:a});return e}function As(a,e,r){var s;let o=(s=W1[a])!==null&&s!==void 0?s:a;r&&(o+=`-${r}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(p.join(" "));return}dc(new so(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebase-heartbeat-database",oS=1,lo="firebase-heartbeat-store";let td=null;function r_(){return td||(td=T1(lS,oS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(r){console.warn(r)}}}}).catch(a=>{throw Ti.create("idb-open",{originalErrorMessage:a.message})})),td}async function uS(a){try{const r=(await r_()).transaction(lo),s=await r.objectStore(lo).get(i_(a));return await r.done,s}catch(e){if(e instanceof Is)jr.warn(e.message);else{const r=Ti.create("idb-get",{originalErrorMessage:e?.message});jr.warn(r.message)}}}async function Hy(a,e){try{const s=(await r_()).transaction(lo,"readwrite");await s.objectStore(lo).put(e,i_(a)),await s.done}catch(r){if(r instanceof Is)jr.warn(r.message);else{const s=Ti.create("idb-set",{originalErrorMessage:r?.message});jr.warn(s.message)}}}function i_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=1024,hS=30;class fS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new mS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Fy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>hS){const d=pS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){jr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Fy(),{heartbeatsToSend:s,unsentEntries:o}=dS(this._heartbeatsCache.heartbeats),c=cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return jr.warn(r),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function dS(a,e=cS){const r=[];let s=a.slice();for(const o of a){const c=r.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Gy(r)>e){c.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Gy(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class mS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await uS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gy(a){return cc(JSON.stringify({version:2,heartbeats:a})).length}function pS(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(a){dc(new so("platform-logger",e=>new b1(e),"PRIVATE")),dc(new so("heartbeat",e=>new fS(e),"PRIVATE")),As(ud,ky,a),As(ud,ky,"esm2017"),As("fire-js","")}gS("");var yS="firebase",vS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(yS,vS,"app");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,a_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function D(){}D.prototype=R.prototype,O.D=R.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(V,L,B){for(var N=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)N[Ee-2]=arguments[Ee];return R.prototype[L].apply(V,N)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,D){D||(D=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(L=0;16>L;++L)V[L]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=O.g[0],D=O.g[1],L=O.g[2];var B=O.g[3],N=R+(B^D&(L^B))+V[0]+3614090360&4294967295;R=D+(N<<7&4294967295|N>>>25),N=B+(L^R&(D^L))+V[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(D^B&(R^D))+V[2]+606105819&4294967295,L=B+(N<<17&4294967295|N>>>15),N=D+(R^L&(B^R))+V[3]+3250441966&4294967295,D=L+(N<<22&4294967295|N>>>10),N=R+(B^D&(L^B))+V[4]+4118548399&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(L^R&(D^L))+V[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(D^B&(R^D))+V[6]+2821735955&4294967295,L=B+(N<<17&4294967295|N>>>15),N=D+(R^L&(B^R))+V[7]+4249261313&4294967295,D=L+(N<<22&4294967295|N>>>10),N=R+(B^D&(L^B))+V[8]+1770035416&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(L^R&(D^L))+V[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(D^B&(R^D))+V[10]+4294925233&4294967295,L=B+(N<<17&4294967295|N>>>15),N=D+(R^L&(B^R))+V[11]+2304563134&4294967295,D=L+(N<<22&4294967295|N>>>10),N=R+(B^D&(L^B))+V[12]+1804603682&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(L^R&(D^L))+V[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(D^B&(R^D))+V[14]+2792965006&4294967295,L=B+(N<<17&4294967295|N>>>15),N=D+(R^L&(B^R))+V[15]+1236535329&4294967295,D=L+(N<<22&4294967295|N>>>10),N=R+(L^B&(D^L))+V[1]+4129170786&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^L&(R^D))+V[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^D&(B^R))+V[11]+643717713&4294967295,L=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(L^B))+V[0]+3921069994&4294967295,D=L+(N<<20&4294967295|N>>>12),N=R+(L^B&(D^L))+V[5]+3593408605&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^L&(R^D))+V[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^D&(B^R))+V[15]+3634488961&4294967295,L=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(L^B))+V[4]+3889429448&4294967295,D=L+(N<<20&4294967295|N>>>12),N=R+(L^B&(D^L))+V[9]+568446438&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^L&(R^D))+V[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^D&(B^R))+V[3]+4107603335&4294967295,L=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(L^B))+V[8]+1163531501&4294967295,D=L+(N<<20&4294967295|N>>>12),N=R+(L^B&(D^L))+V[13]+2850285829&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^L&(R^D))+V[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^D&(B^R))+V[7]+1735328473&4294967295,L=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(L^B))+V[12]+2368359562&4294967295,D=L+(N<<20&4294967295|N>>>12),N=R+(D^L^B)+V[5]+4294588738&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^L)+V[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^D)+V[11]+1839030562&4294967295,L=B+(N<<16&4294967295|N>>>16),N=D+(L^B^R)+V[14]+4259657740&4294967295,D=L+(N<<23&4294967295|N>>>9),N=R+(D^L^B)+V[1]+2763975236&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^L)+V[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^D)+V[7]+4139469664&4294967295,L=B+(N<<16&4294967295|N>>>16),N=D+(L^B^R)+V[10]+3200236656&4294967295,D=L+(N<<23&4294967295|N>>>9),N=R+(D^L^B)+V[13]+681279174&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^L)+V[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^D)+V[3]+3572445317&4294967295,L=B+(N<<16&4294967295|N>>>16),N=D+(L^B^R)+V[6]+76029189&4294967295,D=L+(N<<23&4294967295|N>>>9),N=R+(D^L^B)+V[9]+3654602809&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^L)+V[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^D)+V[15]+530742520&4294967295,L=B+(N<<16&4294967295|N>>>16),N=D+(L^B^R)+V[2]+3299628645&4294967295,D=L+(N<<23&4294967295|N>>>9),N=R+(L^(D|~B))+V[0]+4096336452&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~L))+V[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~D))+V[14]+2878612391&4294967295,L=B+(N<<15&4294967295|N>>>17),N=D+(B^(L|~R))+V[5]+4237533241&4294967295,D=L+(N<<21&4294967295|N>>>11),N=R+(L^(D|~B))+V[12]+1700485571&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~L))+V[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~D))+V[10]+4293915773&4294967295,L=B+(N<<15&4294967295|N>>>17),N=D+(B^(L|~R))+V[1]+2240044497&4294967295,D=L+(N<<21&4294967295|N>>>11),N=R+(L^(D|~B))+V[8]+1873313359&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~L))+V[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~D))+V[6]+2734768916&4294967295,L=B+(N<<15&4294967295|N>>>17),N=D+(B^(L|~R))+V[13]+1309151649&4294967295,D=L+(N<<21&4294967295|N>>>11),N=R+(L^(D|~B))+V[4]+4149444226&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~L))+V[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~D))+V[2]+718787259&4294967295,L=B+(N<<15&4294967295|N>>>17),N=D+(B^(L|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+B&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var D=R-this.blockSize,V=this.B,L=this.h,B=0;B<R;){if(L==0)for(;B<=D;)o(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<R;)if(V[L++]=O.charCodeAt(B++),L==this.blockSize){o(this,V),L=0;break}}else for(;B<R;)if(V[L++]=O[B++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var D=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=D&255,D/=256;for(this.u(O),O=Array(16),R=D=0;4>R;++R)for(var V=0;32>V;V+=8)O[D++]=this.g[R]>>>V&255;return O};function c(O,R){var D=p;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=R(O)}function d(O,R){this.h=R;for(var D=[],V=!0,L=O.length-1;0<=L;L--){var B=O[L]|0;V&&B==R||(D[L]=B,V=!1)}this.g=D}var p={};function g(O){return-128<=O&&128>O?c(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return k(y(-O));for(var R=[],D=1,V=0;O>=D;V++)R[V]=O/D|0,D*=4294967296;return new d(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return k(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(R,8)),V=w,L=0;L<O.length;L+=8){var B=Math.min(8,O.length-L),N=parseInt(O.substring(L,L+B),R);8>B?(B=y(Math.pow(R,B)),V=V.j(B).add(y(N))):(V=V.j(D),V=V.add(y(N)))}return V}var w=g(0),A=g(1),U=g(16777216);a=d.prototype,a.m=function(){if(X(this))return-k(this).m();for(var O=0,R=1,D=0;D<this.g.length;D++){var V=this.i(D);O+=(0<=V?V:4294967296+V)*R,R*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(X(this))return"-"+k(this).toString(O);for(var R=y(Math.pow(O,6)),D=this,V="";;){var L=nt(D,R).g;D=C(D,L.j(R));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=L,P(D))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function X(O){return O.h==-1}a.l=function(O){return O=C(this,O),X(O)?-1:P(O)?0:1};function k(O){for(var R=O.g.length,D=[],V=0;V<R;V++)D[V]=~O.g[V];return new d(D,~O.h).add(A)}a.abs=function(){return X(this)?k(this):this},a.add=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0,L=0;L<=R;L++){var B=V+(this.i(L)&65535)+(O.i(L)&65535),N=(B>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);V=N>>>16,B&=65535,N&=65535,D[L]=N<<16|B}return new d(D,D[D.length-1]&-2147483648?-1:0)};function C(O,R){return O.add(k(R))}a.j=function(O){if(P(this)||P(O))return w;if(X(this))return X(O)?k(this).j(k(O)):k(k(this).j(O));if(X(O))return k(this.j(k(O)));if(0>this.l(U)&&0>O.l(U))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,D=[],V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<O.g.length;L++){var B=this.i(V)>>>16,N=this.i(V)&65535,Ee=O.i(L)>>>16,se=O.i(L)&65535;D[2*V+2*L]+=N*se,$(D,2*V+2*L),D[2*V+2*L+1]+=B*se,$(D,2*V+2*L+1),D[2*V+2*L+1]+=N*Ee,$(D,2*V+2*L+1),D[2*V+2*L+2]+=B*Ee,$(D,2*V+2*L+2)}for(V=0;V<R;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=R;V<2*R;V++)D[V]=0;return new d(D,0)};function $(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Q(O,R){this.g=O,this.h=R}function nt(O,R){if(P(R))throw Error("division by zero");if(P(O))return new Q(w,w);if(X(O))return R=nt(k(O),R),new Q(k(R.g),k(R.h));if(X(R))return R=nt(O,k(R)),new Q(k(R.g),R.h);if(30<O.g.length){if(X(O)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var D=A,V=R;0>=V.l(O);)D=at(D),V=at(V);var L=yt(D,1),B=yt(V,1);for(V=yt(V,2),D=yt(D,2);!P(V);){var N=B.add(V);0>=N.l(O)&&(L=L.add(D),B=N),V=yt(V,1),D=yt(D,1)}return R=C(O,L.j(R)),new Q(L,R)}for(L=w;0<=O.l(R);){for(D=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=y(D),N=B.j(R);X(N)||0<N.l(O);)D-=V,B=y(D),N=B.j(R);P(B)&&(B=A),L=L.add(B),O=C(O,N)}return new Q(L,O)}a.A=function(O){return nt(this,O).h},a.and=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)&O.i(V);return new d(D,this.h&O.h)},a.or=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)|O.i(V);return new d(D,this.h|O.h)},a.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)^O.i(V);return new d(D,this.h^O.h)};function at(O){for(var R=O.g.length+1,D=[],V=0;V<R;V++)D[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(D,O.h)}function yt(O,R){var D=R>>5;R%=32;for(var V=O.g.length-D,L=[],B=0;B<V;B++)L[B]=0<R?O.i(B+D)>>>R|O.i(B+D+1)<<32-R:O.i(B+D);return new d(L,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Si=d}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s_,Zl,l_,nc,fd,o_,u_,c_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in v))break t;v=v[z]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,S=!1,z={next:function(){if(!S&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function U(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function P(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,z,K){for(var lt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)lt[Vt-2]=arguments[Vt];return m.prototype[z].apply(S,lt)}}function X(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function k(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const z=u.length||0,K=S.length||0;u.length=z+K;for(let lt=0;lt<K;lt++)u[z+lt]=S[lt]}else u.push(S)}}class C{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function nt(u){return nt[" "](u),u}nt[" "]=function(){};var at=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function yt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)u[v]=S[v];for(let K=0;K<D.length;K++)v=D[K],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){p.setTimeout(()=>{throw u},0)}function N(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const S=se.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new C(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,Bt=new Ee,I=()=>{const u=p.Promise.resolve(void 0);ot=()=>{u.then(rt)}};var rt=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){B(v)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u}();function Dt(u,m){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(at){t:{try{nt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}P(Dt,st);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function jn(u,m,v,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Hr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hr(u){this.src=u,this.g={},this.h=0}hr.prototype.add=function(u,m,v,S,z){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var lt=Ui(u,m,S,z);return-1<lt?(m=u[lt],v||(m.fa=!1)):(m=new jn(m,this.src,K,!!S,z),m.fa=v,u.push(m)),m};function Mi(u,m){var v=m.type;if(v in u.g){var S=u.g[v],z=Array.prototype.indexOf.call(S,m,void 0),K;(K=0<=z)&&Array.prototype.splice.call(S,z,1),K&&(Hr(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ui(u,m,v,S){for(var z=0;z<u.length;++z){var K=u[z];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==S)return z}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),Bs={};function Ro(u,m,v,S,z){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Ro(u,m[K],v,S,z);return null}return v=wo(v),u&&u[De]?u.K(m,v,y(S)?!!S.capture:!1,z):gn(u,m,v,!1,S,z)}function gn(u,m,v,S,z,K){if(!m)throw Error("Invalid event type");var lt=y(z)?!!z.capture:!!z,Vt=Ca(u);if(Vt||(u[Pi]=Vt=new hr(u)),v=Vt.add(m,v,S,lt,K),v.proxy)return v;if(S=Fc(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)pt||(z=lt),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(Li(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fc(){function u(v){return m.call(u.src,u.listener,v)}const m=Gc;return u}function zs(u,m,v,S,z){if(Array.isArray(m))for(var K=0;K<m.length;K++)zs(u,m[K],v,S,z);else S=y(S)?!!S.capture:!!S,v=wo(v),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=Ui(K,v,S,z),-1<v&&(Hr(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ca(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ui(m,v,S,z)),(v=-1<u?m[u]:null)&&wa(v))}function wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Mi(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Li(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ca(m))?(Mi(v,u),v.h==0&&(v.src=null,m[Pi]=null)):Hr(u)}}}function Li(u){return u in Bs?Bs[u]:Bs[u]="on"+u}function Gc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&wa(u),u=v.call(S,m)}return u}function Ca(u){return u=u[Pi],u instanceof hr?u:null}var ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function wo(u){return typeof u=="function"?u:(u[ks]||(u[ks]=function(m){return u.handleEvent(m)}),u[ks])}function le(){ut.call(this),this.i=new hr(this),this.M=this,this.F=null}P(le,ut),le.prototype[De]=!0,le.prototype.removeEventListener=function(u,m,v,S){zs(this,u,m,v,S)};function Ht(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new st(m,u);else if(m instanceof st)m.target=m.target||u;else{var z=m;m=new st(S,u),V(m,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var lt=m.g=v[K];z=ln(lt,S,!0,m)&&z}if(lt=m.g=u,z=ln(lt,S,!0,m)&&z,z=ln(lt,S,!1,m)&&z,v)for(K=0;K<v.length;K++)lt=m.g=v[K],z=ln(lt,S,!1,m)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)Hr(v[S]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},le.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ln(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,K=0;K<m.length;++K){var lt=m[K];if(lt&&!lt.da&&lt.capture==v){var Vt=lt.listener,Se=lt.ha||lt.src;lt.fa&&Mi(u.i,lt),z=Vt.call(Se,S)!==!1&&z}}return z&&!S.defaultPrevented}function Ge(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Co(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Co(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yc extends ut{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){ut.call(this),this.h=u,this.g={}}P(ji,ut);var Bi=[];function zi(u){yt(u.g,function(m,v){this.g.hasOwnProperty(v)&&wa(m)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),zi(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=p.JSON.stringify,Da=p.JSON.parse,ki=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function qs(){}qs.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function Fs(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){st.call(this,"d")}P(dr,st);function Gs(){st.call(this,"c")}P(Gs,st);var Bn={},Ys=null;function Fr(){return Ys=Ys||new le}Bn.La="serverreachability";function xa(u){st.call(this,Bn.La,u)}P(xa,st);function Gr(u){const m=Fr();Ht(m,new xa(m))}Bn.STAT_EVENT="statevent";function Do(u,m){st.call(this,Bn.STAT_EVENT,u),this.stat=m}P(Do,st);function ee(u){const m=Fr();Ht(m,new Do(m,u))}Bn.Ma="timingevent";function Te(u,m){st.call(this,Bn.Ma,u),this.size=m}P(Te,st);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Qs(u,m,v,S,z,K){u.info(function(){if(u.g)if(K)for(var lt="",Vt=K.split("&"),Se=0;Se<Vt.length;Se++){var Mt=Vt[Se].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Ae=Ne.split("_");lt=2<=Ae.length&&Ae[1]=="type"?lt+(Ne+"="+Mt+"&"):lt+(Ne+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+lt})}function Qc(u,m,v,S,z,K,lt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+K+" "+lt})}function Yr(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qi(u,v)+(S?" "+S:"")})}function xo(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function qi(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<z.length;lt++)z[lt]=""}}}}return On(v)}catch{return m}}var Qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function kn(){}P(kn,qs),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},zn=new kn;function Je(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Xs={},Na={};function In(u,m,v){u.L=1,u.v=Qi(on(m)),u.m=v,u.P=!0,pr(u,null)}function pr(u,m){u.F=Date.now(),Hi(u),u.A=on(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),tl(v.i,"t",S),u.C=0,v=u.j.J,u.h=new ce,u.g=Go(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Yc(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Bi[0]=z.toString()),z=Bi);for(var K=0;K<z.length;K++){var lt=Ro(v,z[K],S||m.handleEvent,!1,m.h||m);if(!lt)break;m.g[lt.key]=lt}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Gr(),Qs(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Tn(this.g);var m=this.g.Ba();const Ar=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ar?Gr(3):Gr(2)),Xr(this);var v=this.g.Z();this.X=v;e:if(No(this)){var S=Lo(this.g);u="";var z=S.length,K=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),qn(this);var lt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(K&&m==z-1)});S.length=0,this.h.g+=u,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=v==200,Qc(this.i,this.u,this.A,this.l,this.R,Ae,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Se=this.g;if((Vt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Vt)){var Mt=Vt;break e}}Mt=null}if(v=Mt)Yr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,v);else{this.o=!1,this.s=3,ee(12),Ue(this),qn(this);break t}}if(this.P){v=!0;let Pe;for(;!this.J&&this.C<lt.length;)if(Pe=Oo(this,lt),Pe==Na){Ae==4&&(this.s=4,ee(14),v=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Xs){this.s=4,ee(15),Yr(this.i,this.l,lt,"[Invalid Chunk]"),v=!1;break}else Yr(this.i,this.l,Pe,null),Fi(this,Pe);if(No(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||lt.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)Yr(this.i,this.l,lt,"[Invalid Chunked Response]"),Ue(this),qn(this);else if(0<lt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),ea(Ne),Ne.M=!0,ee(11))}}else Yr(this.i,this.l,lt,null),Fi(this,lt);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?qo(this.j,this):(this.o=!1,Hi(this)))}else Jc(this.g),v==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),qn(this)}}}catch{}finally{}};function No(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Oo(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Na:(v=Number(m.substring(v,S)),isNaN(v)?Xs:(S+=1,S+v>m.length?Na:(m=m.slice(S,S+v),u.C=S+v,m)))}Je.prototype.cancel=function(){this.J=!0,Ue(this)};function Hi(u){u.S=Date.now()+u.I,Io(u,u.I)}function Io(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(A(u.ba,u),m)}function Xr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xo(this.i,this.A),this.L!=2&&(Gr(),ee(17)),Ue(this),this.s=2,qn(this)):Io(this,this.S-u)};function qn(u){u.j.G==0||u.J||qo(u.j,u)}function Ue(u){Xr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,zi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fi(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ks(v.h,u))){if(!u.K&&Ks(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)qa(v),za(v);else break t;al(v),ee(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(A(v.Za,v),6e3));if(1>=Ia(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Sr(v,11)}else if((u.K||v.g==u)&&qa(v),!$(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(v.la=Ne,v.j.info("VER="+v.la));const Ae=Mt[4];Ae!=null&&(v.Aa=Ae,v.j.info("SVER="+v.Aa));const Ar=Mt[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(S=1.5*Ar,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Pe=u.g;if(Pe){const Kn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var K=S.h;K.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Va(K,K.h),K.h=null))}if(S.D){const ll=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(S.ya=ll,Yt(S.I,S.D,ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var lt=u;if(S.qa=Fo(S,S.J?S.ia:null,S.W),lt.K){We(S.h,lt);var Vt=lt,Se=S.L;Se&&(Vt.I=Se),Vt.B&&(Xr(Vt),Hi(Vt)),S.g=lt}else zo(S);0<v.i.length&&ka(v)}else Mt[0]!="stop"&&Mt[0]!="close"||Sr(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Sr(v,7):rl(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Gr(4)}catch{}}var Vo=class{constructor(u,m){this.g=u,this.map=m}};function gr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ia(u){return u.h?1:u.g?u.g.size:0}function Ks(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Va(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gr.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $s(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return X(u.i)}function Xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function Ma(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function Zs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ma(u),S=Xc(u),z=S.length,K=0;K<z;K++)m.call(void 0,S[K],v&&v[K],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),z=null;if(0<=S){var K=u[v].substring(0,S);z=u[v].substring(S+1)}else K=u[v];m(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Yi(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,v=new vr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),yr(this,v),this.m=u.m}else u&&(m=String(u).match(Gi))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),Kr(this,m[4]),this.l=vn(m[5]||"",!0),yr(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xi(m,Js,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xi(m,Js,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Xi(v,v.charAt(0)=="/"?$c:Ws,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Xi(v,Ua)),u.join("")};function on(u){return new pe(u)}function Yi(u,m,v){u.j=v?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yr(u,m,v){m instanceof vr?(u.i=m,Uo(u.i,u.h)):(v||(m=Xi(m,Zc)),u.i=new vr(m,u.h))}function Yt(u,m,v){u.i.set(m,v)}function Qi(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Mo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,Ws=/[#\?:]/g,$c=/[#\?]/g,Zc=/[#\?@]/g,Ua=/#/g;function vr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Kc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=vr.prototype,a.add=function(u,m){_n(this),this.i=null,u=Hn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _r(u,m){_n(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Er(u,m){return _n(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(v,S){v.forEach(function(z){u.call(m,z,S,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const z=u[S];for(let K=0;K<z.length;K++)v.push(m[S])}return v},a.V=function(u){_n(this);let m=[];if(typeof u=="string")Er(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return _n(this),this.i=null,u=Hn(this,u),Er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function tl(u,m,v){_r(u,m),0<v.length&&(u.i=null,u.g.set(Hn(u,m),X(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const K=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var z=K;lt[S]!==""&&(z+="="+encodeURIComponent(String(lt[S]))),u.push(z)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Uo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(_r(this,S),tl(this,z,v))},u)),u.j=m}function Ki(u,m){const v=new yn;if(p.Image){const S=new Image;S.onload=U(En,v,"TestLoadImage: loaded",!0,m,S),S.onerror=U(En,v,"TestLoadImage: error",!1,m,S),S.onabort=U(En,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=U(En,v,"TestLoadImage: timeout",!1,m,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Vn(u,m){const v=new yn,S=new AbortController,z=setTimeout(()=>{S.abort(),En(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?En(v,"TestPingServer: ok",!0,m):En(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),En(v,"TestPingServer: error",!1,m)})}function En(u,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function $i(){this.g=new ki}function Fn(u,m,v){const S=v||"";try{Zs(u,function(z,K){let lt=z;y(z)&&(lt=On(z)),m.push(S+K+"="+encodeURIComponent(lt))})}catch(z){throw m.push(S+"type="+encodeURIComponent("_badmap")),z}}function $r(u){this.l=u.Ub||null,this.j=u.eb||!1}P($r,qs),$r.prototype.g=function(){return new Tr(this.l,this.j)},$r.prototype.i=function(u){return function(){return u}}({});function Tr(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Tr,le),a=Tr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Yn(this),this.readyState==3&&el(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nl(u){let m="";return yt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function xe(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=nl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Yt(u,m,v))}function kt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(kt,le);var Pa=/^https?$/i,Zi=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Hs(this.o):Hs(zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Po(this,K);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Zi,m,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of v)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Po(this,K)}};function Po(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,La(u),Qn(u)}function La(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},a.bb=function(){ja(this)};function ja(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const lt=u.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=lt===0){var z=String(u.D).match(Gi)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),S=!Pa.test(z?z.toLowerCase():"")}v=S}if(v)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var K=2<Tn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",La(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Ji(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{v.onreadystatechange=S}catch{}}}function Ji(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Da(m)}};function Lo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if($(u[S]))continue;var v=L(u[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[z]||[];m[z]=K,K.push(v)}O(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ba(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wi("baseRetryDelayMs",5e3,u),this.cb=Wi("retryDelaySeedMs",1e4,u),this.Wa=Wi("forwardChannelMaxRetries",2,u),this.wa=Wi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gr(u&&u.concurrentRequestLimit),this.Da=new $i,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ba.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,S){ee(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Fo(this,null,this.W),ka(this)};function rl(u){if(jo(u),u.G==3){var m=u.U++,v=on(u.I);if(Yt(v,"SID",u.K),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),ta(u,v),m=new Je(u,u.j,m),m.L=2,m.v=Qi(on(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=Go(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hi(m)}Ho(u)}function za(u){u.g&&(ea(u),u.g.cancel(),u.g=null)}function jo(u){za(u),u.u&&(p.clearTimeout(u.u),u.u=null),qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ka(u){if(!Oa(u.h)&&!u.s){u.s=!0;var m=u.Ga;ot||I(),mt||(ot(),mt=!0),Bt.add(m,u),u.B=0}}function Wc(u,m){return Ia(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(A(u.Ga,u,m),sl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Je(this,this.j,u);let K=this.o;if(this.S&&(K?(K=R(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Bo(this,z,m),v=on(this.I),Yt(v,"RID",u),Yt(v,"CVER",22),this.D&&Yt(v,"X-HTTP-Session-Id",this.D),ta(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(nl(K)))+"&"+m:this.m&&xe(v,this.m,K)),Va(this.h,z),this.Ua&&Yt(v,"TYPE","init"),this.P?(Yt(v,"$req",m),Yt(v,"SID","null"),z.T=!0,In(z,v,null)):In(z,v,m),this.G=2}}else this.G==3&&(u?il(this,u):this.i.length==0||Oa(this.h)||il(this))};function il(u,m){var v;m?v=m.l:v=u.U++;const S=on(u.I);Yt(S,"SID",u.K),Yt(S,"RID",v),Yt(S,"AID",u.T),ta(u,S),u.m&&u.o&&xe(S,u.m,u.o),v=new Je(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Bo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,v),In(v,S,m)}function ta(u,m){u.H&&yt(u.H,function(v,S){Yt(m,S,v)}),u.l&&Zs({},function(v,S){Yt(m,S,v)})}function Bo(u,m,v){v=Math.min(u.i.length,v);var S=u.l?A(u.l.Na,u.l,u):null;t:{var z=u.i;let K=-1;for(;;){const lt=["count="+v];K==-1?0<v?(K=z[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let Vt=!0;for(let Se=0;Se<v;Se++){let Mt=z[Se].g;const Ne=z[Se].map;if(Mt-=K,0>Mt)K=Math.max(0,z[Se].g-100),Vt=!1;else try{Fn(Ne,lt,"req"+Mt+"_")}catch{S&&S(Ne)}}if(Vt){S=lt.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,S}function zo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ot||I(),mt||(ot(),mt=!0),Bt.add(m,u),u.v=0}}function al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(A(u.Fa,u),sl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(A(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),za(this),ko(this))};function ea(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function ko(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),ta(u,m),u.m&&u.o&&xe(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Qi(on(m)),v.m=null,v.P=!0,pr(v,u)}a.Za=function(){this.C!=null&&(this.C=null,za(this),al(this),ee(19))};function qa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function qo(u,m){var v=null;if(u.g==m){qa(u),ea(u),u.g=null;var S=2}else if(Ks(u.h,m))v=m.D,We(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;S=Fr(),Ht(S,new Te(S,v)),ka(u)}else zo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(S==1&&Wc(u,m)||S==2&&al(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Sr(u,5);break;case 4:Sr(u,10);break;case 3:Sr(u,6);break;default:Sr(u,2)}}}function sl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Sr(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),S=u.Xa;const z=!S;S=new pe(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Yi(S,"https"),Qi(S),z?Ki(S.toString(),v):Vn(S.toString(),v)}else ee(2);u.G=0,u.l&&u.l.sa(m),Ho(u),jo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Ho(u){if(u.G=0,u.ka=[],u.l){const m=$s(u.h);(m.length!=0||u.i.length!=0)&&(k(u.ka,m),k(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function Fo(u,m,v){var S=v instanceof pe?on(v):new pe(v);if(S.g!="")m&&(S.g=m+"."+S.g),Kr(S,S.s);else{var z=p.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var K=new pe(null);S&&Yi(K,S),m&&(K.g=m),z&&Kr(K,z),v&&(K.l=v),S=K}return v=u.D,m=u.ya,v&&m&&Yt(S,v,m),Yt(S,"VER",u.la),ta(u,S),S}function Go(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new $r({eb:v})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}a=Yo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ha(){}Ha.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){le.call(this),this.g=new Ba(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!$(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!$(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}P(tn,le),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){rl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=On(u),u=v);m.i.push(new Vo(m.Ya++,u)),m.G==3&&ka(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,tn.aa.N.call(this)};function Qo(u){dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}P(Qo,dr);function Xo(){Gs.call(this),this.status=1}P(Xo,Gs);function Xn(u){this.g=u}P(Xn,Yo),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new Qo(u))},Xn.prototype.sa=function(u){Ht(this.g,new Xo)},Xn.prototype.ra=function(){Ht(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,c_=function(){return new Ha},u_=function(){return Fr()},o_=Bn,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,nc=Qr,mr.COMPLETE="complete",l_=mr,Fs.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",le.prototype.listen=le.prototype.K,Zl=Fs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,s_=kt}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Xy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new t_("@firebase/firestore");function _s(){return _a.logLevel}function ct(a,...e){if(_a.logLevel<=Lt.DEBUG){const r=e.map(Ud);_a.debug(`Firestore (${Vs}): ${a}`,...r)}}function Br(a,...e){if(_a.logLevel<=Lt.ERROR){const r=e.map(Ud);_a.error(`Firestore (${Vs}): ${a}`,...r)}}function wi(a,...e){if(_a.logLevel<=Lt.WARN){const r=e.map(Ud);_a.warn(`Firestore (${Vs}): ${a}`,...r)}}function Ud(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,h_(a,s,r)}function h_(a,e,r){let s=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Br(s),new Error(s)}function qt(a,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,a||h_(e,o,s)}function bt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Is{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ke.UNAUTHENTICATED))}shutdown(){}}class ES{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class TS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){qt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let c=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ai,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ai)}},0),d()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new f_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class SS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AS{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new SS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(qt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Ky(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<r&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function dd(a,e){let r=0;for(;r<a.length&&r<e.length;){const s=a.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=d_(),d=wS(c.encode($y(a,r)),c.encode($y(e,r)));return d!==0?d:Ct(s,o)}}r+=s>65535?2:1}return Ct(a.length,e.length)}function $y(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function wS(a,e){for(let r=0;r<a.length&&r<e.length;++r)if(a[r]!==e[r])return Ct(a[r],e[r]);return Ct(a.length,e.length)}function Cs(a,e,r){return a.length===e.length&&a.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__name__";class er{constructor(e,r,s){r===void 0?r=0:r>e.length&&Et(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Et(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const c=er.compareSegments(e.get(o),r.get(o));if(c!==0)return c}return Ct(e.length,r.length)}static compareSegments(e,r){const s=er.isNumericId(e),o=er.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?er.extractNumericId(e).compare(er.extractNumericId(r)):dd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Si.fromString(e.substring(4,e.length-2))}}class Wt extends er{construct(e,r,s){return new Wt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Wt(r)}static emptyPath(){return new Wt([])}}const CS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends er{construct(e,r,s){return new ke(e,r,s)}static isValidIdentifier(e){return CS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new ke([Zy])}static fromServerFormat(e){const r=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ft(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ft(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(r)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Wt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(a,e,r){if(!r)throw new ft(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function DS(a,e,r,s){if(e===!0&&s===!0)throw new ft(it.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Jy(a){if(!gt.isDocumentKey(a))throw new ft(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Wy(a){if(gt.isDocumentKey(a))throw new ft(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function p_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Ld(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function oo(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ld(a);throw new ft(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(a,e){const r={typeString:a};return e&&(r.value=e),r}function yo(a,e){if(!p_(a))throw new ft(it.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){r=`Expected '${s}' field to equal '${c.value}'`;break}}if(r)throw new ft(it.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-62135596800,ev=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*ev);return new te(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<tv)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:_e("string",te._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new te(0,0))}static max(){return new At(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function xS(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new te(r+1,0):new te(r,s));return new Ci(o,gt.empty(),e)}function NS(a){return new Ci(a.readTime,a.key,uo)}class Ci{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Ci(At.min(),gt.empty(),uo)}static max(){return new Ci(At.max(),gt.empty(),uo)}}function OS(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=gt.comparator(a.documentKey,e.documentKey),r!==0?r:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==IS)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,s)=>{r(e)})}static reject(e){return new et((r,s)=>{s(e)})}static waitFor(e){return new et((r,s)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&r()},g=>s(g))}),d=!0,c===o&&r()})}static or(e){let r=et.resolve(!1);for(const s of e)r=r.next(o=>o?et.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,c)=>{s.push(r.call(this,o,c))}),this.waitFor(s)}static mapArray(e,r){return new et((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;r(e[y]).next(E=>{d[y]=E,++p,p===c&&s(d)},E=>o(E))}})}static doWhile(e,r){return new et((s,o)=>{const c=()=>{e()===!0?r().next(()=>{c()},o):s()};c()})}}function MS(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Us(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this._e(s),this.ae=s=>r.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Cc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=-1;function Dc(a){return a==null}function mc(a){return a===0&&1/a==-1/0}function US(a){return typeof a=="number"&&Number.isInteger(a)&&!mc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="";function PS(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=nv(e)),e=LS(a.get(r),e);return nv(e)}function LS(a,e){let r=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":r+="";break;case g_:r+="";break;default:r+=c}}return r}function nv(a){return a+g_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ta(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function y_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,r){this.comparator=e,this.root=r||ze.EMPTY}insert(e,r){return new ae(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?s(e.key,r):1,r&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,r,s,o,c){this.key=e,this.value=r,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,c){return new ze(e??this.key,r??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,r,s),null):c===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,r,s,o,c){return this}insert(e,r,s){return new ze(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ce(this.comparator);return r.data=e,r}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Ln([])}unionWith(e){let r=new Ce(ke.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ln(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v_("Invalid base64 string: "+c):c}}(e);return new Fe(r)}static fromUint8Array(e){const r=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Fe(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const jS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const r=jS.exec(a);if(qt(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function xi(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="server_timestamp",E_="__type__",T_="__previous_value__",S_="__local_write_time__";function Bd(a){var e,r;return((r=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[E_])===null||r===void 0?void 0:r.stringValue)===__}function xc(a){const e=a.mapValue.fields[T_];return Bd(e)?xc(e):e}function co(a){const e=Di(a.mapValue.fields[S_].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,r,s,o,c,d,p,g,y,E){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const pc="(default)";class ho{constructor(e,r){this.projectId=e,this.database=r||pc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",zS="__max__",Zu={mapValue:{}},b_="__vector__",gc="value";function Ni(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Bd(a)?4:qS(a)?9007199254740991:kS(a)?10:11:Et(28295,{value:a})}function lr(a,e){if(a===e)return!0;const r=Ni(a);if(r!==Ni(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return co(a).isEqual(co(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Di(o.timestampValue),p=Di(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return xi(o.bytesValue).isEqual(xi(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),p=de(c.doubleValue);return d===p?mc(d)===mc(p):isNaN(d)&&isNaN(p)}return!1}(a,e);case 9:return Cs(a.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(rv(d)!==rv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!lr(d[g],p[g])))return!1;return!0}(a,e);default:return Et(52216,{left:a})}}function fo(a,e){return(a.values||[]).find(r=>lr(r,e))!==void 0}function Ds(a,e){if(a===e)return 0;const r=Ni(a),s=Ni(e);if(r!==s)return Ct(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const p=de(c.integerValue||c.doubleValue),g=de(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(a,e);case 3:return av(a.timestampValue,e.timestampValue);case 4:return av(co(a),co(e));case 5:return dd(a.stringValue,e.stringValue);case 6:return function(c,d){const p=xi(c),g=xi(d);return p.compareTo(g)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Ct(p[y],g[y]);if(E!==0)return E}return Ct(p.length,g.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Ct(de(c.latitude),de(d.latitude));return p!==0?p:Ct(de(c.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return sv(a.arrayValue,e.arrayValue);case 10:return function(c,d){var p,g,y,E;const w=c.fields||{},A=d.fields||{},U=(p=w[gc])===null||p===void 0?void 0:p.arrayValue,P=(g=A[gc])===null||g===void 0?void 0:g.arrayValue,X=Ct(((y=U?.values)===null||y===void 0?void 0:y.length)||0,((E=P?.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:sv(U,P)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===Zu.mapValue&&d===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const A=dd(g[w],E[w]);if(A!==0)return A;const U=Ds(p[g[w]],y[E[w]]);if(U!==0)return U}return Ct(g.length,E.length)}(a.mapValue,e.mapValue);default:throw Et(23264,{le:r})}}function av(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const r=Di(a),s=Di(e),o=Ct(r.seconds,s.seconds);return o!==0?o:Ct(r.nanos,s.nanos)}function sv(a,e){const r=a.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const c=Ds(r[o],s[o]);if(c)return c}return Ct(r.length,s.length)}function xs(a){return md(a)}function md(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=Di(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(r){return xi(r).toBase64()}(a.bytesValue):"referenceValue"in a?function(r){return gt.fromName(r).toString()}(a.referenceValue):"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",o=!0;for(const c of r.values||[])o?o=!1:s+=",",s+=md(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${md(r.fields[d])}`;return o+"}"}(a.mapValue):Et(61005,{value:a})}function rc(a){switch(Ni(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(a);return e?16+rc(e):16;case 5:return 2*a.stringValue.length;case 6:return xi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+rc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Ta(s.fields,(c,d)=>{o+=c.length+rc(d)}),o}(a.mapValue);default:throw Et(13486,{value:a})}}function pd(a){return!!a&&"integerValue"in a}function zd(a){return!!a&&"arrayValue"in a}function lv(a){return!!a&&"nullValue"in a}function ov(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ic(a){return!!a&&"mapValue"in a}function kS(a){var e,r;return((r=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[A_])===null||r===void 0?void 0:r.stringValue)===b_}function eo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ta(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=eo(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=eo(a.arrayValue.values[r]);return e}return Object.assign({},a)}function qS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ic(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(r)}setAll(e){let r=ke.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!r.isImmediateParentOf(p)){const g=this.getFieldsMap(r);this.applyChanges(g,s,o),s={},o=[],r=p.popLast()}d?s[p.lastSegment()]=eo(d):o.push(p.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,s,o)}delete(e){const r=this.field(e.popLast());ic(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Ta(r,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new xn(eo(this.value))}}function R_(a){const e=[];return Ta(a.fields,(r,s)=>{const o=new ke([r]);if(ic(s)){const c=R_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,r,s,o,c,d,p){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new $e(e,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(e,r,s,o){return new $e(e,1,r,At.min(),s,o,0)}static newNoDocument(e,r){return new $e(e,2,r,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(e,r){return new $e(e,3,r,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,r){this.position=e,this.inclusive=r}}function uv(a,e,r){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),r.key):s=Ds(d,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function cv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!lr(a.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,r="asc"){this.field=e,this.dir=r}}function HS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{}class we extends w_{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new GS(e,r,s):r==="array-contains"?new XS(e,s):r==="in"?new KS(e,s):r==="not-in"?new $S(e,s):r==="array-contains-any"?new ZS(e,s):new we(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new YS(e,s):new QS(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ds(r,this.value)):r!==null&&Ni(this.value)===Ni(r)&&this.matchesComparison(Ds(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends w_{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new or(e,r)}matches(e){return C_(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function C_(a){return a.op==="and"}function D_(a){return FS(a)&&C_(a)}function FS(a){for(const e of a.filters)if(e instanceof or)return!1;return!0}function gd(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+xs(a.value);if(D_(a))return a.filters.map(e=>gd(e)).join(",");{const e=a.filters.map(r=>gd(r)).join(",");return`${a.op}(${e})`}}function x_(a,e){return a instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&lr(s.value,o.value)}(a,e):a instanceof or?function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,p)=>c&&x_(d,o.filters[p]),!0):!1}(a,e):void Et(19439)}function N_(a){return a instanceof we?function(r){return`${r.field.canonicalString()} ${r.op} ${xs(r.value)}`}(a):a instanceof or?function(r){return r.op.toString()+" {"+r.getFilters().map(N_).join(" ,")+"}"}(a):"Filter"}class GS extends we{constructor(e,r,s){super(e,r,s),this.key=gt.fromName(s.referenceValue)}matches(e){const r=gt.comparator(e.key,this.key);return this.matchesComparison(r)}}class YS extends we{constructor(e,r){super(e,"in",r),this.keys=O_("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class QS extends we{constructor(e,r){super(e,"not-in",r),this.keys=O_("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function O_(a,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>gt.fromName(s.referenceValue))}class XS extends we{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return zd(r)&&fo(r.arrayValue,this.value)}}class KS extends we{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&fo(this.value.arrayValue,r)}}class $S extends we{constructor(e,r){super(e,"not-in",r)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!fo(this.value.arrayValue,r)}}class ZS extends we{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!zd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>fo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,r=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function hv(a,e=null,r=[],s=[],o=null,c=null,d=null){return new JS(a,e,r,s,o,c,d)}function kd(a){const e=bt(a);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>gd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Dc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>xs(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>xs(s)).join(",")),e.Pe=r}return e.Pe}function qd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!HS(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!x_(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!cv(a.startAt,e.startAt)&&cv(a.endAt,e.endAt)}function yd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function WS(a,e,r,s,o,c,d,p){return new Nc(a,e,r,s,o,c,d,p)}function I_(a){return new Nc(a)}function fv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function tA(a){return a.collectionGroup!==null}function no(a){const e=bt(a);if(e.Te===null){e.Te=[];const r=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),r.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ce(ke.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.Te.push(new vc(c,s))}),r.has(ke.keyField().canonicalString())||e.Te.push(new vc(ke.keyField(),s))}return e.Te}function nr(a){const e=bt(a);return e.Ie||(e.Ie=eA(e,no(a))),e.Ie}function eA(a,e){if(a.limitType==="F")return hv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new vc(o.field,c)});const r=a.endAt?new yc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new yc(a.startAt.position,a.startAt.inclusive):null;return hv(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}function vd(a,e,r){return new Nc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Oc(a,e){return qd(nr(a),nr(e))&&a.limitType===e.limitType}function V_(a){return`${kd(nr(a))}|lt:${a.limitType}`}function Es(a){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>N_(o)).join(", ")}]`),Dc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>xs(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>xs(o)).join(",")),`Target(${s})`}(nr(a))}; limitType=${a.limitType})`}function Ic(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of no(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,p,g){const y=uv(d,p,g);return d.inclusive?y<=0:y<0}(s.startAt,no(s),o)||s.endAt&&!function(d,p,g){const y=uv(d,p,g);return d.inclusive?y>=0:y>0}(s.endAt,no(s),o))}(a,e)}function nA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function M_(a){return(e,r)=>{let s=!1;for(const o of no(a)){const c=rA(o,e,r);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function rA(a,e,r){const s=a.field.isKeyField()?gt.comparator(e.key,r.key):function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Ds(g,y):Et(42886)}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(r,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new ae(gt.comparator);function zr(){return iA}const U_=new ae(gt.comparator);function Jl(...a){let e=U_;for(const r of a)e=e.insert(r.key,r);return e}function P_(a){let e=U_;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function va(){return ro()}function L_(){return ro()}function ro(){return new Sa(a=>a.toString(),(a,e)=>a.isEqual(e))}const aA=new ae(gt.comparator),sA=new Ce(gt.comparator);function It(...a){let e=sA;for(const r of a)e=e.add(r);return e}const lA=new Ce(Ct);function oA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function j_(a){return{integerValue:""+a}}function uA(a,e){return US(e)?j_(e):Hd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function cA(a,e,r){return a instanceof _c?function(o,c){const d={fields:{[E_]:{stringValue:__},[S_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bd(c)&&(c=xc(c)),c&&(d.fields[T_]=c),{mapValue:d}}(r,e):a instanceof mo?z_(a,e):a instanceof po?k_(a,e):function(o,c){const d=B_(o,c),p=dv(d)+dv(o.Ee);return pd(d)&&pd(o.Ee)?j_(p):Hd(o.serializer,p)}(a,e)}function hA(a,e,r){return a instanceof mo?z_(a,e):a instanceof po?k_(a,e):r}function B_(a,e){return a instanceof Ec?function(s){return pd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class _c extends Vc{}class mo extends Vc{constructor(e){super(),this.elements=e}}function z_(a,e){const r=q_(e);for(const s of a.elements)r.some(o=>lr(o,s))||r.push(s);return{arrayValue:{values:r}}}class po extends Vc{constructor(e){super(),this.elements=e}}function k_(a,e){let r=q_(e);for(const s of a.elements)r=r.filter(o=>!lr(o,s));return{arrayValue:{values:r}}}class Ec extends Vc{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function dv(a){return de(a.integerValue||a.doubleValue)}function q_(a){return zd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function fA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof mo&&o instanceof mo||s instanceof po&&o instanceof po?Cs(s.elements,o.elements,lr):s instanceof Ec&&o instanceof Ec?lr(s.Ee,o.Ee):s instanceof _c&&o instanceof _c}(a.transform,e.transform)}class dA{constructor(e,r){this.version=e,this.transformResults=r}}class rr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mc{}function H_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Fd(a.key,rr.none()):new vo(a.key,a.data,rr.none());{const r=a.data,s=xn.empty();let o=new Ce(ke.comparator);for(let c of e.fields)if(!o.has(c)){let d=r.field(c);d===null&&c.length>1&&(c=c.popLast(),d=r.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Aa(a.key,s,new Ln(o.toArray()),rr.none())}}function mA(a,e,r){a instanceof vo?function(o,c,d){const p=o.value.clone(),g=pv(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,r):a instanceof Aa?function(o,c,d){if(!ac(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=pv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(F_(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,r):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,r)}function io(a,e,r,s){return a instanceof vo?function(c,d,p,g){if(!ac(c.precondition,d))return p;const y=c.value.clone(),E=gv(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,r,s):a instanceof Aa?function(c,d,p,g){if(!ac(c.precondition,d))return p;const y=gv(c.fieldTransforms,g,d),E=d.data;return E.setAll(F_(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(a,e,r,s):function(c,d,p){return ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(a,e,r)}function pA(a,e){let r=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=B_(s.transform,o||null);c!=null&&(r===null&&(r=xn.empty()),r.set(s.field,c))}return r||null}function mv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Cs(s,o,(c,d)=>fA(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class vo extends Mc{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends Mc{constructor(e,r,s,o,c=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function F_(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function pv(a,e,r){const s=new Map;qt(a.length===r.length,32656,{Ae:r.length,Re:a.length});for(let o=0;o<r.length;o++){const c=a[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,hA(d,p,r[o]))}return s}function gv(a,e,r){const s=new Map;for(const o of a){const c=o.transform,d=r.data.field(o.field);s.set(o.field,cA(c,d,e))}return s}class Fd extends Mc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gA extends Mc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mA(c,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=io(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=io(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=L_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=r.has(o.key)?null:p;const g=H_(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),It())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(r,s)=>mv(r,s))&&Cs(this.baseMutations,e.baseMutations,(r,s)=>mv(r,s))}}class Gd{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){qt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return aA}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Gd(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Pt;function EA(a){switch(a){case it.OK:return Et(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function G_(a){if(a===void 0)return Br("GRPC error has no .code"),it.UNKNOWN;switch(a){case ve.OK:return it.OK;case ve.CANCELLED:return it.CANCELLED;case ve.UNKNOWN:return it.UNKNOWN;case ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case ve.INTERNAL:return it.INTERNAL;case ve.UNAVAILABLE:return it.UNAVAILABLE;case ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case ve.NOT_FOUND:return it.NOT_FOUND;case ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case ve.ABORTED:return it.ABORTED;case ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case ve.DATA_LOSS:return it.DATA_LOSS;default:return Et(39323,{code:a})}}(Pt=ve||(ve={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new Si([4294967295,4294967295],0);function yv(a){const e=d_().encode(a),r=new a_;return r.update(e),new Uint8Array(r.digest())}function vv(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Si([r,s],0),new Si([o,c],0)]}class Yd{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Wl(`Invalid padding: ${r}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Si.fromNumber(this.fe)}pe(e,r,s){let o=e.add(r.multiply(Si.fromNumber(s)));return o.compare(TA)===1&&(o=new Si([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=yv(e),[s,o]=vv(r);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Yd(c,o,r);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const r=yv(e),[s,o]=vv(r);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r,s,o,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Uc(At.min(),o,new ae(Ct),zr(),It())}}class _o{constructor(e,r,s,o,c){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new _o(s,r,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,r,s,o){this.Se=e,this.removedTargetIds=r,this.key=s,this.be=o}}class Y_{constructor(e,r){this.targetId=e,this.De=r}}class Q_{constructor(e,r,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class _v{constructor(){this.ve=0,this.Ce=Ev(),this.Fe=Fe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=It(),r=It(),s=It();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:c})}}),new _o(this.Fe,this.Me,e,r,s)}ke(){this.xe=!1,this.Ce=Ev()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class SA{constructor(e){this.We=e,this.Ge=new Map,this.ze=zr(),this.je=Ju(),this.Je=Ju(),this.He=new ae(Ct)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,r=>{const s=this.tt(r);switch(e.state){case 0:this.nt(r)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),s.Be(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach((s,o)=>{this.nt(o)&&r(o)})}it(e){const r=e.targetId,s=e.De.count,o=this.st(r);if(o){const c=o.target;if(yd(c))if(s===0){const d=new gt(c.path);this.Xe(r,d,$e.newNoDocument(d,At.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ot(r);if(d!==s){const p=this._t(e),g=p?this.ut(p,e,d):1;if(g!==0){this.rt(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,y)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=r;let d,p;try{d=xi(s).toUint8Array()}catch(g){if(g instanceof v_)return wi("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Yd(d,o,c)}catch(g){return wi(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,r,s){return r.De.count===s-this.ht(e,r.targetId)?0:2}ht(e,r){const s=this.We.getRemoteKeysForTarget(r);let o=0;return s.forEach(c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.Xe(r,c,null),o++)}),o}Pt(e){const r=new Map;this.Ge.forEach((c,d)=>{const p=this.st(d);if(p){if(c.current&&yd(p.target)){const g=new gt(p.target.path);this.Tt(g).has(d)||this.It(d,g)||this.Xe(d,g,$e.newNoDocument(g,e))}c.Ne&&(r.set(d,c.Le()),c.ke())}});let s=It();this.Je.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Uc(e,r,this.He,this.ze,s);return this.ze=zr(),this.je=Ju(),this.Je=Ju(),this.He=new ae(Ct),o}Ze(e,r){if(!this.nt(e))return;const s=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,s),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,r)?o.qe(r,1):o.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),s&&(this.ze=this.ze.insert(r,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new _v,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Ce(Ct),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Ce(Ct),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||ct("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _v),this.We.getRemoteKeysForTarget(e).forEach(r=>{this.Xe(e,r,null)})}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function Ju(){return new ae(gt.comparator)}function Ev(){return new ae(gt.comparator)}const AA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RA={and:"AND",or:"OR"};class wA{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function _d(a,e){return a.useProto3Json||Dc(e)?e:{value:e}}function Tc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function CA(a,e){return Tc(a,e.toTimestamp())}function ir(a){return qt(!!a,49232),At.fromTimestamp(function(r){const s=Di(r);return new te(s.seconds,s.nanos)}(a))}function Qd(a,e){return Ed(a,e).canonicalString()}function Ed(a,e){const r=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?r:r.child(e)}function K_(a){const e=Wt.fromString(a);return qt(t0(e),10190,{key:e.toString()}),e}function Td(a,e){return Qd(a.databaseId,e.path)}function ed(a,e){const r=K_(e);if(r.get(1)!==a.databaseId.projectId)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new gt(Z_(r))}function $_(a,e){return Qd(a.databaseId,e)}function DA(a){const e=K_(a);return e.length===4?Wt.emptyPath():Z_(e)}function Sd(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Z_(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Tv(a,e,r){return{name:Td(a,e),fields:r.value.mapValue.fields}}function xA(a,e){let r;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const E=y.code===void 0?it.UNKNOWN:G_(y.code);return new ft(E,y.message||"")}(d);r=new Q_(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ed(a,s.document.name),c=ir(s.document.updateTime),d=s.document.createTime?ir(s.document.createTime):At.min(),p=new xn({mapValue:{fields:s.document.fields}}),g=$e.newFoundDocument(o,c,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];r=new sc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ed(a,s.document),c=s.readTime?ir(s.readTime):At.min(),d=$e.newNoDocument(o,c),p=s.removedTargetIds||[];r=new sc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ed(a,s.document),c=s.removedTargetIds||[];r=new sc([],c,o,null)}else{if(!("filter"in e))return Et(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new _A(o,c),p=s.targetId;r=new Y_(p,d)}}return r}function NA(a,e){let r;if(e instanceof vo)r={update:Tv(a,e.key,e.value)};else if(e instanceof Fd)r={delete:Td(a,e.key)};else if(e instanceof Aa)r={update:Tv(a,e.key,e.data),updateMask:BA(e.fieldMask)};else{if(!(e instanceof gA))return Et(16599,{Rt:e.type});r={verify:Td(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const p=d.transform;if(p instanceof _c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ec)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw Et(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:CA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(a,e.precondition)),r}function OA(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(r=>function(o,c){let d=o.updateTime?ir(o.updateTime):ir(c);return d.isEqual(At.min())&&(d=ir(c)),new dA(d,o.transformResults||[])}(r,e))):[]}function IA(a,e){return{documents:[$_(a,e.path)]}}function VA(a,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=$_(a,o);const c=function(y){if(y.length!==0)return W_(or.create(y,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Ts(A.field),direction:PA(A.dir)}}(E))}(e.orderBy);d&&(r.structuredQuery.orderBy=d);const p=_d(a,e.limit);return p!==null&&(r.structuredQuery.limit=p),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:r,parent:o}}function MA(a){let e=DA(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];r.where&&(c=function(w){const A=J_(w);return A instanceof or&&D_(A)?A.getFilters():[A]}(r.where));let d=[];r.orderBy&&(d=function(w){return w.map(A=>function(P){return new vc(Ss(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(r.orderBy));let p=null;r.limit&&(p=function(w){let A;return A=typeof w=="object"?w.value:w,Dc(A)?null:A}(r.limit));let g=null;r.startAt&&(g=function(w){const A=!!w.before,U=w.values||[];return new yc(U,A)}(r.startAt));let y=null;return r.endAt&&(y=function(w){const A=!w.before,U=w.values||[];return new yc(U,A)}(r.endAt)),WS(e,o,d,c,p,"F",g,y)}function UA(a,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function J_(a){return a.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ss(r.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ss(r.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ss(r.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ss(r.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(a):a.fieldFilter!==void 0?function(r){return we.create(Ss(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(r){return or.create(r.compositeFilter.filters.map(s=>J_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(r.compositeFilter.op))}(a):Et(30097,{filter:a})}function PA(a){return AA[a]}function LA(a){return bA[a]}function jA(a){return RA[a]}function Ts(a){return{fieldPath:a.canonicalString()}}function Ss(a){return ke.fromServerFormat(a.fieldPath)}function W_(a){return a instanceof we?function(r){if(r.op==="=="){if(ov(r.value))return{unaryFilter:{field:Ts(r.field),op:"IS_NAN"}};if(lv(r.value))return{unaryFilter:{field:Ts(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ov(r.value))return{unaryFilter:{field:Ts(r.field),op:"IS_NOT_NAN"}};if(lv(r.value))return{unaryFilter:{field:Ts(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(r.field),op:LA(r.op),value:r.value}}}(a):a instanceof or?function(r){const s=r.getFilters().map(o=>W_(o));return s.length===1?s[0]:{compositeFilter:{op:jA(r.op),filters:s}}}(a):Et(54877,{filter:a})}function BA(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function t0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,r,s,o,c=At.min(),d=At.min(),p=Fe.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.gt=e}}function kA(a){const e=MA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Dn=new HA}addToCollectionParentIndex(e,r){return this.Dn.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(Ci.min())}updateCollectionGroup(e,r,s){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class HA{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Ce(Wt.comparator),c=!o.has(s);return this.index[r]=o.add(s),c}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ce(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(e0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ns(0)}static ur(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",FA=1048576;function bv([a,e],[r,s]){const o=Ct(a,r);return o===0?Ct(e,s):o}class GA{constructor(e){this.Tr=e,this.buffer=new Ce(bv),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();bv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ct(Av,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Us(r)?ct(Av,"Ignoring IndexedDB error during garbage collection: ",r):await Ms(r)}await this.Rr(3e5)})}}class QA{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return et.resolve(Cc.ue);const s=new GA(r);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.Vr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Sv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.pr(e,r))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let s,o,c,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,p=Date.now(),this.removeTargets(e,s,r))).next(w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),_s()<=Lt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function XA(a,e){return new QA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.changes=new Sa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?et.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&io(s.mutation,o,Ln.empty(),te.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,r,s=It()){const o=va();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(c=>{let d=Jl();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,r){const s=va();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,It()))}populateOverlays(e,r,s){const o=[];return s.forEach(c=>{r.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{r.set(d,p)})})}computeViews(e,r,s,o){let c=zr();const d=ro(),p=function(){return ro()}();return r.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Aa)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),io(E.mutation,y,E.mutation.getFieldMask(),te.now())):d.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,E)=>d.set(y,E)),r.forEach((y,E)=>{var w;return p.set(y,new $A(E,(w=d.get(y))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,r){const s=ro();let o=new ae((d,p)=>d-p),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(d=>{for(const p of d)p.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=s.get(g)||Ln.empty();E=p.applyToLocalView(y,E),s.set(g,E);const w=(o.get(p.batchId)||It()).add(g);o=o.insert(p.batchId,w)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,w=L_();E.forEach(A=>{if(!c.has(A)){const U=H_(r.get(A),s.get(A));U!==null&&w.set(A,U),c=c.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return et.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):tA(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-c.size):et.resolve(va());let p=uo,g=c;return d.next(y=>et.forEach(y,(E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,It())).next(E=>({batchId:p,changes:P_(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new gt(r)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const c=r.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,c).next(p=>et.forEach(p,g=>{const y=function(w,A){return new Nc(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(r,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,A)=>{d=d.insert(w,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,r,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,c,o))).next(d=>{c.forEach((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,$e.newInvalidDocument(E)))});let p=Jl();return d.forEach((g,y)=>{const E=c.get(g);E!==void 0&&io(E.mutation,y,Ln.empty(),te.now()),Ic(r,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return et.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}}(r)),et.resolve()}getNamedQuery(e,r){return et.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,function(o){return{name:o.name,query:kA(o.bundledQuery),readTime:ir(o.readTime)}}(r)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.overlays=new ae(gt.comparator),this.kr=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const s=va();return et.forEach(r,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,c)=>{this.wt(e,r,c)}),et.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),et.resolve()}getOverlaysForCollection(e,r,s){const o=va(),c=r.length+1,d=new gt(r.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return et.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let c=new ae((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=va(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=va(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return et.resolve(p)}wt(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vA(r,s));let c=this.kr.get(r);c===void 0&&(c=It(),this.kr.set(r,c)),this.kr.set(r,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.qr=new Ce(Me.Qr),this.$r=new Ce(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const s=new Me(e,r);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Wr(new Me(e,r))}Gr(e,r){e.forEach(s=>this.removeReference(s,r))}zr(e){const r=new gt(new Wt([])),s=new Me(r,e),o=new Me(r,e+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new gt(new Wt([])),s=new Me(r,e),o=new Me(r,e+1);let c=It();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const r=new Me(e,0),s=this.qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return gt.comparator(e.key,r.key)||Ct(e.Hr,r.Hr)}static Ur(e,r){return Ct(e.Hr,r.Hr)||gt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Ce(Me.Qr)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(c,r,s,o);this.mutationQueue.push(d);for(const p of o)this.Yr=this.Yr.add(new Me(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,r){return et.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Xr(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?jd:this.er-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Me(r,0),o=new Me(r,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const p=this.Zr(d.Hr);c.push(p)}),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Ce(Ct);return r.forEach(o=>{const c=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],p=>{s=s.add(p.Hr)})}),et.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new gt(c),0);let p=new Ce(Ct);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)},d),et.resolve(this.ei(p))}ei(e){const r=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){qt(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return et.forEach(r.mutations,o=>{const c=new Me(o.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,r){const s=new Me(r,0),o=this.Yr.firstAfterOrEqual(s);return et.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.ni=e,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return et.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(r))}getEntries(e,r){let s=zr();return r.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let c=zr();const d=r.path,p=new gt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||OS(NS(E),s)<=0||(o.has(E.key)||Ic(r,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,r,s,o){Et(9500)}ri(e,r){return et.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new rb(this)}getSize(e){return et.resolve(this.size)}}class rb extends KA{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),et.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.persistence=e,this.ii=new Sa(r=>kd(r),qd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new Xd,this.targetCount=0,this._i=Ns.ar()}forEachTarget(e,r){return this.ii.forEach((s,o)=>r(o)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.si&&(this.si=r),et.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Ns(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.hr(r),et.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,s){let o=0;const c=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=r&&s.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),et.waitFor(c).next(()=>o)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const s=this.ii.get(r)||null;return et.resolve(s)}addMatchingKeys(e,r,s){return this.oi.Kr(r,s),et.resolve()}removeMatchingKeys(e,r,s){this.oi.Gr(r,s);const o=this.persistence.referenceDelegate,c=[];return o&&r.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),et.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const s=this.oi.Jr(r);return et.resolve(s)}containsKey(e,r){return et.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r){this.ai={},this.overlays={},this.ui=new Cc(0),this.ci=!1,this.ci=!0,this.li=new tb,this.referenceDelegate=e(this),this.hi=new ib(this),this.indexManager=new qA,this.remoteDocumentCache=function(o){return new nb(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new zA(r),this.Ti=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new WA,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ai[e.toKey()];return s||(s=new eb(r,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,s){ct("MemoryPersistence","Starting transaction:",e);const o=new ab(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,r){return et.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,r)))}}class ab extends VS{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.Ai=new Xd,this.Ri=null}static Vi(e){return new Kd(e)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(e,r,s){return this.Ai.addReference(s,r),this.mi.delete(s.toString()),et.resolve()}removeReference(e,r,s){return this.Ai.removeReference(s,r),this.mi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),et.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,r))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.mi,s=>{const o=gt.fromPath(s);return this.fi(e,o).next(c=>{c||r.removeEntry(o,At.min())})}).next(()=>(this.Ri=null,r.apply(e)))}updateLimboDocument(e,r){return this.fi(e,r).next(s=>{s?this.mi.delete(r.toString()):this.mi.add(r.toString())})}Pi(e){return 0}fi(e,r){return et.or([()=>et.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Sc{constructor(e,r){this.persistence=e,this.gi=new Sa(s=>PS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=XA(this,r)}static Vi(e,r){return new Sc(e,r)}Ii(){}di(e){return et.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}yr(e){let r=0;return this.gr(e,s=>{r++}).next(()=>r)}gr(e,r){return et.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(c=>c?et.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,r).next(p=>{p||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),et.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.gi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,r,s){return this.gi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),et.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=rc(e.data.value)),r}Sr(e,r,s){return et.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.gi.get(r);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Is=s,this.ds=o}static Es(e,r){let s=It(),o=It();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $d(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return WT()?8:MS(ZT())>0?6:4}()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,s,o){const c={result:null};return this.ps(e,r).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,r,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new sb;return this.ws(e,r,d).next(p=>{if(c.result=p,this.Rs)return this.Ss(e,r,d,p.size)})}).next(()=>c.result)}Ss(e,r,s,o){return s.documentReadCount<this.Vs?(_s()<=Lt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Es(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(_s()<=Lt.DEBUG&&ct("QueryEngine","Query:",Es(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(_s()<=Lt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Es(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(r))):et.resolve())}ps(e,r){if(fv(r))return et.resolve(null);let s=nr(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=vd(r,null,"F"),s=nr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=It(...c);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.bs(r,p);return this.Ds(r,y,d,g.readTime)?this.ps(e,vd(r,null,"F")):this.vs(e,y,r,g)}))})))}ys(e,r,s,o){return fv(r)||o.isEqual(At.min())?et.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(r,c);return this.Ds(r,d,s,o)?et.resolve(null):(_s()<=Lt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Es(r)),this.vs(e,d,r,xS(o,uo)).next(p=>p))})}bs(e,r){let s=new Ce(M_(e));return r.forEach((o,c)=>{Ic(e,c)&&(s=s.add(c))}),s}Ds(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,r,s){return _s()<=Lt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Es(r)),this.gs.getDocumentsMatchingQuery(e,r,Ci.min(),s)}vs(e,r,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(c=>(r.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="LocalStore",ob=3e8;class ub{constructor(e,r,s,o){this.persistence=e,this.Cs=r,this.serializer=o,this.Fs=new ae(Ct),this.Ms=new Sa(c=>kd(c),qd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Fs))}}function cb(a,e,r,s){return new ub(a,e,r,s)}async function r0(a,e){const r=bt(a);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,r.Ns(e),r.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],p=[];let g=It();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(s,g).next(y=>({Bs:y,removedBatchIds:d,addedBatchIds:p}))})})}function hb(a,e){const r=bt(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=r.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const w=y.batch,A=w.keys();let U=et.resolve();return A.forEach(P=>{U=U.next(()=>E.getEntry(g,P)).next(X=>{const k=y.docVersions.get(P);qt(k!==null,48541),X.version.compareTo(k)<0&&(w.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))})}),U.next(()=>p.mutationQueue.removeMutationBatch(g,w))}(r,s,e,c).next(()=>c.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=It();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function i0(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.hi.getLastRemoteSnapshotVersion(r))}function fb(a,e){const r=bt(a),s=e.snapshotVersion;let o=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=r.Os.newChangeBuffer({trackRemovals:!0});o=r.Fs;const p=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;p.push(r.hi.removeMatchingKeys(c,E.removedDocuments,w).next(()=>r.hi.addMatchingKeys(c,E.addedDocuments,w)));let U=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?U=U.withResumeToken(Fe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(w,U),function(X,k,C){return X.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=ob?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(A,U,E)&&p.push(r.hi.updateTargetData(c,U))});let g=zr(),y=It();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(c,E))}),p.push(db(c,d,e.documentUpdates).next(E=>{g=E.Ls,y=E.ks})),!s.isEqual(At.min())){const E=r.hi.getLastRemoteSnapshotVersion(c).next(w=>r.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(E)}return et.waitFor(p).next(()=>d.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(r.Fs=o,c))}function db(a,e,r){let s=It(),o=It();return r.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=zr();return r.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ct(Zd,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{Ls:d,ks:o}})}function mb(a,e){const r=bt(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jd),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pb(a,e){const r=bt(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.hi.getTargetData(s,e).next(c=>c?(o=c,et.resolve(o)):r.hi.allocateTargetId(s).next(d=>(o=new _i(e,d,"TargetPurposeListen",s.currentSequenceNumber),r.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(s.targetId,s),r.Ms.set(e,s.targetId)),s})}async function Ad(a,e,r){const s=bt(a),o=s.Fs.get(e),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Us(d))throw d;ct(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Rv(a,e,r){const s=bt(a);let o=At.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,E){const w=bt(g),A=w.Ms.get(E);return A!==void 0?et.resolve(w.Fs.get(A)):w.hi.getTargetData(y,E)}(s,d,nr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,r?o:At.min(),r?c:It())).next(p=>(gb(s,nA(e),p),{documents:p,qs:c})))}function gb(a,e,r){let s=a.xs.get(e)||At.min();r.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.xs.set(e,s)}class wv{constructor(){this.activeTargetIds=oA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yb{constructor(){this.Fo=new wv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,s){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new wv,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Dv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(Cv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ct(Cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function bd(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="RestConnection",_b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eb{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,r,s,o,c){const d=bd(),p=this.Go(e,r.toUriEncodedString());ct(nd,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,c);const{host:y}=new URL(p),E=Id(y);return this.jo(e,p,g,s,E).then(w=>(ct(nd,`Received RPC '${e}' ${d}: `,w),w),w=>{throw wi(nd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",s),w})}Jo(e,r,s,o,c,d){return this.Wo(e,r,s,o,c)}zo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}Go(e,r){const s=_b[e];return`${this.$o}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class Sb extends Eb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,s,o,c){const d=bd();return new Promise((p,g)=>{const y=new s_;y.setWithCredentials(!0),y.listenOnce(l_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case nc.NO_ERROR:const w=y.getResponseJson();ct(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case nc.TIMEOUT:ct(Xe,`RPC '${e}' ${d} timed out`),g(new ft(it.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const A=y.getStatus();if(ct(Xe,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const P=U?.error;if(P&&P.status&&P.message){const X=function(C){const $=C.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf($)>=0?$:it.UNKNOWN}(P.status);g(new ft(X,P.message))}else g(new ft(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ft(it.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:e,streamId:d,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ct(Xe,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ct(Xe,`RPC '${e}' ${d} sending request:`,o),y.send(r,"POST",E,s,15)})}P_(e,r,s){const o=bd(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=c_(),p=u_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ct(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=d.createWebChannel(E,g);this.T_(w);let A=!1,U=!1;const P=new Tb({Ho:k=>{U?ct(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(ct(Xe,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ct(Xe,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Yo:()=>w.close()}),X=(k,C,$)=>{k.listen(C,Q=>{try{$(Q)}catch(nt){setTimeout(()=>{throw nt},0)}})};return X(w,Zl.EventType.OPEN,()=>{U||(ct(Xe,`RPC '${e}' stream ${o} transport opened.`),P.s_())}),X(w,Zl.EventType.CLOSE,()=>{U||(U=!0,ct(Xe,`RPC '${e}' stream ${o} transport closed`),P.__(),this.I_(w))}),X(w,Zl.EventType.ERROR,k=>{U||(U=!0,wi(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.__(new ft(it.UNAVAILABLE,"The operation could not be completed")))}),X(w,Zl.EventType.MESSAGE,k=>{var C;if(!U){const $=k.data[0];qt(!!$,16349);const Q=$,nt=Q?.error||((C=Q[0])===null||C===void 0?void 0:C.error);if(nt){ct(Xe,`RPC '${e}' stream ${o} received error:`,nt);const at=nt.status;let yt=function(D){const V=ve[D];if(V!==void 0)return G_(V)}(at),O=nt.message;yt===void 0&&(yt=it.INTERNAL,O="Unknown error status: "+at+" with message "+nt.message),U=!0,P.__(new ft(yt,O)),w.close()}else ct(Xe,`RPC '${e}' stream ${o} received:`,$),P.a_($)}}),X(p,o_.STAT_EVENT,k=>{k.stat===fd.PROXY?ct(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===fd.NOPROXY&&ct(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(r=>r===e)}}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(a){return new wA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,r,s=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=r,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,r-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="PersistentStream";class s0{constructor(e,r,s,o,c,d,p,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new a0(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===it.RESOURCE_EXHAUSTED?(Br(r.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===r&&this.W_(s,o)},s=>{e(()=>{const o=new ft(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,r){const s=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ct(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget(()=>this.b_===e?r():(ct(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ab extends s0{constructor(e,r,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,d),this.serializer=c}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=xA(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ir(d.readTime):At.min()}(e);return this.listener.J_(r,s)}H_(e){const r={};r.database=Sd(this.serializer),r.addTarget=function(c,d){let p;const g=d.target;if(p=yd(g)?{documents:IA(c,g)}:{query:VA(c,g).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=X_(c,d.resumeToken);const y=_d(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Tc(c,d.snapshotVersion.toTimestamp());const y=_d(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=UA(this.serializer,e);s&&(r.labels=s),this.k_(r)}Y_(e){const r={};r.database=Sd(this.serializer),r.removeTarget=e,this.k_(r)}}class bb extends s0{constructor(e,r,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=OA(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.ta(s,r)}na(){const e={};e.database=Sd(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>NA(this.serializer,s))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class wb extends Rb{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Ed(r,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(it.UNKNOWN,c.toString())})}Jo(e,r,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,Ed(r,s),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(it.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Cb{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Br(r),this._a=!1):ct("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class Db{constructor(e,r,s,o,c){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{ba(this)&&(ct(Ea,"Restarting streams for network reachability change."),await async function(g){const y=bt(g);y.Ia.add(4),await Eo(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Lc(y)}(this))})}),this.Aa=new Cb(s,o)}}async function Lc(a){if(ba(a))for(const e of a.da)await e(!0)}async function Eo(a){for(const e of a.da)await e(!1)}function l0(a,e){const r=bt(a);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),em(r)?tm(r):Ps(r).x_()&&Wd(r,e))}function Jd(a,e){const r=bt(a),s=Ps(r);r.Ta.delete(e),s.x_()&&o0(r,e),r.Ta.size===0&&(s.x_()?s.B_():ba(r)&&r.Aa.set("Unknown"))}function Wd(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ps(a).H_(e)}function o0(a,e){a.Ra.$e(e),Ps(a).Y_(e)}function tm(a){a.Ra=new SA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ps(a).start(),a.Aa.aa()}function em(a){return ba(a)&&!Ps(a).M_()&&a.Ta.size>0}function ba(a){return bt(a).Ia.size===0}function u0(a){a.Ra=void 0}async function xb(a){a.Aa.set("Online")}async function Nb(a){a.Ta.forEach((e,r)=>{Wd(a,e)})}async function Ob(a,e){u0(a),em(a)?(a.Aa.la(e),tm(a)):a.Aa.set("Unknown")}async function Ib(a,e,r){if(a.Aa.set("Online"),e instanceof Q_&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ta.delete(p),o.Ra.removeTarget(p))}(a,e)}catch(s){ct(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ac(a,s)}else if(e instanceof sc?a.Ra.Ye(e):e instanceof Y_?a.Ra.it(e):a.Ra.et(e),!r.isEqual(At.min()))try{const s=await i0(a.localStore);r.compareTo(s)>=0&&await function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ta.get(y);E&&c.Ta.set(y,E.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,y)=>{const E=c.Ta.get(g);if(!E)return;c.Ta.set(g,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),o0(c,g);const w=new _i(E.target,g,y,E.sequenceNumber);Wd(c,w)}),c.remoteSyncer.applyRemoteEvent(p)}(a,r)}catch(s){ct(Ea,"Failed to raise snapshot:",s),await Ac(a,s)}}async function Ac(a,e,r){if(!Us(e))throw e;a.Ia.add(1),await Eo(a),a.Aa.set("Offline"),r||(r=()=>i0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(Ea,"Retrying IndexedDB access"),await r(),a.Ia.delete(1),await Lc(a)})}function c0(a,e){return e().catch(r=>Ac(a,r,e))}async function jc(a){const e=bt(a),r=Oi(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jd;for(;Vb(e);)try{const o=await mb(e.localStore,s);if(o===null){e.Pa.length===0&&r.B_();break}s=o.batchId,Mb(e,o)}catch(o){await Ac(e,o)}h0(e)&&f0(e)}function Vb(a){return ba(a)&&a.Pa.length<10}function Mb(a,e){a.Pa.push(e);const r=Oi(a);r.x_()&&r.Z_&&r.X_(e.mutations)}function h0(a){return ba(a)&&!Oi(a).M_()&&a.Pa.length>0}function f0(a){Oi(a).start()}async function Ub(a){Oi(a).na()}async function Pb(a){const e=Oi(a);for(const r of a.Pa)e.X_(r.mutations)}async function Lb(a,e,r){const s=a.Pa.shift(),o=Gd.from(s,e,r);await c0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await jc(a)}async function jb(a,e){e&&Oi(a).Z_&&await async function(s,o){if(function(d){return EA(d)&&d!==it.ABORTED}(o.code)){const c=s.Pa.shift();Oi(s).N_(),await c0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await jc(s)}}(a,e),h0(a)&&f0(a)}async function Nv(a,e){const r=bt(a);r.asyncQueue.verifyOperationInProgress(),ct(Ea,"RemoteStore received new credentials");const s=ba(r);r.Ia.add(3),await Eo(r),s&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await Lc(r)}async function Bb(a,e){const r=bt(a);e?(r.Ia.delete(2),await Lc(r)):e||(r.Ia.add(2),await Eo(r),r.Aa.set("Unknown"))}function Ps(a){return a.Va||(a.Va=function(r,s,o){const c=bt(r);return c.ia(),new Ab(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:xb.bind(null,a),e_:Nb.bind(null,a),n_:Ob.bind(null,a),J_:Ib.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),em(a)?tm(a):a.Aa.set("Unknown")):(await a.Va.stop(),u0(a))})),a.Va}function Oi(a){return a.ma||(a.ma=function(r,s,o){const c=bt(r);return c.ia(),new bb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ub.bind(null,a),n_:jb.bind(null,a),ea:Pb.bind(null,a),ta:Lb.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await jc(a)):(await a.ma.stop(),a.Pa.length>0&&(ct(Ea,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,r,s,o,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,c){const d=Date.now()+s,p=new nm(e,r,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(a,e){if(Br("AsyncQueue",`${e}: ${a}`),Us(a))return new ft(it.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||gt.comparator(r.key,s.key):(r,s)=>gt.comparator(r.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new bs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.fa=new ae(gt.comparator)}track(e){const r=e.doc.key,s=this.fa.get(r);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(r,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(r):e.type===1&&s.type===2?this.fa=this.fa.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Et(63341,{At:e,ga:s}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal((r,s)=>{e.push(s)}),e}}class Os{constructor(e,r,s,o,c,d,p,g,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,c){const d=[];return r.forEach(p=>{d.push({type:0,doc:p})}),new Os(e,r,bs.emptySet(r),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class kb{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,s){const o=bt(r),c=o.queries;o.queries=Iv(),c.forEach((d,p)=>{for(const g of p.wa)g.onError(s)})})(this,new ft(it.ABORTED,"Firestore shutting down"))}}function Iv(){return new Sa(a=>V_(a),Oc)}async function qb(a,e){const r=bt(a);let s=3;const o=e.query;let c=r.queries.get(o);c?!c.Sa()&&e.ba()&&(s=2):(c=new zb,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await r.onListen(o,!0);break;case 1:c.ya=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(d){const p=rm(d,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(p)}r.queries.set(o,c),c.wa.push(e),e.va(r.onlineState),c.ya&&e.Ca(c.ya)&&im(r)}async function Hb(a,e){const r=bt(a),s=e.query;let o=3;const c=r.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function Fb(a,e){const r=bt(a);let s=!1;for(const o of e){const c=o.query,d=r.queries.get(c);if(d){for(const p of d.wa)p.Ca(o)&&(s=!0);d.ya=o}}s&&im(r)}function Gb(a,e,r){const s=bt(a),o=s.queries.get(e);if(o)for(const c of o.wa)c.onError(r);s.queries.delete(e)}function im(a){a.Da.forEach(e=>{e.next()})}var Rd,Vv;(Vv=Rd||(Rd={})).Fa="default",Vv.Cache="cache";class Yb{constructor(e,r,s){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Os(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const s=r!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.key=e}}class m0{constructor(e){this.key=e}}class Qb{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=It(),this.mutatedKeys=It(),this.Xa=M_(e),this.eu=new bs(this.Xa)}get tu(){return this.Ha}nu(e,r){const s=r?r.ru:new Ov,o=r?r.eu:this.eu;let c=r?r.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),U=Ic(this.query,w)?w:null,P=!!A&&this.mutatedKeys.has(A.key),X=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let k=!1;A&&U?A.data.isEqual(U.data)?P!==X&&(s.track({type:3,doc:U}),k=!0):this.iu(A,U)||(s.track({type:2,doc:U}),k=!0,(g&&this.Xa(U,g)>0||y&&this.Xa(U,y)<0)&&(p=!0)):!A&&U?(s.track({type:0,doc:U}),k=!0):A&&!U&&(s.track({type:1,doc:A}),k=!0,(g||y)&&(p=!0)),k&&(U?(d=d.add(U),c=X?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{eu:d,ru:s,Ds:p,mutatedKeys:c}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((E,w)=>function(U,P){const X=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:k})}};return X(U)-X(P)}(E.type,w.type)||this.Xa(E.doc,w.doc)),this.su(s),o=o!=null&&o;const p=r&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,d.length!==0||y?{snapshot:new Os(this.query,e.eu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ov,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=It(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const r=[];return e.forEach(s=>{this.Za.has(s)||r.push(new m0(s))}),this.Za.forEach(s=>{e.has(s)||r.push(new d0(s))}),r}uu(e){this.Ha=e.qs,this.Za=It();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Os.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const am="SyncEngine";class Xb{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Kb{constructor(e){this.key=e,this.lu=!1}}class $b{constructor(e,r,s,o,c,d){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Sa(p=>V_(p),Oc),this.Tu=new Map,this.Iu=new Set,this.du=new ae(gt.comparator),this.Eu=new Map,this.Au=new Xd,this.Ru={},this.Vu=new Map,this.mu=Ns.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Zb(a,e,r=!0){const s=E0(a);let o;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await p0(s,e,r,!0),o}async function Jb(a,e){const r=E0(a);await p0(r,e,!0,!1)}async function p0(a,e,r,s){const o=await pb(a.localStore,nr(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,r);let p;return s&&(p=await Wb(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&r&&l0(a.remoteStore,o),p}async function Wb(a,e,r,s,o){a.gu=(w,A,U)=>async function(X,k,C,$){let Q=k.view.nu(C);Q.Ds&&(Q=await Rv(X.localStore,k.query,!1).then(({documents:O})=>k.view.nu(O,Q)));const nt=$&&$.targetChanges.get(k.targetId),at=$&&$.targetMismatches.get(k.targetId)!=null,yt=k.view.applyChanges(Q,X.isPrimaryClient,nt,at);return Uv(X,k.targetId,yt._u),yt.snapshot}(a,w,A,U);const c=await Rv(a.localStore,e,!0),d=new Qb(e,c.qs),p=d.nu(c.documents),g=_o.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",o),y=d.applyChanges(p,a.isPrimaryClient,g);Uv(a,r,y._u);const E=new Xb(e,r,d);return a.Pu.set(e,E),a.Tu.has(r)?a.Tu.get(r).push(e):a.Tu.set(r,[e]),y.snapshot}async function tR(a,e,r){const s=bt(a),o=s.Pu.get(e),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Oc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Jd(s.remoteStore,o.targetId),wd(s,o.targetId)}).catch(Ms)):(wd(s,o.targetId),await Ad(s.localStore,o.targetId,!0))}async function eR(a,e){const r=bt(a),s=r.Pu.get(e),o=r.Tu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Jd(r.remoteStore,s.targetId))}async function nR(a,e,r){const s=uR(a);try{const o=await function(d,p){const g=bt(d),y=te.now(),E=p.reduce((U,P)=>U.add(P.key),It());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>{let P=zr(),X=It();return g.Os.getEntries(U,E).next(k=>{P=k,P.forEach((C,$)=>{$.isValidDocument()||(X=X.add(C))})}).next(()=>g.localDocuments.getOverlayedDocuments(U,P)).next(k=>{w=k;const C=[];for(const $ of p){const Q=pA($,w.get($.key).overlayedDocument);Q!=null&&C.push(new Aa($.key,Q,R_(Q.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,C,p)}).next(k=>{A=k;const C=k.applyToLocalDocumentSet(w,X);return g.documentOverlayCache.saveOverlays(U,k.batchId,C)})}).then(()=>({batchId:A.batchId,changes:P_(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,g){let y=d.Ru[d.currentUser.toKey()];y||(y=new ae(Ct)),y=y.insert(p,g),d.Ru[d.currentUser.toKey()]=y}(s,o.batchId,r),await To(s,o.changes),await jc(s.remoteStore)}catch(o){const c=rm(o,"Failed to persist write");r.reject(c)}}async function g0(a,e){const r=bt(a);try{const s=await fb(r.localStore,e);e.targetChanges.forEach((o,c)=>{const d=r.Eu.get(c);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await To(r,s,e)}catch(s){await Ms(s)}}function Mv(a,e,r){const s=bt(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Pu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const g=bt(d);g.onlineState=p;let y=!1;g.queries.forEach((E,w)=>{for(const A of w.wa)A.va(p)&&(y=!0)}),y&&im(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rR(a,e,r){const s=bt(a);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Eu.get(e),c=o&&o.key;if(c){let d=new ae(gt.comparator);d=d.insert(c,$e.newNoDocument(c,At.min()));const p=It().add(c),g=new Uc(At.min(),new Map,new ae(Ct),d,p);await g0(s,g),s.du=s.du.remove(c),s.Eu.delete(e),sm(s)}else await Ad(s.localStore,e,!1).then(()=>wd(s,e,r)).catch(Ms)}async function iR(a,e){const r=bt(a),s=e.batch.batchId;try{const o=await hb(r.localStore,e);v0(r,s,null),y0(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await To(r,o)}catch(o){await Ms(o)}}async function aR(a,e,r){const s=bt(a);try{const o=await function(d,p){const g=bt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(w=>(qt(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);v0(s,e,r),y0(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await To(s,o)}catch(o){await Ms(o)}}function y0(a,e){(a.Vu.get(e)||[]).forEach(r=>{r.resolve()}),a.Vu.delete(e)}function v0(a,e,r){const s=bt(a);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(r?c.reject(r):c.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function wd(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),r&&a.hu.pu(s,r);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||_0(a,s)})}function _0(a,e){a.Iu.delete(e.path.canonicalString());const r=a.du.get(e);r!==null&&(Jd(a.remoteStore,r),a.du=a.du.remove(e),a.Eu.delete(r),sm(a))}function Uv(a,e,r){for(const s of r)s instanceof d0?(a.Au.addReference(s.key,e),sR(a,s)):s instanceof m0?(ct(am,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||_0(a,s.key)):Et(19791,{yu:s})}function sR(a,e){const r=e.key,s=r.path.canonicalString();a.du.get(r)||a.Iu.has(s)||(ct(am,"New document in limbo: "+r),a.Iu.add(s),sm(a))}function sm(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const r=new gt(Wt.fromString(e)),s=a.mu.next();a.Eu.set(s,new Kb(r)),a.du=a.du.insert(r,s),l0(a.remoteStore,new _i(nr(I_(r.path)),s,"TargetPurposeLimboResolution",Cc.ue))}}async function To(a,e,r){const s=bt(a),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((p,g)=>{d.push(s.gu(g,e,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=r?.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=$d.Es(g.targetId,y);c.push(w)}}))}),await Promise.all(d),s.hu.J_(o),await async function(g,y){const E=bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>et.forEach(y,A=>et.forEach(A.Is,U=>E.persistence.referenceDelegate.addReference(w,A.targetId,U)).next(()=>et.forEach(A.ds,U=>E.persistence.referenceDelegate.removeReference(w,A.targetId,U)))))}catch(w){if(!Us(w))throw w;ct(Zd,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const U=E.Fs.get(A),P=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(P);E.Fs=E.Fs.insert(A,X)}}}(s.localStore,c))}async function lR(a,e){const r=bt(a);if(!r.currentUser.isEqual(e)){ct(am,"User change. New user:",e.toKey());const s=await r0(r.localStore,e);r.currentUser=e,function(c,d){c.Vu.forEach(p=>{p.forEach(g=>{g.reject(new ft(it.CANCELLED,d))})}),c.Vu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await To(r,s.Bs)}}function oR(a,e){const r=bt(a),s=r.Eu.get(e);if(s&&s.lu)return It().add(s.key);{let o=It();const c=r.Tu.get(e);if(!c)return o;for(const d of c){const p=r.Pu.get(d);o=o.unionWith(p.view.tu)}return o}}function E0(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rR.bind(null,e),e.hu.J_=Fb.bind(null,e.eventManager),e.hu.pu=Gb.bind(null,e.eventManager),e}function uR(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aR.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return cb(this.persistence,new lb,e.initialUser,this.serializer)}Du(e){return new n0(Kd.Vi,this.serializer)}bu(e){return new yb}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class cR extends bc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){qt(this.persistence.referenceDelegate instanceof Sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YA(s,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new n0(s=>Sc.Vi(s,r),this.serializer)}}class Cd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await Bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kb}()}createDatastore(e){const r=Pc(e.databaseInfo.databaseId),s=function(c){return new Sb(c)}(e.databaseInfo);return function(c,d,p,g){return new wb(c,d,p,g)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,c,d,p){return new Db(s,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,r=>Mv(this.syncEngine,r,0),function(){return Dv.C()?new Dv:new vb}())}createSyncEngine(e,r){return function(o,c,d,p,g,y,E){const w=new $b(o,c,d,p,g,y);return E&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const c=bt(o);ct(Ea,"RemoteStore shutting down."),c.Ia.add(5),await Eo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Cd.provider={build:()=>new Cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="FirestoreClient";class fR{constructor(e,r,s,o,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(Ii,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(Ii,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=rm(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function id(a,e){a.asyncQueue.verifyOperationInProgress(),ct(Ii,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await r0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{wi("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{wi("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function Pv(a,e){a.asyncQueue.verifyOperationInProgress();const r=await dR(a);ct(Ii,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>Nv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Nv(e.remoteStore,o)),a._onlineComponents=e}async function dR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(Ii,"Using user provided OfflineComponentProvider");try{await id(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;wi("Error using user provided cache. Falling back to memory cache: "+r),await id(a,new bc)}}else ct(Ii,"Using default OfflineComponentProvider"),await id(a,new cR(void 0));return a._offlineComponents}async function T0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(Ii,"Using user provided OnlineComponentProvider"),await Pv(a,a._uninitializedComponentsProvider._online)):(ct(Ii,"Using default OnlineComponentProvider"),await Pv(a,new Cd))),a._onlineComponents}function mR(a){return T0(a).then(e=>e.syncEngine)}async function pR(a){const e=await T0(a),r=e.eventManager;return r.onListen=Zb.bind(null,e.syncEngine),r.onUnlisten=tR.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Jb.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=eR.bind(null,e.syncEngine),r}function gR(a,e,r={}){const s=new Ai;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,y){const E=new hR({next:A=>{E.Ou(),d.enqueueAndForget(()=>Hb(c,w)),A.fromCache&&g.source==="server"?y.reject(new ft(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new Yb(p,E,{includeMetadataChanges:!0,ka:!0});return qb(c,w)}(await pR(a),a.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",jv=!0;class Bv{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=jv}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:jv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FA)throw new ft(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _S;switch(s.type){case"firstParty":return new AS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Lv.get(r);s&&(ct("ComponentProvider","Removing Datastore"),Lv.delete(r),s.terminate())}(this),Promise.resolve()}}function yR(a,e,r,s={}){var o;a=oo(a,Bc);const c=Id(e),d=a._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${r}`;c&&(YT(`https://${g}`),$T("Firestore",!0)),d.host!==A0&&d.host!==g&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:g,ssl:c,emulatorOptions:s});if(!hc(y,p)&&(a._setSettings(y),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Ke.MOCK_USER;else{E=QT(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ft(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ke(A)}a._authCredentials=new ES(new f_(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zc(this.firestore,e,this._query)}}class He{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(yo(r,He._jsonSchema))return new He(e,s||null,new gt(Wt.fromString(r.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:_e("string",He._jsonSchemaVersion),referencePath:_e("string")};class bi extends zc{constructor(e,r,s){super(e,r,I_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new gt(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function Ze(a,e,...r){if(a=ao(a),m_("collection","path",e),a instanceof Bc){const s=Wt.fromString(e,...r);return Wy(s),new bi(a,null,s)}{if(!(a instanceof He||a instanceof bi))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...r));return Wy(s),new bi(a.firestore,null,s)}}function lm(a,e,...r){if(a=ao(a),arguments.length===1&&(e=Pd.newId()),m_("doc","path",e),a instanceof Bc){const s=Wt.fromString(e,...r);return Jy(s),new He(a,null,new gt(s))}{if(!(a instanceof He||a instanceof bi))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...r));return Jy(s),new He(a.firestore,a instanceof bi?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class kv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new a0(this,"async_queue_retry"),this.oc=()=>{const s=rd();s&&ct(zv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const r=rd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=rd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const r=new Ai;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Us(e))throw e;ct(zv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const r=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Br("INTERNAL UNHANDLED ERROR: ",qv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=r,r}enqueueAfterDelay(e,r,s){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const o=nm.createAndSchedule(this,e,r,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&Et(47125,{hc:qv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function qv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class kc extends Bc{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function b0(a,e){const r=typeof a=="object"?a:sS(),s=typeof a=="string"?a:pc,o=eS(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=FT("firestore");c&&yR(o,...c)}return o}function R0(a){if(a._terminated)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||vR(a),a._firestoreClient}function vR(a){var e,r,s;const o=a._freezeSettings(),c=function(p,g,y,E){return new BS(p,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,S0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new fR(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Fe.fromBase64String(e))}catch(r){throw new ft(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Nn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yo(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:_e("string",Nn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ft(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ft(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ft(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(yo(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:_e("string",ar._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yo(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new sr(e.vectorValues);throw new ft(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:_e("string",sr._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^__.*__$/;class ER{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,r,this.fieldTransforms):new vo(e,this.data,r,this.fieldTransforms)}}function C0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:a})}}class um{constructor(e,r,s,o,c,d){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(C0(this.Ec)&&_R.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class TR{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Pc(e)}Dc(e,r,s,o=!1){return new um({Ec:e,methodName:r,bc:s,path:ke.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SR(a){const e=a._freezeSettings(),r=Pc(a._databaseId);return new TR(a._databaseId,!!e.ignoreUndefinedProperties,r)}function AR(a,e,r,s,o,c={}){const d=a.Dc(c.merge||c.mergeFields?2:0,e,r,o);O0("Data must be an object, but it was:",d,s);const p=x0(s,d);let g,y;if(c.merge)g=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const A=bR(e,w,r);if(!d.contains(A))throw new ft(it.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);wR(E,A)||E.push(A)}g=new Ln(E),y=d.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=d.fieldTransforms;return new ER(new xn(p),g,y)}function D0(a,e){if(N0(a=ao(a)))return O0("Unsupported field value:",e,a),x0(a,e);if(a instanceof w0)return function(s,o){if(!C0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const p of s){let g=D0(p,o.yc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=ao(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Tc(o.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,c)}}if(s instanceof ar)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:X_(o.serializer,s._byteString)};if(s instanceof He){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sr)return function(d,p){return{mapValue:{fields:{[A_]:{stringValue:b_},[gc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return Hd(p.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Ld(s)}`)}(a,e)}function x0(a,e){const r={};return y_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(a,(s,o)=>{const c=D0(o,e.Vc(s));c!=null&&(r[s]=c)}),{mapValue:{fields:r}}}function N0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ar||a instanceof Nn||a instanceof He||a instanceof w0||a instanceof sr)}function O0(a,e,r){if(!N0(r)||!p_(r)){const s=Ld(r);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function bR(a,e,r){if((e=ao(e))instanceof om)return e._internalPath;if(typeof e=="string")return I0(a,e);throw Rc("Field path arguments must be of type string or ",a,!1,void 0,r)}const RR=new RegExp("[~\\*/\\[\\]]");function I0(a,e,r){if(e.search(RR)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new om(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Rc(a,e,r,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ft(it.INVALID_ARGUMENT,p+a+g)}function wR(a,e){return a.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,r,s,o,c){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(M0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class CR extends V0{data(){return super.data()}}function M0(a,e){return typeof e=="string"?I0(a,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xR{convertValue(e,r="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ta(e,(o,c)=>{s[o]=this.convertValue(c,r)}),s}convertVectorValue(e){var r,s,o;const c=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[gc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new sr(c)}convertGeoPoint(e){return new ar(de(e.latitude),de(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=xc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const r=Di(e);return new te(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Wt.fromString(e);qt(t0(s),9688,{name:e});const o=new ho(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(r)||Br(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(a,e,r){let s;return s=a?a.toFirestore(e):e,s}class tc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rs extends V0{constructor(e,r,s,o,c,d){super(e,r,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(M0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Rs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:_e("string",Rs._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class lc extends Rs{data(e={}){return super.data(e)}}class ws{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new lc(this._firestore,this._userDataWriter,s.key,s,new tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ft(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const g=new lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new tc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new tc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:OR(p.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(r.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:_e("string",ws._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class IR extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,r)}}function Vi(a){a=oo(a,zc);const e=oo(a.firestore,kc),r=R0(e),s=new IR(e);return DR(a._query),gR(r,a._query).then(o=>new ws(e,s,a,o))}function U0(a){return P0(oo(a.firestore,kc),[new Fd(a._key,rr.none())])}function Ri(a,e){const r=oo(a.firestore,kc),s=lm(a),o=NR(a.converter,e);return P0(r,[AR(SR(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,rr.exists(!1))]).then(()=>s)}function P0(a,e){return function(s,o){const c=new Ai;return s.asyncQueue.enqueueAndForget(async()=>nR(await mR(s),o,c)),c.promise}(R0(a),e)}(function(e,r=!0){(function(o){Vs=o})(aS),dc(new so("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new kc(new TS(s.getProvider("auth-internal")),new bS(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:r},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),As(Qy,Xy,e),As(Qy,Xy,"esm2017")})();const VR={apiKey:"AIzaSyBJLLh74xMFOLwl67agdd6imcl3ZIglBG8",authDomain:"cinemafocusinventory.firebaseapp.com",projectId:"cinemafocusinventory",storageBucket:"cinemafocusinventory.firebasestorage.app",messagingSenderId:"232322170393",appId:"1:232322170393:web:296907062efd7ec75a7488",measurementId:"G-23G7G2N3PX"},MR=Md(VR),qe=b0(MR),UR={"5.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND",Subwoofer:"SUB"},"7.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND",Subwoofer:"SUB"},"7.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"9.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"9.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"11.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"11.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"13.1":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"},"13.2":{"Left & Right":"LEFT RIGHT","Center Speaker":"CENTER","Surround (2 Channel)":"SURROUND","Rear Surround (2 Channel)":"SURROUND","Rear Back Surround":"SURROUND",Atmos:"ATMOS",Subwoofer:"SUB"}},PR=["Amplifier","Projector","Signature Screen Ratio","Signature Screen"],LR={Amplifier:"Amplifiers",Projector:"Projectors","Signature Screen":"SignatureScreen","Signature Screen Ratio":"SignatureScreen"},vs=({label:a,options:e,value:r,onChange:s,price:o})=>b.jsxs("div",{className:"m-5 p-4 border border-gray-400 rounded-xl shadow-md",children:[b.jsx("h1",{className:"font-semibold text-md",children:a}),b.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center",children:b.jsxs("select",{required:!0,className:"bg-amber-100 w-full text-sm font-medium outline-none text-center",value:r||"",onChange:s,children:[b.jsx("option",{value:"default",children:"Select"}),a==="Atmos"&&b.jsx("option",{value:"none",children:"No Atmos"}),a==="Rear Back Surround"&&b.jsx("option",{value:"none",children:"None"}),a==="Signature Screen Ratio"&&b.jsx("option",{value:"none",children:"No Screen"}),a==="Projector Brand"&&b.jsx("option",{value:"none",children:"No Projector"}),e.map((c,d)=>b.jsx("option",{value:c.MODEL,children:c.MODEL},`${a}-${c.MODEL}-${d}`))]})}),a!=="Projector Brand"&&a!=="Signature Screen Ratio"&&a!=="Screen Sizes for 16:9"&&a!=="Screen Sizes for 2:3:5"&&b.jsxs(b.Fragment,{children:[b.jsxs("h1",{className:"font-semibold text-md mt-2",children:[a," Price"]}),b.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center",children:o?b.jsx("p",{children:o}):b.jsxs("p",{className:"text-gray-400",children:[a," Price"]})})]})]});function jR({type:a,brand:e,onSelectionsChange:r,initialSelections:s={}}){const[o,c]=Y.useState({}),[d,p]=Y.useState([]),[g,y]=Y.useState({}),[E,w]=Y.useState("default"),[A,U]=Y.useState("default"),P=UR[a]||{};Y.useEffect(()=>{c(s||{}),w(s["Signature Screen Ratio"]||"default"),U(s.Projector||"default")},[a,e]),Y.useEffect(()=>{r&&r(o)},[o]),Y.useEffect(()=>{a&&(async()=>{try{const at=(await Vi(Ze(qe,a))).docs.map(yt=>yt.data());p(at)}catch(nt){console.error("Error fetching speaker data:",nt)}})()},[a]),Y.useEffect(()=>{(async()=>{const nt={};let at=[],yt={};for(const O of PR)try{const R=await Vi(Ze(qe,LR[O]));O==="Signature Screen"?(R.docs.forEach(D=>{const V=D.data();Object.entries(V).forEach(([L,B])=>{const N=B.filter(Ee=>Ee!==null);N.length>0&&(at.includes(L)||(at.push(L),yt[L]=N))})}),nt["Signature Screen Ratio"]=at.map(D=>({MODEL:D})),nt["Signature Screen Sizes"]=yt):nt[O]=R.docs.map(D=>D.data())}catch(R){console.error(`Error fetching ${O}:`,R),nt[O]=[]}y(nt)})()},[]);const X=Q=>nt=>{c(at=>({...at,[Q]:nt.target.value}))},k=(Q,nt,at)=>{const yt=new Set;return Q.filter(O=>O[nt]&&O.BRAND===at&&!yt.has(O[nt])?(yt.add(O[nt]),!0):!1)},C=(Q,nt,at,yt)=>{const O=new Set;return Q.filter(R=>R[nt]&&R.BRAND===at&&R.MODEL===yt&&!O.has(R[nt])?(O.add(R[nt]),!0):!1)},$=Q=>Q==null?"":new Intl.NumberFormat("en-IN").format(Q);return b.jsxs("div",{className:"mb-20",children:[Object.entries(P).map(([Q,nt])=>b.jsx(vs,{label:Q,options:k(d.filter(at=>at.TYPE===nt),"MODEL",e),value:o[Q]||"",onChange:X(Q),price:$(C(d.filter(at=>at.TYPE===nt),"PRICE",e,o[Q]||"")[0]?.PRICE||"")},Q)),b.jsx(vs,{label:"Amplifier",options:g.Amplifier||[],value:o.Amplifier||"",onChange:X("Amplifier")}),b.jsx(vs,{label:"Projector Brand",options:[...new Set((g.Projector||[]).map(Q=>Q.BRAND))].map(Q=>({MODEL:Q})),value:o["Projector Brand"]||"",onChange:Q=>{const nt=Q.target.value;c(at=>({...at,"Projector Brand":nt,Projector:""}))}}),o["Projector Brand"]&&o["Projector Brand"]!=="none"&&b.jsx(vs,{label:"Projector",options:(g.Projector||[]).filter(Q=>Q.BRAND===o["Projector Brand"]).map(Q=>({MODEL:Q.MODEL})),value:o.Projector||"",onChange:Q=>{const nt=Q.target.value;c(at=>({...at,Projector:nt})),U(nt)},price:$(C(g.Projector||[],"PRICE",o["Projector Brand"],o.Projector||"")[0]?.PRICE||"")}),A!=="default"&&A!=="none"&&b.jsxs("div",{className:"m-5 p-4 border border-gray-400 rounded-xl shadow-md",children:[b.jsx("h1",{className:"font-semibold text-md",children:"Custom Projector Price"}),b.jsx("input",{type:"number",inputMode:"numeric",placeholder:"Enter Price",className:"mt-2 w-full bg-amber-100 p-3 rounded-xl shadow border border-black",onChange:Q=>c(nt=>({...nt,"Projector Custom Price":Q.target.value}))})]}),b.jsx(vs,{label:"Signature Screen Ratio",options:g["Signature Screen Ratio"]||[],value:E,onChange:Q=>{const nt=Q.target.value;w(nt),c(at=>({...at,"Signature Screen Ratio":nt,"Signature Screen":""}))}}),E!=="none"&&E!=="default"&&b.jsxs(b.Fragment,{children:[b.jsx(vs,{label:`Screen Sizes for ${E}`,options:(g["Signature Screen Sizes"]?.[E]||[]).map(Q=>({MODEL:Q})),value:o["Signature Screen"]||"",onChange:X("Signature Screen")}),b.jsxs("div",{className:"m-5 p-4 border border-gray-400 rounded-xl shadow-md",children:[b.jsx("h1",{className:"font-semibold text-md",children:"Custom Screen Price"}),b.jsx("input",{type:"number",inputMode:"numeric",placeholder:"Enter Price",className:"mt-2 w-full bg-amber-100 p-3 rounded-xl shadow border border-black",onChange:Q=>c(nt=>({...nt,"Screen Custom Price":Q.target.value}))})]}),b.jsxs("div",{className:"m-5 p-4 border border-gray-400 rounded-xl shadow-md",children:[b.jsx("h1",{className:"font-semibold text-md",children:"Custom Lens Price"}),b.jsx("input",{type:"number",inputMode:"numeric",placeholder:"Enter Price",className:"mt-2 w-full bg-amber-100 p-3 rounded-xl shadow border border-black",onChange:Q=>c(nt=>({...nt,"Lens Custom Price":Q.target.value}))})]})]})]})}const BR=()=>b.jsxs("div",{id:"pdf-target",style:{padding:"20px"},children:[b.jsxs("div",{className:"max-w-[210mm] mx-auto p-8 bg-white text-black text-sm font-sans shadow-md rounded-md",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"QUOTATION"}),b.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"font-semibold",children:"From:"}),b.jsx("p",{children:"CINEMA FOCUS (INDIA) PRIVATE LIMITED"}),b.jsx("p",{children:"No.71, Dr. Radhakrishnan Salai,"}),b.jsx("p",{children:"Mylapore,"}),b.jsx("p",{children:"Chennai - 600 004"}),b.jsx("p",{children:"GSTIN/UIN : 33AAECC3036B1ZF"}),b.jsx("p",{children:"State Name : Tamil Nadu, Code : 33"})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-semibold",children:"To:"}),b.jsx("input",{type:"text",placeholder:"Customer Name",className:"border p-1 w-full mb-1",id:"cd"}),b.jsx("input",{type:"email",placeholder:"Customer Email",className:"border p-1 w-full mb-1",id:"cd"}),b.jsx("input",{type:"tel",placeholder:"Customer Phone",className:"border p-1 w-full mb-1",id:"cd"}),b.jsx("input",{type:"date",placeholder:"Quotation Date",className:"border p-1 w-full mb-1 date",id:"cd"})]})]}),b.jsx("table",{className:"w-full table-auto border border-collapse mb-6 text-left",children:b.jsx("tbody",{children:b.jsxs("tr",{className:"border",children:[b.jsx("th",{className:"p-2 bg-gray-100",children:"Signature Screen"}),b.jsx("td",{className:"p-2",id:"quote-series",children:"-"})]})})}),b.jsxs("table",{className:"w-full table-auto border border-collapse text-left mb-6",children:[b.jsx("thead",{className:"bg-gray-100",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-2 border",children:"Item"}),b.jsx("th",{className:"p-2 border",children:"Details"}),b.jsx("th",{className:"p-2 border",children:"Amount (excl GST)"}),b.jsx("th",{className:"p-2 border",children:"Amount (incl GST)"})]})}),b.jsx("tbody",{children:b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border",children:"Signature Screen"}),b.jsx("td",{className:"p-2 border"}),b.jsx("td",{className:"p-2 border",id:"quote-total-price",children:"-"}),b.jsx("td",{className:"p-2 border",id:"quote-total-gst",children:"-"})]})})]}),b.jsxs("div",{className:"pdf-footer-section",children:[b.jsx("h1",{className:"text-lg mt-10 font-bold text-gray-800 hidden pdf-title",children:"Terms & Conditions"}),b.jsxs("p",{className:"text-sm mt-4 text-gray-600",children:[b.jsx("strong",{children:"Delivery Details:"}),b.jsx("br",{})," Delivery within 30 to 45 days from the date of order confirmation."]}),b.jsxs("p",{className:"text-sm mt-4 text-gray-600",children:[b.jsx("strong",{children:"Payment Terms:"}),b.jsx("br",{})," 60% Advance Payment  upon order confirmation.",b.jsx("br",{})," 20% on Material Handover  after delivery of all materials.",b.jsx("br",{})," 20% on Completion  after full installation and final handover."]}),b.jsxs("p",{className:"text-sm mt-4 text-gray-600",children:[b.jsx("strong",{children:"Warranty Details:"}),b.jsx("br",{})," 1 Year Signature Warranty.",b.jsx("br",{})," Additional 2 Years of Free Service Warranty (Total: 3 Years).",b.jsx("br",{})," ",b.jsx("em",{children:"Optional:"})," 4 Years Full Warranty available at 5% of the total cost (",b.jsx("span",{id:"4yw"}),")."]}),b.jsxs("p",{className:"text-sm mt-4 text-gray-600",children:[b.jsx("strong",{children:"Note:"}),b.jsx("br",{})," Woodwork (18mm Plywood), and Power supply should be provided by the customer."]})]})]}),b.jsx("div",{className:"flex flex-col m-4 bg-white p-3 gap-2 rounded-2xl  mb-20",children:b.jsx("button",{onClick:()=>window.generatePDF?.(),className:"no-print bg-amber-200 p-3 rounded-xl shadow-xl border border-black flex justify-center items-center",children:"Print Quotation"})})]});function zR(){const[a,e]=Y.useState(""),[r,s]=Y.useState(""),[o,c]=Y.useState([]),[d,p]=Y.useState("home"),[g,y]=Y.useState({surroundType:"",brand:"",selections:{}}),E=[{tab:"home",icon:"fa-house",label:"Main"},{tab:"invoice",icon:"fa-file-invoice-dollar",label:"Invoice"}],w=[{name:"5.1 System",value:"5.1"},{name:"7.1 System",value:"7.1"},{name:"7.2 System",value:"7.2"},{name:"9.1 System",value:"9.1"},{name:"9.2 System",value:"9.2"},{name:"11.1 System",value:"11.1"},{name:"11.2 System",value:"11.2"},{name:"13.1 System",value:"13.1"},{name:"13.2 System",value:"13.2"}];Y.useEffect(()=>{a&&((async()=>{try{const $=(await Vi(Ze(qe,a))).docs.map(Q=>Q.data());c($)}catch(C){console.error("Error fetching data:",C)}})(),s(""))},[a]);const A=(k,C)=>{const $=new Set;return k.filter(Q=>Q[C]&&!$.has(Q[C])?($.add(Q[C]),!0):!1)},U=k=>{const C=k.target.value;e(C),y($=>({...$,surroundType:C,brand:"",selections:{}}))},P=k=>{const C=k.target.value;s(C),y($=>({...$,brand:C}))},X=k=>{y(C=>({...C,selections:k}))};return b.jsxs("div",{className:"h-screen bg-white",children:[b.jsx("div",{className:"p-5 border-b border-gray-200 shadow sticky top-0 bg-white z-10",children:b.jsx("h1",{className:"font-semibold text-3xl",children:"Cinema Focus"})}),d==="home"&&b.jsxs("div",{className:"home mb-20 overflow-scroll",children:[b.jsxs("div",{className:"m-5 p-4 border border-gray-400 rounded-xl shadow-md",children:[b.jsx("h1",{className:"font-semibold text-md",children:"Choose The Surround Version"}),b.jsx("div",{className:"mt-2 bg-amber-100 p-3 rounded-xl border border-black flex justify-center items-center",children:b.jsxs("select",{className:"bg-amber-100 w-full text-sm font-medium outline-none text-center",value:a,onChange:U,children:[b.jsx("option",{disabled:!0,value:"",children:"Select The Surround Type"}),w.map((k,C)=>b.jsx("option",{value:k.value,children:k.name},C))]})})]}),b.jsxs("div",{className:"m-5 p-4 border border-gray-400 rounded-xl shadow-md",children:[b.jsx("h1",{className:"font-semibold text-md",children:"Choose The Brand"}),b.jsx("div",{className:"mt-2 bg-amber-100 p-3 rounded-xl border border-black flex justify-center items-center",children:b.jsxs("select",{className:"bg-amber-100 w-full text-sm font-medium outline-none text-center",value:r,onChange:P,children:[b.jsx("option",{disabled:!0,value:"",children:"Select The Brand"}),A(o,"BRAND").map((k,C)=>b.jsx("option",{children:k.BRAND},`brand-${C}`))]})})]}),b.jsx(jR,{type:a,brand:r,initialSelections:g.selections,onSelectionsChange:X})]}),d==="invoice"&&b.jsx("div",{className:"invoice mb-20",children:b.jsx(BR,{data:g})}),b.jsx("div",{className:"w-full fixed bottom-0 bg-white shadow-xl border-t border-gray-200 z-50 lg:hidden",children:b.jsx("div",{className:"flex justify-around items-center py-3",children:E.map(({tab:k,icon:C,label:$})=>b.jsxs("div",{className:`flex flex-col items-center cursor-pointer ${d===k?"text-black":"text-gray-500 hover:text-black"}`,onClick:()=>p(k),children:[b.jsx("i",{className:`fa-solid ${C}`}),b.jsx("span",{className:"text-sm",children:$})]},k))})})]})}var Kl={},Hv;function kR(){if(Hv)return Kl;Hv=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=d,Kl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,U){const P=new c,X=A.length;if(X<2)return P;const k=U?.decode||E;let C=0;do{const $=A.indexOf("=",C);if($===-1)break;const Q=A.indexOf(";",C),nt=Q===-1?X:Q;if($>nt){C=A.lastIndexOf(";",$-1)+1;continue}const at=p(A,C,$),yt=g(A,$,at),O=A.slice(at,yt);if(P[O]===void 0){let R=p(A,$+1,nt),D=g(A,nt,R);const V=k(A.slice(R,D));P[O]=V}C=nt+1}while(C<X);return P}function p(A,U,P){do{const X=A.charCodeAt(U);if(X!==32&&X!==9)return U}while(++U<P);return P}function g(A,U,P){for(;U>P;){const X=A.charCodeAt(--U);if(X!==32&&X!==9)return U+1}return P}function y(A,U,P){const X=P?.encode||encodeURIComponent;if(!a.test(A))throw new TypeError(`argument name is invalid: ${A}`);const k=X(U);if(!e.test(k))throw new TypeError(`argument val is invalid: ${U}`);let C=A+"="+k;if(!P)return C;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);C+="; Max-Age="+P.maxAge}if(P.domain){if(!r.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);C+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);C+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);C+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(C+="; HttpOnly"),P.secure&&(C+="; Secure"),P.partitioned&&(C+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return C}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Kl}kR();var Fv="popstate";function qR(a={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return Dd("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:go(o)}return FR(e,r,null,a)}function ie(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ur(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HR(){return Math.random().toString(36).substring(2,10)}function Gv(a,e){return{usr:a.state,key:a.key,idx:e}}function Dd(a,e,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:r,key:e&&e.key||s||HR()}}function go({pathname:a="/",search:e="",hash:r=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Ls(a){let e={};if(a){let r=a.indexOf("#");r>=0&&(e.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function FR(a,e,r,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function w(){p="POP";let k=E(),C=k==null?null:k-y;y=k,g&&g({action:p,location:X.location,delta:C})}function A(k,C){p="PUSH";let $=Dd(X.location,k,C);y=E()+1;let Q=Gv($,y),nt=X.createHref($);try{d.pushState(Q,"",nt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(nt)}c&&g&&g({action:p,location:X.location,delta:1})}function U(k,C){p="REPLACE";let $=Dd(X.location,k,C);y=E();let Q=Gv($,y),nt=X.createHref($);d.replaceState(Q,"",nt),c&&g&&g({action:p,location:X.location,delta:0})}function P(k){return GR(k)}let X={get action(){return p},get location(){return a(o,d)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,w),g=k,()=>{o.removeEventListener(Fv,w),g=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let C=P(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:A,replace:U,go(k){return d.go(k)}};return X}function GR(a,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ie(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:go(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function L0(a,e,r="/"){return YR(a,e,r,!1)}function YR(a,e,r,s){let o=typeof e=="string"?Ls(e):e,c=kr(o.pathname||"/",r);if(c==null)return null;let d=j0(a);QR(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=i2(c);p=n2(d[g],y,s)}return p}function j0(a,e=[],r=[],s=""){let o=(c,d,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(ie(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Lr([s,g.relativePath]),E=r.concat(g);c.children&&c.children.length>0&&(ie(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),j0(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:t2(y,c.index),routesMeta:E})};return a.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let p of B0(c.path))o(c,d,p)}),e}function B0(a){let e=a.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=B0(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function QR(a){a.sort((e,r)=>e.score!==r.score?r.score-e.score:e2(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var XR=/^:[\w-]+$/,KR=3,$R=2,ZR=1,JR=10,WR=-2,Yv=a=>a==="*";function t2(a,e){let r=a.split("/"),s=r.length;return r.some(Yv)&&(s+=WR),e&&(s+=$R),r.filter(o=>!Yv(o)).reduce((o,c)=>o+(XR.test(c)?KR:c===""?ZR:JR),s)}function e2(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function n2(a,e,r=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",w=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!w&&y&&r&&!s[s.length-1].route.index&&(w=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:Lr([c,w.pathname]),pathnameBase:o2(Lr([c,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(c=Lr([c,w.pathnameBase]))}return d}function wc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=r2(a.path,a.caseSensitive,a.end),o=e.match(r);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},A)=>{if(E==="*"){let P=p[A]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const U=p[A];return w&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function r2(a,e=!1,r=!0){ur(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function i2(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function kr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function a2(a,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof a=="string"?Ls(a):a;return{pathname:r?r.startsWith("/")?r:s2(r,e):e,search:u2(s),hash:c2(o)}}function s2(a,e){let r=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ad(a,e,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(a){return a.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function z0(a){let e=l2(a);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function k0(a,e,r,s=!1){let o;typeof a=="string"?o=Ls(a):(o={...a},ie(!o.pathname||!o.pathname.includes("?"),ad("?","pathname","search",o)),ie(!o.pathname||!o.pathname.includes("#"),ad("#","pathname","hash",o)),ie(!o.search||!o.search.includes("#"),ad("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=r;else{let w=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}p=w>=0?e[w]:"/"}let g=a2(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Lr=a=>a.join("/").replace(/\/\/+/g,"/"),o2=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,c2=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function h2(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var q0=["POST","PUT","PATCH","DELETE"];new Set(q0);var f2=["GET",...q0];new Set(f2);var js=Y.createContext(null);js.displayName="DataRouter";var qc=Y.createContext(null);qc.displayName="DataRouterState";var H0=Y.createContext({isTransitioning:!1});H0.displayName="ViewTransition";var d2=Y.createContext(new Map);d2.displayName="Fetchers";var m2=Y.createContext(null);m2.displayName="Await";var cr=Y.createContext(null);cr.displayName="Navigation";var So=Y.createContext(null);So.displayName="Location";var qr=Y.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var cm=Y.createContext(null);cm.displayName="RouteError";function p2(a,{relative:e}={}){ie(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=Y.useContext(cr),{hash:o,pathname:c,search:d}=bo(a,{relative:e}),p=c;return r!=="/"&&(p=c==="/"?r:Lr([r,c])),s.createHref({pathname:p,search:d,hash:o})}function Ao(){return Y.useContext(So)!=null}function Ra(){return ie(Ao(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(So).location}var F0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G0(a){Y.useContext(cr).static||Y.useLayoutEffect(a)}function g2(){let{isDataRoute:a}=Y.useContext(qr);return a?x2():y2()}function y2(){ie(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let a=Y.useContext(js),{basename:e,navigator:r}=Y.useContext(cr),{matches:s}=Y.useContext(qr),{pathname:o}=Ra(),c=JSON.stringify(z0(s)),d=Y.useRef(!1);return G0(()=>{d.current=!0}),Y.useCallback((g,y={})=>{if(ur(d.current,F0),!d.current)return;if(typeof g=="number"){r.go(g);return}let E=k0(g,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Lr([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,c,o,a])}Y.createContext(null);function bo(a,{relative:e}={}){let{matches:r}=Y.useContext(qr),{pathname:s}=Ra(),o=JSON.stringify(z0(r));return Y.useMemo(()=>k0(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function v2(a,e){return Y0(a,e)}function Y0(a,e,r,s){ie(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(cr),{matches:c}=Y.useContext(qr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let C=E&&E.path||"";Q0(g,!E||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=Ra(),A;if(e){let C=typeof e=="string"?Ls(e):e;ie(y==="/"||C.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${C.pathname}" was given in the \`location\` prop.`),A=C}else A=w;let U=A.pathname||"/",P=U;if(y!=="/"){let C=y.replace(/^\//,"").split("/");P="/"+U.replace(/^\//,"").split("/").slice(C.length).join("/")}let X=L0(a,{pathname:P});ur(E||X!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ur(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=A2(X&&X.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:Lr([y,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?y:Lr([y,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,r,s);return e&&k?Y.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},k):k}function _2(){let a=D2(),e=h2(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:c},"ErrorBoundary")," or"," ",Y.createElement("code",{style:c},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:o},r):null,d)}var E2=Y.createElement(_2,null),T2=class extends Y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Y.createElement(qr.Provider,{value:this.props.routeContext},Y.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S2({routeContext:a,match:e,children:r}){let s=Y.useContext(js);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(qr.Provider,{value:a},r)}function A2(a,e=[],r=null,s=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let o=a,c=r?.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ie(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,p=-1;if(r)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:E,errors:w}=r,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let w,A=!1,U=null,P=null;r&&(w=c&&y.route.id?c[y.route.id]:void 0,U=y.route.errorElement||E2,d&&(p<0&&E===0?(Q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):p===E&&(A=!0,P=y.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),k=()=>{let C;return w?C=U:A?C=P:y.route.Component?C=Y.createElement(y.route.Component,null):y.route.element?C=y.route.element:C=g,Y.createElement(S2,{match:y,routeContext:{outlet:g,matches:X,isDataRoute:r!=null},children:C})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(T2,{location:r.location,revalidation:r.revalidation,component:U,error:w,children:k(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):k()},null)}function hm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(a){let e=Y.useContext(js);return ie(e,hm(a)),e}function R2(a){let e=Y.useContext(qc);return ie(e,hm(a)),e}function w2(a){let e=Y.useContext(qr);return ie(e,hm(a)),e}function fm(a){let e=w2(a),r=e.matches[e.matches.length-1];return ie(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function C2(){return fm("useRouteId")}function D2(){let a=Y.useContext(cm),e=R2("useRouteError"),r=fm("useRouteError");return a!==void 0?a:e.errors?.[r]}function x2(){let{router:a}=b2("useNavigate"),e=fm("useNavigate"),r=Y.useRef(!1);return G0(()=>{r.current=!0}),Y.useCallback(async(o,c={})=>{ur(r.current,F0),r.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Qv={};function Q0(a,e,r){!e&&!Qv[a]&&(Qv[a]=!0,ur(!1,r))}Y.memo(N2);function N2({routes:a,future:e,state:r}){return Y0(a,void 0,r,e)}function vi(a){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:a="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:c=!1}){ie(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=Y.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof r=="string"&&(r=Ls(r));let{pathname:g="/",search:y="",hash:E="",state:w=null,key:A="default"}=r,U=Y.useMemo(()=>{let P=kr(g,d);return P==null?null:{location:{pathname:P,search:y,hash:E,state:w,key:A},navigationType:s}},[d,g,y,E,w,A,s]);return ur(U!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Y.createElement(cr.Provider,{value:p},Y.createElement(So.Provider,{children:e,value:U}))}function I2({children:a,location:e}){return v2(xd(a),e)}function xd(a,e=[]){let r=[];return Y.Children.forEach(a,(s,o)=>{if(!Y.isValidElement(s))return;let c=[...e,o];if(s.type===Y.Fragment){r.push.apply(r,xd(s.props.children,c));return}ie(s.type===vi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=xd(s.props.children,c)),r.push(d)}),r}var oc="get",uc="application/x-www-form-urlencoded";function Hc(a){return a!=null&&typeof a.tagName=="string"}function V2(a){return Hc(a)&&a.tagName.toLowerCase()==="button"}function M2(a){return Hc(a)&&a.tagName.toLowerCase()==="form"}function U2(a){return Hc(a)&&a.tagName.toLowerCase()==="input"}function P2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function L2(a,e){return a.button===0&&(!e||e==="_self")&&!P2(a)}var ec=null;function j2(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var B2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(a){return a!=null&&!B2.has(a)?(ur(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):a}function z2(a,e){let r,s,o,c,d;if(M2(a)){let p=a.getAttribute("action");s=p?kr(p,e):null,r=a.getAttribute("method")||oc,o=sd(a.getAttribute("enctype"))||uc,c=new FormData(a)}else if(V2(a)||U2(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?kr(g,e):null,r=a.getAttribute("formmethod")||p.getAttribute("method")||oc,o=sd(a.getAttribute("formenctype"))||sd(p.getAttribute("enctype"))||uc,c=new FormData(p,a),!j2()){let{name:y,type:E,value:w}=a;if(E==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,w)}}else{if(Hc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oc,s=null,o=uc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:c,body:d}}function dm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function k2(a,e){if(a.id in e)return e[a.id];try{let r=await import(a.module);return e[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function H2(a,e,r){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await k2(c,r);return d.links?d.links():[]}return[]}));return Q2(s.flat(1).filter(q2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(a,e,r,s,o,c){let d=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,p=(g,y)=>r[y].pathname!==g.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function F2(a,e,{includeHydrateFallback:r}={}){return G2(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function G2(a){return[...new Set(a)]}function Y2(a){let e={},r=Object.keys(a).sort();for(let s of r)e[s]=a[s];return e}function Q2(a,e){let r=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(Y2(o));return r.has(c)||(r.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X2=new Set([100,101,204,205]);function K2(a,e){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname="_root.data":e&&kr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function X0(){let a=Y.useContext(js);return dm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function $2(){let a=Y.useContext(qc);return dm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var mm=Y.createContext(void 0);mm.displayName="FrameworkContext";function K0(){let a=Y.useContext(mm);return dm(a,"You must render this element inside a <HydratedRouter> element"),a}function Z2(a,e){let r=Y.useContext(mm),[s,o]=Y.useState(!1),[c,d]=Y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,A=Y.useRef(null);Y.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let X=C=>{C.forEach($=>{d($.isIntersecting)})},k=new IntersectionObserver(X,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[a]),Y.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let U=()=>{o(!0)},P=()=>{o(!1),d(!1)};return r?a!=="intent"?[c,A,{}]:[c,A,{onFocus:$l(p,U),onBlur:$l(g,P),onMouseEnter:$l(y,U),onMouseLeave:$l(E,P),onTouchStart:$l(w,U)}]:[!1,A,{}]}function $l(a,e){return r=>{a&&a(r),r.defaultPrevented||e(r)}}function J2({page:a,...e}){let{router:r}=X0(),s=Y.useMemo(()=>L0(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?Y.createElement(tw,{page:a,matches:s,...e}):null}function W2(a){let{manifest:e,routeModules:r}=K0(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let c=!1;return H2(a,e,r).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,r]),s}function tw({page:a,matches:e,...r}){let s=Ra(),{manifest:o,routeModules:c}=K0(),{basename:d}=X0(),{loaderData:p,matches:g}=$2(),y=Y.useMemo(()=>Xv(a,e,g,o,s,"data"),[a,e,g,o,s]),E=Y.useMemo(()=>Xv(a,e,g,o,s,"assets"),[a,e,g,o,s]),w=Y.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let P=new Set,X=!1;if(e.forEach(C=>{let $=o.routes[C.route.id];!$||!$.hasLoader||(!y.some(Q=>Q.route.id===C.route.id)&&C.route.id in p&&c[C.route.id]?.shouldRevalidate||$.hasClientLoader?X=!0:P.add(C.route.id))}),P.size===0)return[];let k=K2(a,d);return X&&P.size>0&&k.searchParams.set("_routes",e.filter(C=>P.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[d,p,s,o,y,e,a,c]),A=Y.useMemo(()=>F2(E,o),[E,o]),U=W2(E);return Y.createElement(Y.Fragment,null,w.map(P=>Y.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...r})),A.map(P=>Y.createElement("link",{key:P,rel:"modulepreload",href:P,...r})),U.map(({key:P,link:X})=>Y.createElement("link",{key:P,...X})))}function ew(...a){return e=>{a.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$0&&(window.__reactRouterVersion="7.6.3")}catch{}function nw({basename:a,children:e,window:r}){let s=Y.useRef();s.current==null&&(s.current=qR({window:r,v5Compat:!0}));let o=s.current,[c,d]=Y.useState({action:o.action,location:o.location}),p=Y.useCallback(g=>{Y.startTransition(()=>d(g))},[d]);return Y.useLayoutEffect(()=>o.listen(p),[o,p]),Y.createElement(O2,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J0=Y.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:w,...A},U){let{basename:P}=Y.useContext(cr),X=typeof y=="string"&&Z0.test(y),k,C=!1;if(typeof y=="string"&&X&&(k=y,$0))try{let D=new URL(window.location.href),V=y.startsWith("//")?new URL(D.protocol+y):new URL(y),L=kr(V.pathname,P);V.origin===D.origin&&L!=null?y=L+V.search+V.hash:C=!0}catch{ur(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=p2(y,{relative:o}),[Q,nt,at]=Z2(s,A),yt=sw(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:w});function O(D){e&&e(D),D.defaultPrevented||yt(D)}let R=Y.createElement("a",{...A,...at,href:k||$,onClick:C||c?e:O,ref:ew(U,nt),target:g,"data-discover":!X&&r==="render"?"true":void 0});return Q&&!X?Y.createElement(Y.Fragment,null,R,Y.createElement(J2,{page:$})):R});J0.displayName="Link";var rw=Y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},E){let w=bo(d,{relative:y.relative}),A=Ra(),U=Y.useContext(qc),{navigator:P,basename:X}=Y.useContext(cr),k=U!=null&&hw(w)&&p===!0,C=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,$=A.pathname,Q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;r||($=$.toLowerCase(),Q=Q?Q.toLowerCase():null,C=C.toLowerCase()),Q&&X&&(Q=kr(Q,X)||Q);const nt=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let at=$===C||!o&&$.startsWith(C)&&$.charAt(nt)==="/",yt=Q!=null&&(Q===C||!o&&Q.startsWith(C)&&Q.charAt(C.length)==="/"),O={isActive:at,isPending:yt,isTransitioning:k},R=at?e:void 0,D;typeof s=="function"?D=s(O):D=[s,at?"active":null,yt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(O):c;return Y.createElement(J0,{...y,"aria-current":R,className:D,ref:E,style:V,to:d,viewTransition:p},typeof g=="function"?g(O):g)});rw.displayName="NavLink";var iw=Y.forwardRef(({discover:a="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:c,method:d=oc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:w,...A},U)=>{let P=uw(),X=cw(p,{relative:y}),k=d.toLowerCase()==="get"?"get":"post",C=typeof p=="string"&&Z0.test(p),$=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let nt=Q.nativeEvent.submitter,at=nt?.getAttribute("formmethod")||d;P(nt||Q.currentTarget,{fetcherKey:e,method:at,navigate:r,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:w})};return Y.createElement("form",{ref:U,method:k,action:X,onSubmit:s?g:$,...A,"data-discover":!C&&a==="render"?"true":void 0})});iw.displayName="Form";function aw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(a){let e=Y.useContext(js);return ie(e,aw(a)),e}function sw(a,{target:e,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=g2(),g=Ra(),y=bo(a,{relative:c});return Y.useCallback(E=>{if(L2(E,e)){E.preventDefault();let w=r!==void 0?r:go(g)===go(y);p(a,{replace:w,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,r,s,e,a,o,c,d])}var lw=0,ow=()=>`__${String(++lw)}__`;function uw(){let{router:a}=W0("useSubmit"),{basename:e}=Y.useContext(cr),r=C2();return Y.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=z2(s,e);if(o.navigate===!1){let E=o.fetcherKey||ow();await a.fetch(E,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,r])}function cw(a,{relative:e}={}){let{basename:r}=Y.useContext(cr),s=Y.useContext(qr);ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...bo(a||".",{relative:e})},d=Ra();if(a==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let E=p.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Lr([r,c.pathname])),go(c)}function hw(a,e={}){let r=Y.useContext(H0);ie(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=W0("useViewTransitionState"),o=bo(a,{relative:e.relative});if(!r.isTransitioning)return!1;let c=kr(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=kr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return wc(o.pathname,d)!=null||wc(o.pathname,c)!=null}[...X2];const fw={apiKey:"AIzaSyBJLLh74xMFOLwl67agdd6imcl3ZIglBG8",authDomain:"cinemafocusinventory.firebaseapp.com",projectId:"cinemafocusinventory",storageBucket:"cinemafocusinventory.firebasestorage.app",messagingSenderId:"232322170393",appId:"1:232322170393:web:296907062efd7ec75a7488",measurementId:"G-23G7G2N3PX"},dw=Md(fw),mw=b0(dw);function pw(){const[a,e]=Y.useState([]),[r,s]=Y.useState(),[o,c]=Y.useState(),[d,p]=Y.useState(),[g,y]=Y.useState(),[E,w]=Y.useState(),[A,U]=Y.useState(""),P=[{name:"5.1 System",value:"5.1"},{name:"7.1 System",value:"7.1"},{name:"7.2 System",value:"7.1"},{name:"9.1 System",value:"9.1"},{name:"9.2 System",value:"9.1"},{name:"11.1 System",value:"11.1"},{name:"11.2 System",value:"11.1"},{name:"13.1 System",value:"13.1"},{name:"13.2 System",value:"13.1"}];Y.useEffect(()=>{A&&(async()=>{try{const Q=(await Vi(Ze(mw,A))).docs.map(nt=>nt.data());e(Q)}catch($){console.error("Error fetching data:",$)}})()},[A]);const X=(C,$)=>{const Q=new Set;return C.filter(nt=>nt[$]&&!Q.has(nt[$])?(Q.add(nt[$]),!0):!1)},k=(C,$,Q)=>{const nt=new Set;return C.filter(at=>at[$]&&at.BRAND===Q&&!nt.has(at[$])?(nt.add(at[$]),!0):!1)};return b.jsxs("div",{className:"p-4",children:[b.jsxs("h2",{className:"text-lg font-bold mb-4",children:[A," Surround System"]}),b.jsx("div",{className:"flex-1 mt-2 bg-amber-100 p-3 rounded-xl shadow border border-black flex justify-center items-center ",children:b.jsxs("select",{className:"bg-amber-100 w-full text-sm font-medium outline-none text-center ",id:"surroundType",onChange:C=>U(C.target.value),children:[b.jsx("option",{disabled:!0,selected:!0,children:"Select The Surround Type"}),P.map((C,$)=>b.jsx("option",{value:C.value,children:C.name},$))]})}),b.jsx("p",{className:"font-semibold",children:"Brands"}),b.jsxs("select",{name:"",id:"",value:E,onChange:C=>w(C.target.value),children:[b.jsx("option",{disabled:!0,children:"Select The Brand"}),X(a,"BRAND").map((C,$)=>b.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:C.BRAND},`brand-${$}`))]}),b.jsx("p",{className:"font-semibold",children:"Center"}),b.jsxs("select",{name:"",id:"",value:o,onChange:C=>c(C.target.value),children:[b.jsx("option",{disabled:!0,children:"Select The Model"}),k(a.filter(C=>C.TYPE==="CENTER"),"MODEL",E).map((C,$)=>b.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:C.MODEL},`center-${$}`))]}),b.jsx("p",{className:"font-semibold",children:"L&R"}),b.jsxs("select",{name:"",id:"",value:r,onChange:C=>c(C.target.value),children:[b.jsx("option",{disabled:!0,children:"Select The Model"}),k(a.filter(C=>C.TYPE==="LEFT RIGHT"),"MODEL",E).map((C,$)=>b.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:C.MODEL},`lr-${$}`))]}),b.jsx("p",{className:"font-semibold",children:"Surround"}),b.jsxs("select",{name:"",id:"",value:d,onChange:C=>p(C.target.value),children:[b.jsx("option",{disabled:!0,children:"Select The Model"}),k(a.filter(C=>C.TYPE==="SURROUND"),"MODEL",E).map((C,$)=>b.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:C.MODEL},`surround-${$}`))]}),b.jsx("p",{className:"font-semibold",children:"Sub"}),b.jsxs("select",{name:"",id:"",value:g,onChange:C=>y(C.target.value),children:[b.jsx("option",{disabled:!0,children:"Select The Model"}),k(a.filter(C=>C.TYPE==="SUB"),"MODEL",E).map((C,$)=>b.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:C.MODEL},`sub-${$}`))]}),b.jsx("p",{className:"font-semibold",children:"Atmos"}),b.jsxs("select",{name:"",id:"",value:g,onChange:C=>y(C.target.value),children:[b.jsx("option",{disabled:!0,children:"Select The Model"}),k(a.filter(C=>C.TYPE==="ATMOS"),"MODEL",E).map((C,$)=>b.jsx("option",{className:"mb-4 p-4 border rounded shadow",children:C.MODEL},`sub-${$}`))]})]})}const gw=()=>{const[a,e]=Y.useState([]),r=[{BRAND:"DENON",MODEL:"AVR-X250BT",PRICE:52900},{BRAND:"DENON",MODEL:"AVR-X580BT",PRICE:73900},{BRAND:"DENON",MODEL:"AVC-A1H",PRICE:799900},{BRAND:"DENON",MODEL:"AVC-A10H",PRICE:599900},{BRAND:"DENON",MODEL:"AVRX-1800H",PRICE:104900},{BRAND:"DENON",MODEL:"AVR-X2800H",PRICE:144990},{BRAND:"DENON",MODEL:"AVC-X3800H",PRICE:209900},{BRAND:"DENON",MODEL:"AVRX-4800H",PRICE:299900},{BRAND:"DENON",MODEL:"AVC-X6800H",PRICE:469900}],s=async()=>{try{for(const c of r)await Ri(Ze(qe,"Amplifiers"),c),console.log("Uploaded:",c);alert("All amplifiers uploaded successfully!")}catch(c){console.error("Upload error:",c),alert("Failed to upload data.")}},o=async()=>{try{const c=await Vi(Ze(qe,"Amplifiers")),d=[];c.forEach(p=>{d.push({id:p.id,...p.data()})}),e(d)}catch(c){console.error("Error fetching amplifiers:",c)}};return Y.useEffect(()=>{o()},[]),b.jsxs("div",{className:"p-4",children:[b.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800",children:"Upload Amplifier Data"}),b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Amplifier List"}),a.length===0?b.jsx("p",{children:"Loading..."}):b.jsxs("table",{className:"min-w-full border",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-gray-200",children:[b.jsx("th",{className:"border px-4 py-2",children:"Brand"}),b.jsx("th",{className:"border px-4 py-2",children:"Model"}),b.jsx("th",{className:"border px-4 py-2",children:"Price"})]})}),b.jsx("tbody",{children:a.map(c=>b.jsxs("tr",{children:[b.jsx("td",{className:"border px-4 py-2",children:c.BRAND}),b.jsx("td",{className:"border px-4 py-2",children:c.MODEL}),b.jsxs("td",{className:"border px-4 py-2",children:["",c.PRICE]})]},c.id))})]})]})},yw=()=>{const[a,e]=Y.useState([]),[r,s]=Y.useState(!1),o={"16:9":[100,120,135,150,160,180],"2:3:5":[160,170,200,210]},c=()=>{const g=o["2:3:5"].filter(E=>E!==null);return{"16:9":o["16:9"].slice(0,g.length),"2:3:5":g}},d=async()=>{const g=c();try{await Ri(Ze(qe,"SignatureScreen"),g),alert("Data uploaded successfully!"),s(y=>!y)}catch(y){console.error("Upload error:",y),alert("Failed to upload data.")}},p=async()=>{try{const g=await Vi(Ze(qe,"SignatureScreen")),y=[];g.forEach(E=>{y.push(E.data())}),e(y)}catch(g){console.error("Fetch error:",g)}};return Y.useEffect(()=>{p()},[r]),b.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[b.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[b.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 w-full",children:"Upload Cleaned Signature Data"}),b.jsxs("div",{className:"border p-4 bg-white rounded shadow",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cleaned Preview"}),b.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-auto",children:JSON.stringify(c(),null,2)})]})]}),b.jsxs("div",{className:"w-full lg:w-1/2",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:"SignatureScreen Data"}),a.length===0?b.jsx("p",{children:"No data found."}):b.jsx("div",{className:"space-y-4",children:a.map((g,y)=>b.jsxs("div",{className:"border p-3 rounded bg-gray-50 shadow-sm",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"16:9:"})," ",g["16:9"]?.join(", ")]}),b.jsxs("p",{children:[b.jsx("strong",{children:"2:3:5:"})," ",g["2:3:5"]?.join(", ")]})]},y))})]})]})})},vw=()=>{const[a,e]=Y.useState([]),[r,s]=Y.useState({BRAND:"",MODEL:"",PRICE:""}),[o,c]=Y.useState(""),d=[{BRAND:"SONY",MODEL:"5000ES",PRICE:425e3},{BRAND:"SONY",MODEL:"7000ES",PRICE:119e3},{BRAND:"SONY",MODEL:"BRAVIA7",PRICE:575e3},{BRAND:"SONY",MODEL:"BRAVIA9",PRICE:165e3}],p=async()=>{try{for(const U of d)await Ri(Ze(qe,"Projectors"),U);alert("Default projectors uploaded!"),A()}catch(U){console.error("Upload error:",U),alert("Failed to upload default data.")}},g=U=>{const{name:P,value:X}=U.target;s(k=>({...k,[P]:P==="PRICE"?parseInt(X)||"":X}))},y=async()=>{const{BRAND:U,MODEL:P,PRICE:X}=r;if(!U||!P||!X){alert("Fill in all fields.");return}try{await Ri(Ze(qe,"Projectors"),r),alert("Custom projector added!"),s({BRAND:"",MODEL:"",PRICE:""}),A()}catch(k){console.error("Upload error:",k),alert("Failed to upload custom projector.")}},E=async()=>{try{const U=JSON.parse(o);if(!Array.isArray(U))throw new Error("JSON must be an array");for(const P of U){if(!P.BRAND||!P.MODEL||!P.PRICE){alert("Each item must have BRAND, MODEL, PRICE.");return}await Ri(Ze(qe,"Projectors"),P)}alert("JSON data uploaded!"),c(""),A()}catch(U){console.error("JSON Upload Error:",U),alert("Invalid JSON format.")}},w=async U=>{try{await U0(lm(qe,"Projectors",U)),A()}catch(P){console.error("Delete error:",P),alert("Failed to delete.")}},A=async()=>{try{const U=await Vi(Ze(qe,"Projectors")),P=[];U.forEach(X=>{P.push({id:X.id,...X.data()})}),e(P)}catch(U){console.error("Fetch error:",U)}};return Y.useEffect(()=>{A()},[]),b.jsx("div",{className:"p-4 max-w-full mx-auto",children:b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[b.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[b.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800 w-full",children:"Upload Default Projectors"}),b.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[b.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Add Custom Projector"}),b.jsx("input",{name:"BRAND",placeholder:"Brand",value:r.BRAND,onChange:g,className:"w-full border p-2 rounded mb-2"}),b.jsx("input",{name:"MODEL",placeholder:"Model",value:r.MODEL,onChange:g,className:"w-full border p-2 rounded mb-2"}),b.jsx("input",{name:"PRICE",placeholder:"Price",type:"number",value:r.PRICE,onChange:g,className:"w-full border p-2 rounded mb-2"}),b.jsx("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-800 w-full",children:"Add Projector"})]}),b.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[b.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upload from JSON"}),b.jsx("textarea",{value:o,onChange:U=>c(U.target.value),rows:6,placeholder:`[
  {"BRAND":"JVC","MODEL":"NZ8","PRICE":899000},
  {"BRAND":"EPSON","MODEL":"TW9400","PRICE":289000}
]`,className:"w-full border p-2 rounded font-mono mb-2"}),b.jsx("button",{onClick:E,className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-800 w-full",children:"Upload JSON"})]})]}),b.jsxs("div",{className:"w-full lg:w-1/2 over hidden h-screen lg:block",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Projector List"}),a.length===0?b.jsx("p",{children:"Loading..."}):b.jsx("div",{className:"overflow-x-auto border rounded shadow bg-white",children:b.jsxs("table",{className:"min-w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-gray-200 text-left",children:[b.jsx("th",{className:"border px-4 py-2",children:"Brand"}),b.jsx("th",{className:"border px-4 py-2",children:"Model"}),b.jsx("th",{className:"border px-4 py-2",children:"Price"}),b.jsx("th",{className:"border px-4 py-2",children:"Action"})]})}),b.jsx("tbody",{children:a.map(U=>b.jsxs("tr",{children:[b.jsx("td",{className:"border px-4 py-2",children:U.BRAND}),b.jsx("td",{className:"border px-4 py-2",children:U.MODEL}),b.jsxs("td",{className:"border px-4 py-2",children:["",U.PRICE]}),b.jsx("td",{className:"border px-4 py-2",children:b.jsx("button",{onClick:()=>w(U.id),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-800",children:"Remove"})})]},U.id))})]})})]})]})})},Kv={"7.2":[[{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE 40",TYPE:"LEFT RIGHT",PRICE:225e3,COUNT:2},{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE 10",TYPE:"CENTER",PRICE:9e4,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE 6",TYPE:"SURROUND",PRICE:91e3,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:"SIGNATURE SUB",TYPE:"SUB",PRICE:135e3,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:"SS82 ",TYPE:"ATMOS ",PRICE:38e3,COUNT:1},{BRAND:"SYSTEM AUDIO",MODEL:" IQ8S",TYPE:"ATMOS ",PRICE:21e3,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"QR 5",TYPE:"LEFT RIGHT",PRICE:484e3,COUNT:2},{BRAND:"AUDIO VECTOR",MODEL:"QR CENTER",TYPE:"CENTER",PRICE:165e3,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"QR WALL",TYPE:"SURROUND ",PRICE:1e5,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"QR SUB",TYPE:"SUB",PRICE:23e4,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:"SS82 ",TYPE:"ATMOS ",PRICE:38e3,COUNT:1},{BRAND:"AUDIO VECTOR",MODEL:" IQ8S",TYPE:"ATMOS ",PRICE:21e3,COUNT:1}]]},_w=()=>{const[a,e]=Y.useState([]),[r,s]=Y.useState({surround:"",BRAND:"",MODEL:"",TYPE:"",PRICE:"",COUNT:""}),[o,c]=Y.useState(""),[d,p]=Y.useState(""),[g,y]=Y.useState("All"),E=Object.keys(Kv),w=async()=>{const C=[];for(const $ of E)(await Vi(Ze(qe,$))).forEach(nt=>{C.push({id:nt.id,surround:$,...nt.data()})});e(C)},A=async()=>{try{for(const[C,$]of Object.entries(Kv))for(const Q of $)for(const nt of Q)await Ri(Ze(qe,C),nt);alert(" Surround data uploaded!"),w()}catch(C){console.error("Upload failed:",C),alert(" Upload failed. Check console.")}},U=async()=>{const{surround:C,BRAND:$,MODEL:Q,TYPE:nt,PRICE:at,COUNT:yt}=r;if(!C||!$||!Q||!nt||!at||!yt){alert("Please fill all fields");return}try{await Ri(Ze(qe,C),{BRAND:$,MODEL:Q,TYPE:nt,PRICE:parseFloat(at),COUNT:yt}),alert(" Custom speaker added!"),s({surround:"",BRAND:"",MODEL:"",TYPE:"",PRICE:"",COUNT:""}),w()}catch(O){console.error("Custom upload failed:",O),alert(" Failed to add custom speaker.")}},P=async()=>{try{const C=JSON.parse(o);for(const[$,Q]of Object.entries(C))for(const nt of Q)for(const at of nt){if(!at.BRAND||!at.MODEL||!at.TYPE||!at.PRICE||!at.COUNT){alert("Invalid JSON format.");return}await Ri(Ze(qe,$),at)}alert(" JSON uploaded!"),c(""),w()}catch(C){console.error("JSON Upload Error:",C),alert(" Invalid JSON input.")}},X=async(C,$)=>{try{await U0(lm(qe,$,C)),w()}catch(Q){console.error("Delete failed:",Q)}},k=a.filter(C=>{const Q=(C.MODEL||"").toLowerCase().includes(d.toLowerCase()),nt=g==="All"||C.surround===g;return Q&&nt});return Y.useEffect(()=>{w()},[]),b.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[b.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[b.jsx("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-800",children:"Upload Default Surround JSON"}),b.jsxs("div",{className:"border p-4 rounded shadow bg-white space-y-2",children:[b.jsx("h2",{className:"text-lg font-semibold",children:"Add Custom Speaker"}),["surround","BRAND","MODEL","TYPE","PRICE","COUNT"].map(C=>b.jsx("input",{name:C,placeholder:C,value:r[C],onChange:$=>s(Q=>({...Q,[C]:$.target.value})),className:"w-full border p-2 rounded"},C)),b.jsx("button",{onClick:U,className:"bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-800",children:"Add Speaker"})]}),b.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload via JSON"}),b.jsx("textarea",{rows:6,value:o,onChange:C=>c(C.target.value),placeholder:`{
  "5.1": [[
    {"BRAND": "Sony", "MODEL": "SS-CS3", "TYPE": "LEFT RIGHT", "PRICE": 29999, "COUNT": "PAIR"}
  ]]
}`,className:"w-full border p-2 rounded font-mono"}),b.jsx("button",{onClick:P,className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded w-full hover:bg-purple-800",children:"Upload JSON"})]})]}),b.jsxs("div",{className:"w-full lg:w-1/2 space-y-4",children:[b.jsx("h2",{className:"text-2xl font-bold",children:"Surround Speaker List"}),b.jsxs("div",{className:"flex gap-4 mb-2",children:[b.jsx("input",{type:"text",placeholder:"Search by model",value:d,onChange:C=>p(C.target.value),className:"w-full border px-3 py-2 rounded"}),b.jsxs("select",{value:g,onChange:C=>y(C.target.value),className:"border px-3 py-2 rounded",children:[b.jsx("option",{value:"All",children:"All Surround"}),E.map(C=>b.jsx("option",{value:C,children:C},C))]})]}),k.length===0?b.jsx("p",{children:"No matching data found."}):b.jsx("div",{className:"overflow-x-auto border rounded shadow bg-white",children:b.jsxs("table",{className:"min-w-full text-sm",children:[b.jsx("thead",{className:"bg-gray-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"border px-3 py-2",children:"Surround"}),b.jsx("th",{className:"border px-3 py-2",children:"Brand"}),b.jsx("th",{className:"border px-3 py-2",children:"Model"}),b.jsx("th",{className:"border px-3 py-2",children:"Type"}),b.jsx("th",{className:"border px-3 py-2",children:"Price"}),b.jsx("th",{className:"border px-3 py-2",children:"Count"}),b.jsx("th",{className:"border px-3 py-2",children:"Action"})]})}),b.jsx("tbody",{children:k.map(C=>b.jsxs("tr",{children:[b.jsx("td",{className:"border px-3 py-2",children:C.surround}),b.jsx("td",{className:"border px-3 py-2",children:C.BRAND}),b.jsx("td",{className:"border px-3 py-2",children:C.MODEL}),b.jsx("td",{className:"border px-3 py-2",children:C.TYPE}),b.jsxs("td",{className:"border px-3 py-2",children:["",C.PRICE]}),b.jsx("td",{className:"border px-3 py-2",children:C.COUNT}),b.jsx("td",{className:"border px-3 py-2",children:b.jsx("button",{onClick:()=>X(C.id,C.surround),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-800",children:"Remove"})})]},C.id))})]})})]})]})})};function Ew(){return b.jsx(nw,{basename:"/cfproject",children:b.jsxs(I2,{children:[b.jsx(vi,{path:"/",element:b.jsx(zR,{})}),b.jsx(vi,{path:"/manage",element:b.jsx(Audio,{})}),b.jsx(vi,{path:"/add",element:b.jsx(pw,{})}),b.jsx(vi,{path:"/test",element:b.jsx(gw,{})}),b.jsx(vi,{path:"/screen",element:b.jsx(yw,{})}),b.jsx(vi,{path:"/proj",element:b.jsx(vw,{})}),b.jsx(vi,{path:"/surr",element:b.jsx(_w,{})})]})})}VT.createRoot(document.getElementById("root")).render(b.jsx(Y.StrictMode,{children:b.jsx(Ew,{})}));
